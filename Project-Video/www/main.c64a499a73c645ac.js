(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{2197:(en,st,B)=>{"use strict";B.d(st,{nm:()=>ai});var u=B(423),Se=(B(3363),B(3417),B(9826),B(7036)),re=B(5875),W=B(6864),we=B(9330),fe=B(6462);const te=new Map,Y={activated:!1,tokenObservers:[]},ye={initialized:!1,enabled:!1};function ae(qe){return te.get(qe)||Object.assign({},Y)}function Fe(){return ye}class Dt{constructor(N,U,ie,he,ke){if(this.operation=N,this.retryPolicy=U,this.getWaitDuration=ie,this.lowerBound=he,this.upperBound=ke,this.pending=null,this.nextErrorWaitInterval=he,he>ke)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(N){var U=this;return(0,Se.Z)(function*(){U.stop();try{U.pending=new we.BH,yield function Ot(qe){return new Promise(N=>{setTimeout(N,qe)})}(U.getNextRun(N)),U.pending.resolve(),yield U.pending.promise,U.pending=new we.BH,yield U.operation(),U.pending.resolve(),yield U.pending.promise,U.process(!0).catch(()=>{})}catch(ie){U.retryPolicy(ie)?U.process(!1).catch(()=>{}):U.stop()}})()}getNextRun(N){if(N)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const U=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),U}}}const Ye=new we.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ge(qe){if(!ae(qe).activated)throw Ye.create("use-before-activation",{appName:qe.name})}function ee(qe,N){return le.apply(this,arguments)}function le(){return(le=(0,Se.Z)(function*({url:qe,body:N},U){var ie,he;const ke={"Content-Type":"application/json"},ne=U.getImmediate({optional:!0});if(ne){const gn=yield ne.getHeartbeatsHeader();gn&&(ke["X-Firebase-Client"]=gn)}const Ae={method:"POST",body:JSON.stringify(N),headers:ke};let Le,ft;try{Le=yield fetch(qe,Ae)}catch(gn){throw Ye.create("fetch-network-error",{originalErrorMessage:null===(ie=gn)||void 0===ie?void 0:ie.message})}if(200!==Le.status)throw Ye.create("fetch-status-error",{httpStatus:Le.status});try{ft=yield Le.json()}catch(gn){throw Ye.create("fetch-parse-error",{originalErrorMessage:null===(he=gn)||void 0===he?void 0:he.message})}const _t=ft.ttl.match(/^([\d.]+)(s)$/);if(!_t||!_t[2]||isNaN(Number(_t[1])))throw Ye.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${ft.ttl}`});const Vt=1e3*Number(_t[1]),qt=Date.now();return{token:ft.token,expireTimeMillis:qt+Vt,issuedAtTimeMillis:qt}})).apply(this,arguments)}function wt(qe,N){const{projectId:U,appId:ie,apiKey:he}=qe.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${U}/apps/${ie}:exchangeDebugToken?key=${he}`,body:{debug_token:N}}}const He="firebase-app-check-store";let Be=null;function Ve(){return Be||(Be=new Promise((qe,N)=>{var U;try{const ie=indexedDB.open("firebase-app-check-database",1);ie.onsuccess=he=>{qe(he.target.result)},ie.onerror=he=>{var ke;N(Ye.create("storage-open",{originalErrorMessage:null===(ke=he.target.error)||void 0===ke?void 0:ke.message}))},ie.onupgradeneeded=he=>{0===he.oldVersion&&he.target.result.createObjectStore(He,{keyPath:"compositeKey"})}}catch(ie){N(Ye.create("storage-open",{originalErrorMessage:null===(U=ie)||void 0===U?void 0:U.message}))}}),Be)}function yn(){return(yn=(0,Se.Z)(function*(qe,N){const ie=(yield Ve()).transaction(He,"readwrite"),ke=ie.objectStore(He).put({compositeKey:qe,value:N});return new Promise((ne,Ae)=>{ke.onsuccess=Le=>{ne()},ie.onerror=Le=>{var ft;Ae(Ye.create("storage-set",{originalErrorMessage:null===(ft=Le.target.error)||void 0===ft?void 0:ft.message}))}})})).apply(this,arguments)}const Yn=new fe.Yd("@firebase/app-check");function Mt(qe,N){return(0,we.hl)()?function Ut(qe,N){return function _n(qe,N){return yn.apply(this,arguments)}(function Sn(qe){return`${qe.options.appId}-${qe.name}`}(qe),N)}(qe,N).catch(U=>{Yn.warn(`Failed to write token to IndexedDB. Error: ${U}`)}):Promise.resolve()}function Bt(){return Fe().enabled}function on(){return gt.apply(this,arguments)}function gt(){return(gt=(0,Se.Z)(function*(){const qe=Fe();if(qe.enabled&&qe.token)return qe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Un={error:"UNKNOWN_ERROR"};function _r(qe){return we.US.encodeString(JSON.stringify(qe),!1)}function qn(qe){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,Se.Z)(function*(qe,N=!1){const U=qe.app;Ge(U);const ie=ae(U);let ke,he=ie.token;if(he&&!fr(he)&&(ie.token=void 0,he=void 0),!he){const Le=yield ie.cachedTokenPromise;Le&&(fr(Le)?he=Le:yield Mt(U,void 0))}if(!N&&he&&fr(he))return{token:he.token};let Ae,ne=!1;if(Bt()){ie.exchangeTokenPromise||(ie.exchangeTokenPromise=ee(wt(U,yield on()),qe.heartbeatServiceProvider).finally(()=>{ie.exchangeTokenPromise=void 0}),ne=!0);const Le=yield ie.exchangeTokenPromise;return yield Mt(U,Le),ie.token=Le,{token:Le.token}}try{ie.exchangeTokenPromise||(ie.exchangeTokenPromise=ie.provider.getToken().finally(()=>{ie.exchangeTokenPromise=void 0}),ne=!0),he=yield ae(U).exchangeTokenPromise}catch(Le){"appCheck/throttled"===Le.code?Yn.warn(Le.message):Yn.error(Le),ke=Le}return he?ke?Ae=fr(he)?{token:he.token,internalError:ke}:hn(ke):(Ae={token:he.token},ie.token=he,yield Mt(U,he)):Ae=hn(ke),ne&&En(U,Ae),Ae})).apply(this,arguments)}function Rr(qe,N){const U=ae(qe),ie=U.tokenObservers.filter(he=>he.next!==N);0===ie.length&&U.tokenRefresher&&U.tokenRefresher.isRunning()&&U.tokenRefresher.stop(),U.tokenObservers=ie}function Cr(qe){const{app:N}=qe,U=ae(N);let ie=U.tokenRefresher;ie||(ie=function $n(qe){const{app:N}=qe;return new Dt((0,Se.Z)(function*(){let ie;if(ie=ae(N).token?yield qn(qe,!0):yield qn(qe),ie.error)throw ie.error;if(ie.internalError)throw ie.internalError}),()=>!0,()=>{const U=ae(N);if(U.token){let ie=U.token.issuedAtTimeMillis+.5*(U.token.expireTimeMillis-U.token.issuedAtTimeMillis)+3e5;return ie=Math.min(ie,U.token.expireTimeMillis-3e5),Math.max(0,ie-Date.now())}return 0},3e4,96e4)}(qe),U.tokenRefresher=ie),!ie.isRunning()&&U.isTokenAutoRefreshEnabled&&ie.start()}function En(qe,N){const U=ae(qe).tokenObservers;for(const ie of U)try{"EXTERNAL"===ie.type&&null!=N.error?ie.error(N.error):ie.next(N)}catch{}}function fr(qe){return qe.expireTimeMillis-Date.now()>0}function hn(qe){return{token:_r(Un),error:qe}}class Vn{constructor(N,U){this.app=N,this.heartbeatServiceProvider=U}_delete(){const{tokenObservers:N}=ae(this.app);for(const U of N)Rr(this.app,U.next);return Promise.resolve()}}const or="app-check-internal";!function Hn(){(0,re.Xd)(new W.wA("app-check",qe=>function jn(qe,N){return new Vn(qe,N)}(qe.getProvider("app").getImmediate(),qe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((qe,N,U)=>{qe.getProvider(or).initialize()})),(0,re.Xd)(new W.wA(or,qe=>function Nn(qe){return{getToken:N=>qn(qe,N),addTokenListener:N=>function tn(qe,N,U,ie){const{app:he}=qe,ke=ae(he);if(ke.tokenObservers=[...ke.tokenObservers,{next:U,error:ie,type:N}],ke.token&&fr(ke.token)){const Ae=ke.token;Promise.resolve().then(()=>{U({token:Ae.token}),Cr(qe)}).catch(()=>{})}ke.cachedTokenPromise.then(()=>Cr(qe))}(qe,"INTERNAL",N),removeTokenListener:N=>Rr(qe.app,N)}}(qe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,re.KN)("@firebase/app-check","0.5.17")}();class ai{constructor(){return(0,u.vb)("app-check")}}typeof window<"u"&&window},3417:(en,st,B)=>{"use strict";B.d(st,{Ot:()=>Pe,ZF:()=>$e,hX:()=>ae,z6:()=>Se});var u=B(9826),J=B(3363),Z=B(423);class Pe{constructor(Dt){return Dt}}class Se{constructor(){return(0,u.C6)()}}const we=new J.OlP("angularfire2._apps"),fe={provide:Pe,useFactory:function W(at){return at&&1===at.length?at[0]:new Pe((0,u.Mq)())},deps:[[new J.FiY,we]]},te={provide:Se,deps:[[new J.FiY,we]]};function Y(at){return(Dt,Ot)=>{const Ke=Dt.runOutsideAngular(()=>at(Ot));return new Pe(Ke)}}let ye=(()=>{class at{constructor(Ot){(0,u.KN)("angularfire",Z.q4.full,"core"),(0,u.KN)("angularfire",Z.q4.full,"app"),(0,u.KN)("angular",J.q4F.full,Ot.toString())}}return at.\u0275fac=function(Ot){return new(Ot||at)(J.LFG(J.Lbi))},at.\u0275mod=J.oAB({type:at}),at.\u0275inj=J.cJS({providers:[fe,te]}),at})();function ae(at,...Dt){return{ngModule:ye,providers:[{provide:we,useFactory:Y(at),multi:!0,deps:[J.R0b,J.zs3,Z.HU,...Dt]}]}}const $e=(0,Z.u3)(u.ZF,!0)},3183:(en,st,B)=>{"use strict";B.d(st,{dh:()=>Eo,v0:()=>ss,AR:()=>Dr});var u=B(423),J=B(3363),Z=B(3417),Pe=B(9826),Se=B(2197),re=B(7036),W=B(9330),we=B(5875),fe=B(6462),te=B(4254),Y=B(6864);const rt=function be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},at=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ot=new fe.Yd("@firebase/auth");function Ke(C,...f){Ot.logLevel<=fe.in.ERROR&&Ot.error(`Auth (${we.Jn}): ${C}`,...f)}function Ye(C,...f){throw ce(C,...f)}function Me(C,...f){return ce(C,...f)}function Ge(C,f,m){const A=Object.assign(Object.assign({},rt()),{[f]:m});return new W.LL("auth","Firebase",A).create(f,{appName:C.name})}function ce(C,...f){if("string"!=typeof C){const m=f[0],A=[...f.slice(1)];return A[0]&&(A[0].appName=C.name),C._errorFactory.create(m,...A)}return at.create(C,...f)}function ee(C,f,...m){if(!C)throw ce(f,...m)}function le(C){const f="INTERNAL ASSERTION FAILED: "+C;throw Ke(f),new Error(f)}function Xe(C,f){C||le(f)}const tt=new Map;function wt(C){Xe(C instanceof Function,"Expected a class definition");let f=tt.get(C);return f?(Xe(f instanceof C,"Instance stored in cache mismatched with class"),f):(f=new C,tt.set(C,f),f)}function He(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Be(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Ut{constructor(f,m){this.shortDelay=f,this.longDelay=m,Xe(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return function Ve(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function ze(){return"http:"===Be()||"https:"===Be()}()||(0,W.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $t(C,f){Xe(C.emulator,"Emulator should always be set here");const{url:m}=C.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class yt{static initialize(f,m,A){this.fetchImpl=f,m&&(this.headersImpl=m),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _n={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},yn=new Ut(3e4,6e4);function dn(C,f){return C.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:C.tenantId}):f}function fn(C,f,m,A){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,re.Z)(function*(C,f,m,A,K={}){return Yn(C,K,(0,re.Z)(function*(){let ue={},Qe={};A&&("GET"===f?Qe=A:ue={body:JSON.stringify(A)});const Rt=(0,W.xO)(Object.assign({key:C.config.apiKey},Qe)).slice(1),pn=yield C._getAdditionalHeaders();return pn["Content-Type"]="application/json",C.languageCode&&(pn["X-Firebase-Locale"]=C.languageCode),yt.fetch()(bt(C,C.config.apiHost,m,Rt),Object.assign({method:f,headers:pn,referrerPolicy:"no-referrer"},ue))}))})).apply(this,arguments)}function Yn(C,f,m){return ar.apply(this,arguments)}function ar(){return(ar=(0,re.Z)(function*(C,f,m){C._canInitEmulator=!1;const A=Object.assign(Object.assign({},_n),f);try{const K=new sn(C),ue=yield Promise.race([m(),K.promise]);K.clearNetworkTimeout();const Qe=yield ue.json();if("needConfirmation"in Qe)throw Bt(C,"account-exists-with-different-credential",Qe);if(ue.ok&&!("errorMessage"in Qe))return Qe;{const Rt=ue.ok?Qe.errorMessage:Qe.error.message,[pn,bn]=Rt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===pn)throw Bt(C,"credential-already-in-use",Qe);if("EMAIL_EXISTS"===pn)throw Bt(C,"email-already-in-use",Qe);if("USER_DISABLED"===pn)throw Bt(C,"user-disabled",Qe);const hr=A[pn]||pn.toLowerCase().replace(/[_\s]+/g,"-");if(bn)throw Ge(C,hr,bn);Ye(C,hr)}}catch(K){if(K instanceof W.ZR)throw K;Ye(C,"network-request-failed")}})).apply(this,arguments)}function Ct(C,f,m,A){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,re.Z)(function*(C,f,m,A,K={}){const ue=yield fn(C,f,m,A,K);return"mfaPendingCredential"in ue&&Ye(C,"multi-factor-auth-required",{_serverResponse:ue}),ue})).apply(this,arguments)}function bt(C,f,m,A){const K=`${f}${m}?${A}`;return C.config.emulator?$t(C.config,K):`${C.config.apiScheme}://${K}`}class sn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,A)=>{this.timer=setTimeout(()=>A(Me(this.auth,"network-request-failed")),yn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bt(C,f,m){const A={appName:C.name};m.email&&(A.email=m.email),m.phoneNumber&&(A.phoneNumber=m.phoneNumber);const K=Me(C,f,A);return K.customData._tokenResponse=m,K}function gt(){return(gt=(0,re.Z)(function*(C,f){return fn(C,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function _r(C,f){return qn.apply(this,arguments)}function qn(){return(qn=(0,re.Z)(function*(C,f){return fn(C,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Wt(C){if(C)try{const f=new Date(Number(C));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Cr(){return(Cr=(0,re.Z)(function*(C,f=!1){const m=(0,W.m9)(C),A=yield m.getIdToken(f),K=En(A);ee(K&&K.exp&&K.auth_time&&K.iat,m.auth,"internal-error");const ue="object"==typeof K.firebase?K.firebase:void 0,Qe=ue?.sign_in_provider;return{claims:K,token:A,authTime:Wt($n(K.auth_time)),issuedAtTime:Wt($n(K.iat)),expirationTime:Wt($n(K.exp)),signInProvider:Qe||null,signInSecondFactor:ue?.sign_in_second_factor||null}})).apply(this,arguments)}function $n(C){return 1e3*Number(C)}function En(C){var f;const[m,A,K]=C.split(".");if(void 0===m||void 0===A||void 0===K)return Ke("JWT malformed, contained fewer than 3 sections"),null;try{const ue=(0,W.tV)(A);return ue?JSON.parse(ue):(Ke("Failed to decode base64 JWT payload"),null)}catch(ue){return Ke("Caught error parsing JWT payload as JSON",null===(f=ue)||void 0===f?void 0:f.toString()),null}}function hn(C,f){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,re.Z)(function*(C,f,m=!1){if(m)return f;try{return yield f}catch(A){throw A instanceof W.ZR&&jn(A)&&C.auth.currentUser===C&&(yield C.auth.signOut()),A}})).apply(this,arguments)}function jn({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class Nn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const K=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const A=this.getInterval(f);this.timerId=setTimeout((0,re.Z)(function*(){yield m.iteration()}),A)}iteration(){var f=this;return(0,re.Z)(function*(){var m;try{yield f.user.getIdToken(!0)}catch(A){return void("auth/network-request-failed"===(null===(m=A)||void 0===m?void 0:m.code)&&f.schedule(!0))}f.schedule()})()}}class Zr{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wt(this.lastLoginAt),this.creationTime=Wt(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Tr(C){return jt.apply(this,arguments)}function jt(){return(jt=(0,re.Z)(function*(C){var f;const m=C.auth,A=yield C.getIdToken(),K=yield hn(C,_r(m,{idToken:A}));ee(K?.users.length,m,"internal-error");const ue=K.users[0];C._notifyReloadListener(ue);const Qe=null!==(f=ue.providerUserInfo)&&void 0!==f&&f.length?In(ue.providerUserInfo):[],Rt=wn(C.providerData,Qe),hr=!!C.isAnonymous&&!(C.email&&ue.passwordHash||Rt?.length),Ur={uid:ue.localId,displayName:ue.displayName||null,photoURL:ue.photoUrl||null,email:ue.email||null,emailVerified:ue.emailVerified||!1,phoneNumber:ue.phoneNumber||null,tenantId:ue.tenantId||null,providerData:Rt,metadata:new Zr(ue.createdAt,ue.lastLoginAt),isAnonymous:hr};Object.assign(C,Ur)})).apply(this,arguments)}function Gt(){return(Gt=(0,re.Z)(function*(C){const f=(0,W.m9)(C);yield Tr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function wn(C,f){return[...C.filter(A=>!f.some(K=>K.providerId===A.providerId)),...f]}function In(C){return C.map(f=>{var{providerId:m}=f,A=(0,te._T)(f,["providerId"]);return{providerId:m,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function Ce(){return(Ce=(0,re.Z)(function*(C,f){const m=yield Yn(C,{},(0,re.Z)(function*(){const A=(0,W.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:K,apiKey:ue}=C.config,Qe=bt(C,K,"/v1/token",`key=${ue}`),Rt=yield C._getAdditionalHeaders();return Rt["Content-Type"]="application/x-www-form-urlencoded",yt.fetch()(Qe,{method:"POST",headers:Rt,body:A})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ie{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ee(f.idToken,"internal-error"),ee(typeof f.idToken<"u","internal-error"),ee(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function fr(C){const f=En(C);return ee(f,"internal-error"),ee(typeof f.exp<"u","internal-error"),ee(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var A=this;return(0,re.Z)(function*(){return ee(!A.accessToken||A.refreshToken,f,"user-token-expired"),m||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(f,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var A=this;return(0,re.Z)(function*(){const{accessToken:K,refreshToken:ue,expiresIn:Qe}=yield function an(C,f){return Ce.apply(this,arguments)}(f,m);A.updateTokensAndExpiration(K,ue,Number(Qe))})()}updateTokensAndExpiration(f,m,A){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(f,m){const{refreshToken:A,accessToken:K,expirationTime:ue}=m,Qe=new Ie;return A&&(ee("string"==typeof A,"internal-error",{appName:f}),Qe.refreshToken=A),K&&(ee("string"==typeof K,"internal-error",{appName:f}),Qe.accessToken=K),ue&&(ee("number"==typeof ue,"internal-error",{appName:f}),Qe.expirationTime=ue),Qe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Ie,this.toJSON())}_performRefresh(){return le("not implemented")}}function Te(C,f){ee("string"==typeof C||typeof C>"u","internal-error",{appName:f})}class lt{constructor(f){var{uid:m,auth:A,stsTokenManager:K}=f,ue=(0,te._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=A,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=ue.displayName||null,this.email=ue.email||null,this.emailVerified=ue.emailVerified||!1,this.phoneNumber=ue.phoneNumber||null,this.photoURL=ue.photoURL||null,this.isAnonymous=ue.isAnonymous||!1,this.tenantId=ue.tenantId||null,this.providerData=ue.providerData?[...ue.providerData]:[],this.metadata=new Zr(ue.createdAt||void 0,ue.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,re.Z)(function*(){const A=yield hn(m,m.stsTokenManager.getToken(m.auth,f));return ee(A,m.auth,"internal-error"),m.accessToken!==A&&(m.accessToken=A,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),A})()}getIdTokenResult(f){return function Rr(C){return Cr.apply(this,arguments)}(this,f)}reload(){return function vt(C){return Gt.apply(this,arguments)}(this)}_assign(f){this!==f&&(ee(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new lt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var A=this;return(0,re.Z)(function*(){let K=!1;f.idToken&&f.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(f),K=!0),m&&(yield Tr(A)),yield A.auth._persistUserIfCurrent(A),K&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var f=this;return(0,re.Z)(function*(){const m=yield f.getIdToken();return yield hn(f,function on(C,f){return gt.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var A,K,ue,Qe,Rt,pn,bn,hr;const Ur=null!==(A=m.displayName)&&void 0!==A?A:void 0,no=null!==(K=m.email)&&void 0!==K?K:void 0,tu=null!==(ue=m.phoneNumber)&&void 0!==ue?ue:void 0,bl=null!==(Qe=m.photoURL)&&void 0!==Qe?Qe:void 0,Il=null!==(Rt=m.tenantId)&&void 0!==Rt?Rt:void 0,El=null!==(pn=m._redirectEventId)&&void 0!==pn?pn:void 0,Ld=null!==(bn=m.createdAt)&&void 0!==bn?bn:void 0,$d=null!==(hr=m.lastLoginAt)&&void 0!==hr?hr:void 0,{uid:Fc,emailVerified:wl,isAnonymous:Lc,providerData:Dl,stsTokenManager:Vd}=m;ee(Fc&&Vd,f,"internal-error");const Cl=Ie.fromJSON(this.name,Vd);ee("string"==typeof Fc,f,"internal-error"),Te(Ur,f.name),Te(no,f.name),ee("boolean"==typeof wl,f,"internal-error"),ee("boolean"==typeof Lc,f,"internal-error"),Te(tu,f.name),Te(bl,f.name),Te(Il,f.name),Te(El,f.name),Te(Ld,f.name),Te($d,f.name);const Bd=new lt({uid:Fc,auth:f,email:no,emailVerified:wl,displayName:Ur,isAnonymous:Lc,photoURL:bl,phoneNumber:tu,tenantId:Il,stsTokenManager:Cl,createdAt:Ld,lastLoginAt:$d});return Dl&&Array.isArray(Dl)&&(Bd.providerData=Dl.map(og=>Object.assign({},og))),El&&(Bd._redirectEventId=El),Bd}static _fromIdTokenResponse(f,m,A=!1){return(0,re.Z)(function*(){const K=new Ie;K.updateFromServerResponse(m);const ue=new lt({uid:m.localId,auth:f,stsTokenManager:K,isAnonymous:A});return yield Tr(ue),ue})()}}const Qt=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,re.Z)(function*(){return!0})()}_set(m,A){var K=this;return(0,re.Z)(function*(){K.storage[m]=A})()}_get(m){var A=this;return(0,re.Z)(function*(){const K=A.storage[m];return void 0===K?null:K})()}_remove(m){var A=this;return(0,re.Z)(function*(){delete A.storage[m]})()}_addListener(m,A){}_removeListener(m,A){}}return C.type="NONE",C})();function Dn(C,f,m){return`firebase:${C}:${f}:${m}`}class nn{constructor(f,m,A){this.persistence=f,this.auth=m,this.userKey=A;const{config:K,name:ue}=this.auth;this.fullUserKey=Dn(this.userKey,K.apiKey,ue),this.fullPersistenceKey=Dn("persistence",K.apiKey,ue),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,re.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?lt._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,re.Z)(function*(){if(m.persistence===f)return;const A=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,A?m.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,A="authUser"){return(0,re.Z)(function*(){if(!m.length)return new nn(wt(Qt),f,A);const K=(yield Promise.all(m.map(function(){var bn=(0,re.Z)(function*(hr){if(yield hr._isAvailable())return hr});return function(hr){return bn.apply(this,arguments)}}()))).filter(bn=>bn);let ue=K[0]||wt(Qt);const Qe=Dn(A,f.config.apiKey,f.name);let Rt=null;for(const bn of m)try{const hr=yield bn._get(Qe);if(hr){const Ur=lt._fromJSON(f,hr);bn!==ue&&(Rt=Ur),ue=bn;break}}catch{}const pn=K.filter(bn=>bn._shouldAllowMigration);return ue._shouldAllowMigration&&pn.length?(ue=pn[0],Rt&&(yield ue._set(Qe,Rt.toJSON())),yield Promise.all(m.map(function(){var bn=(0,re.Z)(function*(hr){if(hr!==ue)try{yield hr._remove(Qe)}catch{}});return function(hr){return bn.apply(this,arguments)}}())),new nn(ue,f,A)):new nn(ue,f,A)})()}}function Zn(C){const f=C.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(me(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Kn(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Je(f))return"Blackberry";if(zt(f))return"Webos";if(Ze(f))return"Safari";if((f.includes("chrome/")||De(f))&&!f.includes("edge/"))return"Chrome";if(_e(f))return"Android";{const A=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function Kn(C=(0,W.z$)()){return/firefox\//i.test(C)}function Ze(C=(0,W.z$)()){const f=C.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function De(C=(0,W.z$)()){return/crios\//i.test(C)}function me(C=(0,W.z$)()){return/iemobile/i.test(C)}function _e(C=(0,W.z$)()){return/android/i.test(C)}function Je(C=(0,W.z$)()){return/blackberry/i.test(C)}function zt(C=(0,W.z$)()){return/webos/i.test(C)}function un(C=(0,W.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function zn(C=(0,W.z$)()){return un(C)||_e(C)||zt(C)||Je(C)||/windows phone/i.test(C)||me(C)}function jr(C,f=[]){let m;switch(C){case"Browser":m=Zn((0,W.z$)());break;case"Worker":m=`${Zn((0,W.z$)())}-${C}`;break;default:m=C}const A=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${we.Jn}/${A}`}class Cn{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const A=ue=>new Promise((Qe,Rt)=>{try{Qe(f(ue))}catch(pn){Rt(pn)}});A.onAbort=m,this.queue.push(A);const K=this.queue.length-1;return()=>{this.queue[K]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,re.Z)(function*(){var A;if(m.auth.currentUser===f)return;const K=[];try{for(const ue of m.queue)yield ue(f),ue.onAbort&&K.push(ue.onAbort)}catch(ue){K.reverse();for(const Qe of K)try{Qe()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(A=ue)||void 0===A?void 0:A.message})}})()}}class Or{constructor(f,m,A){this.app=f,this.heartbeatServiceProvider=m,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Er(this),this.idTokenSubscription=new Er(this),this.beforeStateQueue=new Cn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=at,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(f,m){var A=this;return m&&(this._popupRedirectResolver=wt(m)),this._initializationPromise=this.queue((0,re.Z)(function*(){var K,ue;if(!A._deleted&&(A.persistenceManager=yield nn.create(A,f),!A._deleted)){if(null!==(K=A._popupRedirectResolver)&&void 0!==K&&K._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(m),A.lastNotifiedUid=(null===(ue=A.currentUser)||void 0===ue?void 0:ue.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,re.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,re.Z)(function*(){var A;const K=yield m.assertedPersistence.getCurrentUser();let ue=K,Qe=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Rt=null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId,pn=ue?._redirectEventId,bn=yield m.tryRedirectSignIn(f);(!Rt||Rt===pn)&&bn?.user&&(ue=bn.user,Qe=!0)}if(!ue)return m.directlySetCurrentUser(null);if(!ue._redirectEventId){if(Qe)try{yield m.beforeStateQueue.runMiddleware(ue)}catch(Rt){ue=K,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Rt))}return ue?m.reloadAndSetCurrentUserOrClear(ue):m.directlySetCurrentUser(null)}return ee(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===ue._redirectEventId?m.directlySetCurrentUser(ue):m.reloadAndSetCurrentUserOrClear(ue)})()}tryRedirectSignIn(f){var m=this;return(0,re.Z)(function*(){let A=null;try{A=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,re.Z)(function*(){var A;try{yield Tr(f)}catch(K){if("auth/network-request-failed"!==(null===(A=K)||void 0===A?void 0:A.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function It(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var f=this;return(0,re.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,re.Z)(function*(){const A=f?(0,W.m9)(f):null;return A&&ee(A.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(A&&A._clone(m))})()}_updateCurrentUser(f,m=!1){var A=this;return(0,re.Z)(function*(){if(!A._deleted)return f&&ee(A.tenantId===f.tenantId,A,"tenant-id-mismatch"),m||(yield A.beforeStateQueue.runMiddleware(f)),A.queue((0,re.Z)(function*(){yield A.directlySetCurrentUser(f),A.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,re.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,re.Z)(function*(){yield m.assertedPersistence.setPersistence(wt(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new W.LL("auth","Firebase",f())}onAuthStateChanged(f,m,A){return this.registerStateListener(this.authStateSubscription,f,m,A)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,A){return this.registerStateListener(this.idTokenSubscription,f,m,A)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var A=this;return(0,re.Z)(function*(){const K=yield A.getOrInitRedirectPersistenceManager(m);return null===f?K.removeCurrentUser():K.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,re.Z)(function*(){if(!m.redirectPersistenceManager){const A=f&&wt(f)||m._popupRedirectResolver;ee(A,m,"argument-error"),m.redirectPersistenceManager=yield nn.create(m,[wt(A._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,re.Z)(function*(){var A,K;return m._isInitialized&&(yield m.queue((0,re.Z)(function*(){}))),(null===(A=m._currentUser)||void 0===A?void 0:A._redirectEventId)===f?m._currentUser:(null===(K=m.redirectUser)||void 0===K?void 0:K._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,re.Z)(function*(){if(f===m.currentUser)return m.queue((0,re.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,A,K){if(this._deleted)return()=>{};const ue="function"==typeof m?m:m.next.bind(m),Qe=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(Qe,this,"internal-error"),Qe.then(()=>ue(this.currentUser)),"function"==typeof m?f.addObserver(m,A,K):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,re.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=jr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,re.Z)(function*(){var m;const A={"X-Client-Version":f.clientVersion};f.app.options.appId&&(A["X-Firebase-gmpid"]=f.app.options.appId);const K=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return K&&(A["X-Firebase-Client"]=K),A})()}}function cr(C){return(0,W.m9)(C)}class Er{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,W.ne)(m=>this.observer=m)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function wr(C){const f=C.indexOf(":");return f<0?"":C.substr(0,f+1)}function vi(C){if(!C)return null;const f=Number(C);return isNaN(f)?null:f}function Pi(C,f){return ls.apply(this,arguments)}function ls(){return(ls=(0,re.Z)(function*(C,f){return Ct(C,"POST","/v1/accounts:signInWithIdp",dn(C,f))})).apply(this,arguments)}class ci{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Ys extends ci{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Sr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,A,K=!1){return(0,re.Z)(function*(){const ue=yield lt._fromIdTokenResponse(f,A,K),Qe=fs(A);return new Sr({user:ue,providerId:Qe,_tokenResponse:A,operationType:m})})()}static _forOperation(f,m,A){return(0,re.Z)(function*(){yield f._updateTokensIfNecessary(A,!0);const K=fs(A);return new Sr({user:f,providerId:K,_tokenResponse:A,operationType:m})})()}}function fs(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}class di extends W.ZR{constructor(f,m,A,K){var ue;super(m.code,m.message),this.operationType=A,this.user=K,Object.setPrototypeOf(this,di.prototype),this.customData={appName:f.name,tenantId:null!==(ue=f.tenantId)&&void 0!==ue?ue:void 0,_serverResponse:m.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(f,m,A,K){return new di(f,m,A,K)}}function ps(C,f,m,A){return("reauthenticate"===f?m._getReauthenticationResolver(C):m._getIdTokenResponse(C)).catch(ue=>{throw"auth/multi-factor-auth-required"===ue.code?di._fromErrorAndOperation(C,ue,f,A):ue})}function Ai(C,f){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,re.Z)(function*(C,f,m=!1){const A=yield hn(C,f._linkToIdToken(C.auth,yield C.getIdToken()),m);return Sr._forOperation(C,"link",A)})).apply(this,arguments)}function Fi(){return(Fi=(0,re.Z)(function*(C,f,m=!1){var A;const{auth:K}=C,ue="reauthenticate";try{const Qe=yield hn(C,ps(K,ue,f,C),m);ee(Qe.idToken,K,"internal-error");const Rt=En(Qe.idToken);ee(Rt,K,"internal-error");const{sub:pn}=Rt;return ee(C.uid===pn,K,"user-mismatch"),Sr._forOperation(C,ue,Qe)}catch(Qe){throw"auth/user-not-found"===(null===(A=Qe)||void 0===A?void 0:A.code)&&Ye(K,"user-mismatch"),Qe}})).apply(this,arguments)}function Zs(){return(Zs=(0,re.Z)(function*(C,f,m=!1){const A="signIn",K=yield ps(C,A,f),ue=yield Sr._fromIdTokenResponse(C,A,K);return m||(yield C._updateCurrentUser(ue.user)),ue})).apply(this,arguments)}const Yt="__sak";class ct{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Yt,"1"),this.storage.removeItem(Yt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const va=(()=>{class C extends ct{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,A)=>this.onStorageEvent(m,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Nt(){const C=(0,W.z$)();return Ze(C)||un(C)}()&&function ai(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=zn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const A of Object.keys(this.listeners)){const K=this.storage.getItem(A),ue=this.localCache[A];K!==ue&&m(A,ue,K)}}onStorageEvent(m,A=!1){if(!m.key)return void this.forAllChangedKeys((Rt,pn,bn)=>{this.notifyListeners(Rt,bn)});const K=m.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Rt=this.storage.getItem(K);if(m.newValue!==Rt)null!==m.newValue?this.storage.setItem(K,m.newValue):this.storage.removeItem(K);else if(this.localCache[K]===m.newValue&&!A)return}const ue=()=>{const Rt=this.storage.getItem(K);!A&&this.localCache[K]===Rt||this.notifyListeners(K,Rt)},Qe=this.storage.getItem(K);!function ur(){return(0,W.w1)()&&10===document.documentMode}()||Qe===m.newValue||m.newValue===m.oldValue?ue():setTimeout(ue,10)}notifyListeners(m,A){this.localCache[m]=A;const K=this.listeners[m];if(K)for(const ue of Array.from(K))ue(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,A,K)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:A,newValue:K}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(A)}_removeListener(m,A){this.listeners[m]&&(this.listeners[m].delete(A),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,A){var K=()=>super._set,ue=this;return(0,re.Z)(function*(){yield K().call(ue,m,A),ue.localCache[m]=JSON.stringify(A)})()}_get(m){var A=()=>super._get,K=this;return(0,re.Z)(function*(){const ue=yield A().call(K,m);return K.localCache[m]=JSON.stringify(ue),ue})()}_remove(m){var A=()=>super._remove,K=this;return(0,re.Z)(function*(){yield A().call(K,m),delete K.localCache[m]})()}}return C.type="LOCAL",C})(),ia=(()=>{class C extends ct{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,A){}_removeListener(m,A){}}return C.type="SESSION",C})();let ka=(()=>{class C{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const A=this.receivers.find(ue=>ue.isListeningto(m));if(A)return A;const K=new C(m);return this.receivers.push(K),K}isListeningto(m){return this.eventTarget===m}handleEvent(m){var A=this;return(0,re.Z)(function*(){const K=m,{eventId:ue,eventType:Qe,data:Rt}=K.data,pn=A.handlersMap[Qe];if(!pn?.size)return;K.ports[0].postMessage({status:"ack",eventId:ue,eventType:Qe});const bn=Array.from(pn).map(function(){var Ur=(0,re.Z)(function*(no){return no(K.origin,Rt)});return function(no){return Ur.apply(this,arguments)}}()),hr=yield function Tc(C){return Promise.all(C.map(function(){var f=(0,re.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(A){return{fulfilled:!1,reason:A}}});return function(m){return f.apply(this,arguments)}}()))}(bn);K.ports[0].postMessage({status:"done",eventId:ue,eventType:Qe,response:hr})})()}_subscribe(m,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(A)}_unsubscribe(m,A){this.handlersMap[m]&&A&&this.handlersMap[m].delete(A),(!A||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function Pa(C="",f=10){let m="";for(let A=0;A<f;A++)m+=Math.floor(10*Math.random());return C+m}class Au{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,A=50){var K=this;return(0,re.Z)(function*(){const ue=typeof MessageChannel<"u"?new MessageChannel:null;if(!ue)throw new Error("connection_unavailable");let Qe,Rt;return new Promise((pn,bn)=>{const hr=Pa("",20);ue.port1.start();const Ur=setTimeout(()=>{bn(new Error("unsupported_event"))},A);Rt={messageChannel:ue,onMessage(no){const tu=no;if(tu.data.eventId===hr)switch(tu.data.status){case"ack":clearTimeout(Ur),Qe=setTimeout(()=>{bn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Qe),pn(tu.data.response);break;default:clearTimeout(Ur),clearTimeout(Qe),bn(new Error("invalid_response"))}}},K.handlers.add(Rt),ue.port1.addEventListener("message",Rt.onMessage),K.target.postMessage({eventType:f,eventId:hr,data:m},[ue.port2])}).finally(()=>{Rt&&K.removeMessageHandler(Rt)})})()}}function Br(){return window}function Bn(){return typeof Br().WorkerGlobalScope<"u"&&"function"==typeof Br().importScripts}function sa(){return(sa=(0,re.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ao="firebaseLocalStorageDb",oa="firebaseLocalStorage",gi="fbase_key";class Kt{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function aa(C,f){return C.transaction([oa],f?"readwrite":"readonly").objectStore(oa)}function ys(){const C=indexedDB.open(Ao,1);return new Promise((f,m)=>{C.addEventListener("error",()=>{m(C.error)}),C.addEventListener("upgradeneeded",()=>{const A=C.result;try{A.createObjectStore(oa,{keyPath:gi})}catch(K){m(K)}}),C.addEventListener("success",(0,re.Z)(function*(){const A=C.result;A.objectStoreNames.contains(oa)?f(A):(A.close(),yield function Bo(){const C=indexedDB.deleteDatabase(Ao);return new Kt(C).toPromise()}(),f(yield ys()))}))})}function za(C,f,m){return fo.apply(this,arguments)}function fo(){return(fo=(0,re.Z)(function*(C,f,m){const A=aa(C,!0).put({[gi]:f,value:m});return new Kt(A).toPromise()})).apply(this,arguments)}function vs(){return(vs=(0,re.Z)(function*(C,f){const m=aa(C,!1).get(f),A=yield new Kt(m).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function Mu(C,f){const m=aa(C,!0).delete(f);return new Kt(m).toPromise()}const Wa=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,re.Z)(function*(){return m.db||(m.db=yield ys()),m.db})()}_withRetries(m){var A=this;return(0,re.Z)(function*(){let K=0;for(;;)try{const ue=yield A._openDb();return yield m(ue)}catch(ue){if(K++>3)throw ue;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,re.Z)(function*(){return Bn()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,re.Z)(function*(){m.receiver=ka._getInstance(function Fn(){return Bn()?self:null}()),m.receiver._subscribe("keyChanged",function(){var A=(0,re.Z)(function*(K,ue){return{keyProcessed:(yield m._poll()).includes(ue.key)}});return function(K,ue){return A.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var A=(0,re.Z)(function*(K,ue){return["keyChanged"]});return function(K,ue){return A.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,re.Z)(function*(){var A,K;if(m.activeServiceWorker=yield function ho(){return sa.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Au(m.activeServiceWorker);const ue=yield m.sender._send("ping",{},800);!ue||(null===(A=ue[0])||void 0===A?void 0:A.fulfilled)&&(null===(K=ue[0])||void 0===K?void 0:K.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var A=this;return(0,re.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function Pr(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:m},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,re.Z)(function*(){try{if(!indexedDB)return!1;const m=yield ys();return yield za(m,Yt,"1"),yield Mu(m,Yt),!0}catch{}return!1})()}_withPendingWrite(m){var A=this;return(0,re.Z)(function*(){A.pendingWrites++;try{yield m()}finally{A.pendingWrites--}})()}_set(m,A){var K=this;return(0,re.Z)(function*(){return K._withPendingWrite((0,re.Z)(function*(){return yield K._withRetries(ue=>za(ue,m,A)),K.localCache[m]=A,K.notifyServiceWorker(m)}))})()}_get(m){var A=this;return(0,re.Z)(function*(){const K=yield A._withRetries(ue=>function uu(C,f){return vs.apply(this,arguments)}(ue,m));return A.localCache[m]=K,K})()}_remove(m){var A=this;return(0,re.Z)(function*(){return A._withPendingWrite((0,re.Z)(function*(){return yield A._withRetries(K=>Mu(K,m)),delete A.localCache[m],A.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,re.Z)(function*(){const A=yield m._withRetries(Qe=>{const Rt=aa(Qe,!1).getAll();return new Kt(Rt).toPromise()});if(!A)return[];if(0!==m.pendingWrites)return[];const K=[],ue=new Set;for(const{fbase_key:Qe,value:Rt}of A)ue.add(Qe),JSON.stringify(m.localCache[Qe])!==JSON.stringify(Rt)&&(m.notifyListeners(Qe,Rt),K.push(Qe));for(const Qe of Object.keys(m.localCache))m.localCache[Qe]&&!ue.has(Qe)&&(m.notifyListeners(Qe,null),K.push(Qe));return K})()}notifyListeners(m,A){this.localCache[m]=A;const K=this.listeners[m];if(K)for(const ue of Array.from(K))ue(A)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,re.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(A)}_removeListener(m,A){this.listeners[m]&&(this.listeners[m].delete(A),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function xo(C){return`__${C}${Math.floor(1e6*Math.random())}`}function Mo(C,f){return f?wt(f):(ee(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}xo("rcb"),new Ut(3e4,6e4);class bi extends class qr{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return le("not implemented")}_getIdTokenResponse(f){return le("not implemented")}_linkToIdToken(f,m){return le("not implemented")}_getReauthenticationResolver(f){return le("not implemented")}}{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Pi(f,this._buildIdpRequest())}_linkToIdToken(f,m){return Pi(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return Pi(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function Ia(C){return function Bs(C,f){return Zs.apply(this,arguments)}(C.auth,new bi(C),C.bypassAuthState)}function to(C){const{auth:f,user:m}=C;return ee(m,f,"internal-error"),function Jr(C,f){return Fi.apply(this,arguments)}(m,new bi(C),C.bypassAuthState)}function qu(C){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,re.Z)(function*(C){const{auth:f,user:m}=C;return ee(m,f,"internal-error"),Ai(m,new bi(C),C.bypassAuthState)})).apply(this,arguments)}new Ut(2e3,1e4);const ks=new Map;class Ea extends class Oo{constructor(f,m,A,K,ue=!1){this.auth=f,this.resolver=A,this.user=K,this.bypassAuthState=ue,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,re.Z)(function*(A,K){f.pendingPromise={resolve:A,reject:K};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(ue){f.reject(ue)}});return function(A,K){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,re.Z)(function*(){const{urlResponse:A,sessionId:K,postBody:ue,tenantId:Qe,error:Rt,type:pn}=f;if(Rt)return void m.reject(Rt);const bn={auth:m.auth,requestUri:A,sessionId:K,tenantId:Qe||void 0,postBody:ue||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(pn)(bn))}catch(hr){m.reject(hr)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Ia;case"linkViaPopup":case"linkViaRedirect":return qu;case"reauthViaPopup":case"reauthViaRedirect":return to;default:Ye(this.auth,"internal-error")}}resolve(f){Xe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Xe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(f,m,A=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,A),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,re.Z)(function*(){let A=ks.get(m.auth._key());if(!A){try{const ue=(yield function Ru(C,f){return da.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;A=()=>Promise.resolve(ue)}catch(K){A=()=>Promise.reject(K)}ks.set(m.auth._key(),A)}return m.bypassAuthState||ks.set(m.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,A=this;return(0,re.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(A,f);if("unknown"!==f.type){if(f.eventId){const K=yield A.auth._redirectUserForId(f.eventId);if(K)return A.user=K,m().call(A,f);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,re.Z)(function*(){})()}cleanUp(){}}function da(){return(da=(0,re.Z)(function*(C,f){const m=q(f),A=F(C);if(!(yield A._isAvailable()))return!1;const K="true"===(yield A._get(m));return yield A._remove(m),K})).apply(this,arguments)}function x(C,f){ks.set(C._key(),f)}function F(C){return wt(C._redirectPersistence)}function q(C){return Dn("pendingRedirect",C.config.apiKey,C.name)}function _o(C,f){return mi.apply(this,arguments)}function mi(){return(mi=(0,re.Z)(function*(C,f,m=!1){const A=cr(C),K=Mo(A,f),Qe=yield new Ea(A,K,m).execute();return Qe&&!m&&(delete Qe.user._redirectEventId,yield A._persistUserIfCurrent(Qe.user),yield A._setRedirectUser(null,f)),Qe})).apply(this,arguments)}class Ac{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(f,A)&&(m=!0,this.sendToConsumer(f,A),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function P(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return O(C);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var A;if(f.error&&!O(f)){const K=(null===(A=f.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";m.onError(Me(this.auth,K))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const A=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&A}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xc(f))}saveEventToCache(f){this.cachedEventUids.add(xc(f)),this.lastProcessedEventTime=Date.now()}}function xc(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(f=>f).join("-")}function O({type:C,error:f}){return"unknown"===C&&"auth/no-auth-event"===f?.code}function z(C){return de.apply(this,arguments)}function de(){return(de=(0,re.Z)(function*(C,f={}){return fn(C,"GET","/v1/projects",f)})).apply(this,arguments)}const We=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pt=/^https?/;function rn(){return(rn=(0,re.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:f}=yield z(C);for(const m of f)try{if(Rn(m))return}catch{}Ye(C,"unauthorized-domain")})).apply(this,arguments)}function Rn(C){const f=He(),{protocol:m,hostname:A}=new URL(f);if(C.startsWith("chrome-extension://")){const Qe=new URL(C);return""===Qe.hostname&&""===A?"chrome-extension:"===m&&C.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&Qe.hostname===A}if(!pt.test(m))return!1;if(We.test(C))return A===C;const K=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+K+"|"+K+")$","i").test(A)}const sr=new Ut(3e4,6e4);function Qn(){const C=Br().___jsl;if(C?.H)for(const f of Object.keys(C.H))if(C.H[f].r=C.H[f].r||[],C.H[f].L=C.H[f].L||[],C.H[f].r=[...C.H[f].L],C.CP)for(let m=0;m<C.CP.length;m++)C.CP[m]=null}let Vi=null;function Ds(C){return Vi=Vi||function Gn(C){return new Promise((f,m)=>{var A,K,ue;function Qe(){Qn(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Qn(),m(Me(C,"network-request-failed"))},timeout:sr.get()})}if(null!==(K=null===(A=Br().gapi)||void 0===A?void 0:A.iframes)&&void 0!==K&&K.Iframe)f(gapi.iframes.getContext());else{if(null===(ue=Br().gapi)||void 0===ue||!ue.load){const Rt=xo("iframefcb");return Br()[Rt]=()=>{gapi.load?Qe():m(Me(C,"network-request-failed"))},function rs(C){return new Promise((f,m)=>{const A=document.createElement("script");A.setAttribute("src",C),A.onload=f,A.onerror=K=>{const ue=Me("internal-error");ue.customData=K,m(ue)},A.type="text/javascript",A.charset="UTF-8",function Rs(){var C,f;return null!==(f=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==f?f:document}().appendChild(A)})}(`https://apis.google.com/js/api.js?onload=${Rt}`).catch(pn=>m(pn))}Qe()}}).catch(f=>{throw Vi=null,f})}(C),Vi}const hu=new Ut(5e3,15e3),Qa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$a=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Va(C){const f=C.config;ee(f.authDomain,C,"auth-domain-config-required");const m=f.emulator?$t(f,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,A={apiKey:f.apiKey,appName:C.name,v:we.Jn},K=$a.get(C.config.apiHost);K&&(A.eid=K);const ue=C._getFrameworks();return ue.length&&(A.fw=ue.join(",")),`${m}?${(0,W.xO)(A).slice(1)}`}function Io(){return Io=(0,re.Z)(function*(C){const f=yield Ds(C),m=Br().gapi;return ee(m,C,"internal-error"),f.open({where:document.body,url:Va(C),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qa,dontclear:!0},A=>new Promise(function(){var K=(0,re.Z)(function*(ue,Qe){yield A.restyle({setHideOnLeave:!1});const Rt=Me(C,"network-request-failed"),pn=Br().setTimeout(()=>{Qe(Rt)},hu.get());function bn(){Br().clearTimeout(pn),ue(A)}A.ping(bn).then(bn,()=>{Qe(Rt)})});return function(ue,Qe){return K.apply(this,arguments)}}()))}),Io.apply(this,arguments)}const wa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ku{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fu(C,f,m,A,K,ue){ee(C.config.authDomain,C,"auth-domain-config-required"),ee(C.config.apiKey,C,"invalid-api-key");const Qe={apiKey:C.config.apiKey,appName:C.name,authType:m,redirectUrl:A,v:we.Jn,eventId:K};if(f instanceof ci){f.setDefaultLanguage(C.languageCode),Qe.providerId=f.providerId||"",(0,W.xb)(f.getCustomParameters())||(Qe.customParameters=JSON.stringify(f.getCustomParameters()));for(const[pn,bn]of Object.entries(ue||{}))Qe[pn]=bn}if(f instanceof Ys){const pn=f.getScopes().filter(bn=>""!==bn);pn.length>0&&(Qe.scopes=pn.join(","))}C.tenantId&&(Qe.tid=C.tenantId);const Rt=Qe;for(const pn of Object.keys(Rt))void 0===Rt[pn]&&delete Rt[pn];return`${function pu({config:C}){return C.emulator?$t(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,W.xO)(Rt).slice(1)}`}const Mc="webStorageSupport",Sd=class gu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ia,this._completeRedirectFn=_o,this._overrideRedirectResult=x}_openPopup(f,m,A,K){var ue=this;return(0,re.Z)(function*(){var Qe;Xe(null===(Qe=ue.eventManagers[f._key()])||void 0===Qe?void 0:Qe.manager,"_initialize() not called before _openPopup()");const Rt=fu(f,m,A,He(),K);return function Zu(C,f,m,A=500,K=600){const ue=Math.max((window.screen.availHeight-K)/2,0).toString(),Qe=Math.max((window.screen.availWidth-A)/2,0).toString();let Rt="";const pn=Object.assign(Object.assign({},wa),{width:A.toString(),height:K.toString(),top:ue,left:Qe}),bn=(0,W.z$)().toLowerCase();m&&(Rt=De(bn)?"_blank":m),Kn(bn)&&(f=f||"http://localhost",pn.scrollbars="yes");const hr=Object.entries(pn).reduce((no,[tu,bl])=>`${no}${tu}=${bl},`,"");if(function Hn(C=(0,W.z$)()){var f;return un(C)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(bn)&&"_self"!==Rt)return function Cd(C,f){const m=document.createElement("a");m.href=C,m.target=f;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(A)}(f||"",Rt),new Ku(null);const Ur=window.open(f||"",Rt,hr);ee(Ur,C,"popup-blocked");try{Ur.focus()}catch{}return new Ku(Ur)}(f,Rt,Pa())})()}_openRedirect(f,m,A,K){var ue=this;return(0,re.Z)(function*(){return yield ue._originValidation(f),function xu(C){Br().location.href=C}(fu(f,m,A,He(),K)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:K,promise:ue}=this.eventManagers[m];return K?Promise.resolve(K):(Xe(ue,"If manager is not set, promise should be"),ue)}const A=this.initAndGetManager(f);return this.eventManagers[m]={promise:A},A.catch(()=>{delete this.eventManagers[m]}),A}initAndGetManager(f){var m=this;return(0,re.Z)(function*(){const A=yield function bo(C){return Io.apply(this,arguments)}(f),K=new Ac(f);return A.register("authEvent",ue=>(ee(ue?.authEvent,f,"invalid-auth-event"),{status:K.onEvent(ue.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:K},m.iframes[f._key()]=A,K})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Mc,{type:Mc},K=>{var ue;const Qe=null===(ue=K?.[0])||void 0===ue?void 0:ue[Mc];void 0!==Qe&&m(!!Qe),Ye(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Pt(C){return rn.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return zn()||Ze()||un()}};var Xu="@firebase/auth",cf="0.20.11";class Yp{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,re.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(A=>{var K;f((null===(K=A)||void 0===K?void 0:K.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ad=(0,W.Pz)("authIdTokenMaxAge")||300;let xd=null;const Ju=C=>function(){var f=(0,re.Z)(function*(m){const A=m&&(yield m.getIdTokenResult()),K=A&&((new Date).getTime()-Date.parse(A.issuedAtTime))/1e3;if(K&&K>Ad)return;const ue=A?.token;xd!==ue&&(xd=ue,yield fetch(C,{method:ue?"POST":"DELETE",headers:ue?{Authorization:`Bearer ${ue}`}:{}}))});return function(m){return f.apply(this,arguments)}}();function lf(C=(0,we.Mq)()){const f=(0,we.qX)(C,"auth");if(f.isInitialized())return f.getImmediate();const m=function nt(C,f){const m=(0,we.qX)(C,"auth");if(m.isInitialized()){const K=m.getImmediate(),ue=m.getOptions();if((0,W.vZ)(ue,f??{}))return K;Ye(K,"already-initialized")}return m.initialize({options:f})}(C,{popupRedirectResolver:Sd,persistence:[Wa,va,ia]}),A=(0,W.Pz)("authTokenSyncURL");if(A){const ue=Ju(A);(function ws(C,f,m){(0,W.m9)(C).beforeAuthStateChanged(f,m)})(m,ue,()=>ue(m.currentUser)),function ns(C,f,m,A){(0,W.m9)(C).onIdTokenChanged(f,m,A)}(m,Qe=>ue(Qe))}const K=(0,W.q4)("auth");return K&&function Hr(C,f,m){const A=cr(C);ee(A._canInitEmulator,A,"emulator-config-failed"),ee(/^https?:\/\//.test(f),A,"invalid-emulator-scheme");const K=!!m?.disableWarnings,ue=wr(f),{host:Qe,port:Rt}=function gr(C){const f=wr(C),m=/(\/\/)?([^?#/]+)/.exec(C.substr(f.length));if(!m)return{host:"",port:null};const A=m[2].split("@").pop()||"",K=/^(\[[^\]]+\])(:|$)/.exec(A);if(K){const ue=K[1];return{host:ue,port:vi(A.substr(ue.length+1))}}{const[ue,Qe]=A.split(":");return{host:ue,port:vi(Qe)}}}(f);A.config.emulator={url:`${ue}//${Qe}${null===Rt?"":`:${Rt}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Qe,port:Rt,protocol:ue.replace(":",""),options:Object.freeze({disableWarnings:K})}),K||function Xr(){function C(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}(m,`http://${K}`),m}!function pl(C){(0,we.Xd)(new Y.wA("auth",(f,{options:m})=>{const A=f.getProvider("app").getImmediate(),K=f.getProvider("heartbeat"),{apiKey:ue,authDomain:Qe}=A.options;return((Rt,pn)=>{ee(ue&&!ue.includes(":"),"invalid-api-key",{appName:Rt.name}),ee(!Qe?.includes(":"),"argument-error",{appName:Rt.name});const bn={apiKey:ue,authDomain:Qe,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jr(C)},hr=new Or(Rt,pn,bn);return function Ee(C,f){const m=f?.persistence||[],A=(Array.isArray(m)?m:[m]).map(wt);f?.errorMap&&C._updateErrorMap(f.errorMap),C._initializeWithPersistence(A,f?.popupRedirectResolver)}(hr,m),hr})(A,K)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,A)=>{f.getProvider("auth-internal").initialize()})),(0,we.Xd)(new Y.wA("auth-internal",f=>{const m=cr(f.getProvider("auth").getImmediate());return new Yp(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,we.KN)(Xu,cf,function Bi(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,we.KN)(Xu,cf,"esm2017")}("Browser");class zs{constructor(f){return f}}class Eo{constructor(){return(0,u.vb)("auth")}}const tc=new J.OlP("angularfire2.auth-instances");function nc(C){return(f,m)=>{const A=f.runOutsideAngular(()=>C(m));return new zs(A)}}const Rd={provide:Eo,deps:[[new J.FiY,tc]]},Kp={provide:zs,useFactory:function gl(C,f){const m=(0,u.JM)("auth",C,f);return m&&new zs(m)},deps:[[new J.FiY,tc],Z.Ot]};let Yi=(()=>{class C{constructor(){(0,Pe.KN)("angularfire",u.q4.full,"auth")}}return C.\u0275fac=function(m){return new(m||C)},C.\u0275mod=J.oAB({type:C}),C.\u0275inj=J.cJS({providers:[Kp,Rd]}),C})();function Dr(C,...f){return{ngModule:Yi,providers:[{provide:tc,useFactory:nc(C),multi:!0,deps:[J.R0b,J.zs3,u.HU,Z.z6,[new J.FiY,Se.nm],...f]}]}}const ss=(0,u.u3)(lf,!0)},1883:(en,st,B)=>{"use strict";B.d(st,{gg:()=>Qh,ET:()=>zm,hJ:()=>Wm,BS:()=>Av,JU:()=>$v,fH:()=>Vp,PL:()=>Uv,ad:()=>jv,Xo:()=>qm,Cm:()=>Sv,IO:()=>Ym,r7:()=>Km,ar:()=>Kv});var pe,u=B(423),J=B(3363),Z=B(3183),Pe=B(3417),Se=B(9826),re=B(2197),W=B(7036),we=B(5875),fe=B(6864),te=B(6462),Y=B(9330),ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ae={},Fe=Fe||{},Ne=ye||self;function $e(){}function be(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function ht(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var at="closure_uid_"+(1e9*Math.random()>>>0),Dt=0;function Ot(i,e,t){return i.call.apply(i.bind,arguments)}function Ke(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,o),i.apply(e,c)}}return function(){return i.apply(e,arguments)}}function Ye(i,e,t){return(Ye=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ot:Ke).apply(null,arguments)}function Me(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Ge(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(o,c,d){for(var g=Array(arguments.length-2),S=2;S<arguments.length;S++)g[S-2]=arguments[S];return e.prototype[c].apply(o,g)}}function se(){this.s=this.s,this.o=this.o}se.prototype.s=!1,se.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function rt(i){Object.prototype.hasOwnProperty.call(i,at)&&i[at]||(i[at]=++Dt)}(this)},se.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ee=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function le(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function Xe(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(be(o)){const c=i.length||0,d=o.length||0;i.length=c+d;for(let g=0;g<d;g++)i[c+g]=o[g]}else i.push(o)}}function tt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var wt=function(){if(!Ne.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Ne.addEventListener("test",$e,e),Ne.removeEventListener("test",$e,e)}catch{}return i}();function nt(i){return/^[\s\xa0]*$/.test(i)}var Ee=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function He(i,e){return i<e?-1:i>e?1:0}function ze(){var i=Ne.navigator;return i&&(i=i.userAgent)?i:""}function Be(i){return-1!=ze().indexOf(i)}function Ve(i){return Ve[" "](i),i}Ve[" "]=$e;var Sn,i,Ut=Be("Opera"),$t=Be("Trident")||Be("MSIE"),yt=Be("Edge"),_n=yt||$t,yn=Be("Gecko")&&!(-1!=ze().toLowerCase().indexOf("webkit")&&!Be("Edge"))&&!(Be("Trident")||Be("MSIE"))&&!Be("Edge"),dn=-1!=ze().toLowerCase().indexOf("webkit")&&!Be("Edge");function fn(){var i=Ne.document;return i?i.documentMode:void 0}e:{var Yn="",ar=(i=ze(),yn?/rv:([^\);]+)(\)|;)/.exec(i):yt?/Edge\/([\d\.]+)/.exec(i):$t?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):dn?/WebKit\/(\S+)/.exec(i):Ut?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(ar&&(Yn=ar?ar[1]:""),$t){var Ct=fn();if(null!=Ct&&Ct>parseFloat(Yn)){Sn=String(Ct);break e}}Sn=Yn}var Mt={};var on=Ne.document&&$t&&(fn()||parseInt(Sn,10))||void 0;function gt(i,e){if(tt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(yn){e:{try{Ve(e.nodeName);var c=!0;break e}catch{}c=!1}c||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Mr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&gt.X.h.call(this)}}Ge(gt,tt);var Mr={2:"touch",3:"pen",4:"mouse"};gt.prototype.h=function(){gt.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Un="closure_listenable_"+(1e6*Math.random()|0),_r=0;function qn(i,e,t,o,c){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=c,this.key=++_r,this.ba=this.ea=!1}function Wt(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function tn(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function Rr(i){const e={};for(const t in i)e[t]=i[t];return e}const Cr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $n(i,e){let t,o;for(let c=1;c<arguments.length;c++){for(t in o=arguments[c],o)i[t]=o[t];for(let d=0;d<Cr.length;d++)t=Cr[d],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function En(i){this.src=i,this.g={},this.h=0}function fr(i,e){var t=e.type;if(t in i.g){var d,o=i.g[t],c=ee(o,e);(d=0<=c)&&Array.prototype.splice.call(o,c,1),d&&(Wt(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function hn(i,e,t,o){for(var c=0;c<i.length;++c){var d=i[c];if(!d.ba&&d.listener==e&&d.capture==!!t&&d.ha==o)return c}return-1}En.prototype.add=function(i,e,t,o,c){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var g=hn(i,e,o,c);return-1<g?(e=i[g],t||(e.ea=!1)):((e=new qn(e,this.src,d,!!o,c)).ea=t,i.push(e)),e};var Vn="closure_lm_"+(1e6*Math.random()|0),jn={};function Nn(i,e,t,o,c){if(o&&o.once)return jt(i,e,t,o,c);if(Array.isArray(e)){for(var d=0;d<e.length;d++)Nn(i,e[d],t,o,c);return null}return t=Ie(t),i&&i[Un]?i.N(e,t,ht(o)?!!o.capture:!!o,c):Zr(i,e,t,!1,o,c)}function Zr(i,e,t,o,c,d){if(!e)throw Error("Invalid event type");var g=ht(c)?!!c.capture:!!c,S=an(i);if(S||(i[Vn]=S=new En(i)),(t=S.add(e,t,o,g,d)).proxy)return t;if(o=function Tr(){const e=In;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)wt||(c=g),void 0===c&&(c=!1),i.addEventListener(e.toString(),o,c);else if(i.attachEvent)i.attachEvent(wn(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function jt(i,e,t,o,c){if(Array.isArray(e)){for(var d=0;d<e.length;d++)jt(i,e[d],t,o,c);return null}return t=Ie(t),i&&i[Un]?i.O(e,t,ht(o)?!!o.capture:!!o,c):Zr(i,e,t,!0,o,c)}function vt(i,e,t,o,c){if(Array.isArray(e))for(var d=0;d<e.length;d++)vt(i,e[d],t,o,c);else o=ht(o)?!!o.capture:!!o,t=Ie(t),i&&i[Un]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=hn(d=i.g[e],t,o,c))&&(Wt(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=an(i))&&(e=i.g[e.toString()],i=-1,e&&(i=hn(e,t,o,c)),(t=-1<i?e[i]:null)&&Gt(t))}function Gt(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[Un])fr(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(wn(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=an(e))?(fr(t,i),0==t.h&&(t.src=null,e[Vn]=null)):Wt(i)}}}function wn(i){return i in jn?jn[i]:jn[i]="on"+i}function In(i,e){if(i.ba)i=!0;else{e=new gt(e,this);var t=i.listener,o=i.ha||i.src;i.ea&&Gt(i),i=t.call(o,e)}return i}function an(i){return(i=i[Vn])instanceof En?i:null}var Ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ie(i){return"function"==typeof i?i:(i[Ce]||(i[Ce]=function(e){return i.handleEvent(e)}),i[Ce])}function Te(){se.call(this),this.i=new En(this),this.P=this,this.I=null}function lt(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new tt(e,i);else if(e instanceof tt)e.target=e.target||i;else{var c=e;$n(e=new tt(o,i),c)}if(c=!0,t)for(var d=t.length-1;0<=d;d--){var g=e.g=t[d];c=et(g,o,!0,e)&&c}if(c=et(g=e.g=i,o,!0,e)&&c,c=et(g,o,!1,e)&&c,t)for(d=0;d<t.length;d++)c=et(g=e.g=t[d],o,!1,e)&&c}function et(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,d=0;d<e.length;++d){var g=e[d];if(g&&!g.ba&&g.capture==t){var S=g.listener,$=g.ha||g.src;g.ea&&fr(i.i,g),c=!1!==S.call($,o)&&c}}return c&&!o.defaultPrevented}Ge(Te,se),Te.prototype[Un]=!0,Te.prototype.removeEventListener=function(i,e,t,o){vt(this,i,e,t,o)},Te.prototype.M=function(){if(Te.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)Wt(t[o]);delete i.g[e],i.h--}}this.I=null},Te.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},Te.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var Qt=Ne.JSON.stringify;function Dn(){var i=zt;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var me,Zn=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Kn,i=>i.reset());class Kn{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ze(i){Ne.setTimeout(()=>{throw i},0)}function De(i,e){me||function _e(){var i=Ne.Promise.resolve(void 0);me=function(){i.then(un)}}(),Je||(me(),Je=!0),zt.add(i,e)}var Je=!1,zt=new class nn{constructor(){this.h=this.g=null}add(e,t){const o=Zn.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function un(){for(var i;i=Dn();){try{i.h.call(i.g)}catch(t){Ze(t)}var e=Zn;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Je=!1}function or(i,e){Te.call(this),this.h=i||1,this.g=e||Ne,this.j=Ye(this.lb,this),this.l=Date.now()}function Hn(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function ur(i,e,t){if("function"==typeof i)t&&(i=Ye(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Ye(i.handleEvent,i)}return 2147483647<Number(e)?-1:Ne.setTimeout(i,e||0)}function zn(i){i.g=ur(()=>{i.g=null,i.i&&(i.i=!1,zn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ge(or,Te),(pe=or.prototype).ca=!1,pe.R=null,pe.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),lt(this,"tick"),this.ca&&(Hn(this),this.start()))}},pe.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pe.M=function(){or.X.M.call(this),Hn(this),delete this.g};class ai extends se{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zn(this)}M(){super.M(),this.g&&(Ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(i){se.call(this),this.h=i,this.g={}}Ge(jr,se);var Cn=[];function Or(i,e,t,o){Array.isArray(t)||(t&&(Cn[0]=t.toString()),t=Cn);for(var c=0;c<t.length;c++){var d=Nn(e,t[c],o||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function cr(i){tn(i.g,function(e,t){this.g.hasOwnProperty(t)&&Gt(e)},i),i.g={}}function Er(){this.g=!0}function gr(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Xr(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var c=o[1];if(Array.isArray(c)&&!(1>c.length)){var d=c[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var g=1;g<c.length;g++)c[g]=""}}}return Qt(t)}catch{return e}}(i,t)+(o?" "+o:"")})}jr.prototype.M=function(){jr.X.M.call(this),cr(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Er.prototype.Aa=function(){this.g=!1},Er.prototype.info=function(){};var qr={},Yr=null;function Xn(){return Yr=Yr||new Te}function cs(i){tt.call(this,qr.Pa,i)}function ki(i){const e=Xn();lt(e,new cs(e))}function qe(i,e){tt.call(this,qr.STAT_EVENT,i),this.stat=e}function N(i){const e=Xn();lt(e,new qe(e,i))}function U(i,e){tt.call(this,qr.Qa,i),this.size=e}function ie(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Ne.setTimeout(function(){i()},e)}qr.Pa="serverreachability",Ge(cs,tt),qr.STAT_EVENT="statevent",Ge(qe,tt),qr.Qa="timingevent",Ge(U,tt);var he={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ke={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ne(){}function Le(){}ne.prototype.h=null;var qt,ft={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function _t(){tt.call(this,"d")}function Vt(){tt.call(this,"c")}function gn(){}function mr(i,e,t,o){this.l=i,this.j=e,this.m=t,this.U=o||1,this.S=new jr(this),this.O=ui,this.T=new or(i=_n?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new yr}function yr(){this.i=null,this.g="",this.h=!1}Ge(_t,tt),Ge(Vt,tt),Ge(gn,ne),gn.prototype.g=function(){return new XMLHttpRequest},gn.prototype.i=function(){return{}},qt=new gn;var ui=45e3,kr={},Qi={};function Pi(i,e,t){i.K=1,i.v=$o(_i(e)),i.s=t,i.P=!0,ls(i,null)}function ls(i,e){i.F=Date.now(),Ss(i),i.A=_i(i.v);var t=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),Is(t.i,"t",o),i.C=0,t=i.l.H,i.h=new yr,i.g=mt(i.l,t?e:null,!i.s),0<i.N&&(i.L=new ai(Ye(i.La,i,i.g),i.N)),Or(i.S,i.g,"readystatechange",i.ib),e=i.H?Rr(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),ki(),function Hr(i,e,t,o,c,d){i.info(function(){if(i.g)if(d)for(var g="",S=d.split("&"),$=0;$<S.length;$++){var H=S[$].split("=");if(1<H.length){var oe=H[0];H=H[1];var Re=oe.split("_");g=2<=Re.length&&"type"==Re[1]?g+(oe+"=")+H+"&":g+(oe+"=redacted&")}}else g=null;else g=d;return"XMLHTTP REQ ("+o+") [attempt "+c+"]: "+e+"\n"+t+"\n"+g})}(i.j,i.u,i.A,i.m,i.U,i.s)}function so(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function Ii(i,e,t){let c,o=!0;for(;!i.I&&i.C<t.length;){if(c=oo(i,t),c==Qi){4==e&&(i.o=4,N(14),o=!1),gr(i.j,i.m,null,"[Incomplete Response]");break}if(c==kr){i.o=4,N(15),gr(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}gr(i.j,i.m,c,null),ji(i,c)}so(i)&&c!=Qi&&c!=kr&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,N(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),co(e),e.K=!0,N(11))):(gr(i.j,i.m,t,"[Invalid Chunked Response]"),ds(i),Ls(i))}function oo(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?Qi:(t=Number(e.substring(t,o)),isNaN(t)?kr:(o+=1)+t>e.length?Qi:(e=e.substr(o,t),i.C=o+t,e))}function Ss(i){i.V=Date.now()+i.O,Do(i,i.O)}function Do(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=ie(Ye(i.gb,i),e)}function As(i){i.B&&(Ne.clearTimeout(i.B),i.B=null)}function Ls(i){0==i.l.G||i.I||M(i.l,i)}function ds(i){As(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Hn(i.T),cr(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function ji(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||es(t.h,i)))if(!i.J&&es(t.h,i)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var c=o;if(0==c[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;To(t),fi(t)}Qs(t),N(18)}}else t.Ba=c[1],0<t.Ba-t.T&&37500>c[2]&&t.L&&0==t.A&&!t.v&&(t.v=ie(Ye(t.cb,t),6e3));if(1>=Qr(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else k(t,11)}else if((i.J||t.g==i)&&To(t),!nt(e))for(c=t.Fa.g.parse(e),e=0;e<c.length;e++){let H=c[e];if(t.T=H[0],H=H[1],2==t.G)if("c"==H[0]){t.I=H[1],t.ka=H[2];const oe=H[3];null!=oe&&(t.ma=oe,t.j.info("VER="+t.ma));const Re=H[4];null!=Re&&(t.Ca=Re,t.j.info("SVER="+t.Ca));const dt=H[5];null!=dt&&"number"==typeof dt&&0<dt&&(t.J=o=1.5*dt,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const Et=i.g;if(Et){const kt=Et.g?Et.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kt){var d=o.h;d.g||-1==kt.indexOf("spdy")&&-1==kt.indexOf("quic")&&-1==kt.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(gs(d,d.h),d.h=null))}if(o.D){const ln=Et.g?Et.g.getResponseHeader("X-HTTP-Session-Id"):null;ln&&(o.za=ln,br(o.F,o.D,ln))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var g=i;if((o=t).sa=Oe(o,o.H?o.ka:null,o.V),g.J){Jr(o.h,g);var S=g,$=o.J;$&&S.setTimeout($),S.B&&(As(S),Ss(S)),o.g=g}else Jo(o);0<t.i.length&&Xo(t)}else"stop"!=H[0]&&"close"!=H[0]||k(t,7);else 3==t.G&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?k(t,7):hi(t):"noop"!=H[0]&&t.l&&t.l.wa(H),t.A=0)}ki()}catch{}}function Ti(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(be(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Hi(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(be(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function qs(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(be(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),c=o.length,d=0;d<c;d++)e.call(void 0,o[d],t&&t[d],i)}(pe=mr.prototype).setTimeout=function(i){this.O=i},pe.ib=function(i){i=i.target;const e=this.L;e&&3==Tt(i)?e.l():this.La(i)},pe.La=function(i){try{if(i==this.g)e:{const oe=Tt(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>oe)&&(3!=oe||_n||this.g&&(this.h.h||this.g.fa()||Pn(this.g)))){this.I||4!=oe||7==e||ki(),As(this);var t=this.g.aa();this.Y=t;t:if(so(this)){var o=Pn(this.g);i="";var c=o.length,d=4==Tt(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ds(this),Ls(this);var g="";break t}this.h.i=new Ne.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:d&&e==c-1});o.splice(0,c),this.h.g+=i,this.C=0,g=this.h.g}else g=this.g.fa();if(this.i=200==t,function wr(i,e,t,o,c,d,g){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+c+"]: "+e+"\n"+t+"\n"+d+" "+g})}(this.j,this.u,this.A,this.m,this.U,oe,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var S,$=this.g;if((S=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nt(S)){var H=S;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,N(12),ds(this),Ls(this);break e}gr(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ji(this,t)}this.P?(Ii(this,oe,g),_n&&this.i&&3==oe&&(Or(this.S,this.T,"tick",this.hb),this.T.start())):(gr(this.j,this.m,g,null),ji(this,g)),4==oe&&ds(this),this.i&&!this.I&&(4==oe?M(this.l,this):(this.i=!1,Ss(this)))}else 400==t&&0<g.indexOf("Unknown SID")?(this.o=3,N(12)):(this.o=0,N(13)),ds(this),Ls(this)}}}catch{}},pe.hb=function(){if(this.g){var i=Tt(this.g),e=this.g.fa();this.C<e.length&&(As(this),Ii(this,i,e),this.i&&4!=i&&Ss(this))}},pe.cancel=function(){this.I=!0,ds(this)},pe.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function vi(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ki(),N(17)),ds(this),this.o=2,Ls(this)):Do(this,this.V-i)};var $s=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gi(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Gi){this.h=void 0!==e?e:i.h,hs(this,i.j),this.s=i.s,this.g=i.g,ci(this,i.m),this.l=i.l,e=i.i;var t=new li;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ys(this,t),this.o=i.o}else i&&(t=String(i).match($s))?(this.h=!!e,hs(this,t[1]||"",!0),this.s=ti(t[2]||""),this.g=ti(t[3]||"",!0),ci(this,t[4]),this.l=ti(t[5]||"",!0),Ys(this,t[6]||"",!0),this.o=ti(t[7]||"")):(this.h=!!e,this.i=new li(null,this.h))}function _i(i){return new Gi(i)}function hs(i,e,t){i.j=t?ti(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function ci(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Ys(i,e,t){e instanceof li?(i.i=e,function ps(i,e){e&&!i.j&&(Sr(i),i.i=null,i.g.forEach(function(t,o){var c=o.toLowerCase();o!=c&&(fs(this,o),Is(this,c,t))},i)),i.j=e}(i.i,i.h)):(t||(e=ni(e,Ks)),i.i=new li(e,i.h))}function br(i,e,t){i.i.set(e,t)}function $o(i){return br(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function ti(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ni(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Zo),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Zo(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Gi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(ni(e,Ni,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(ni(e,Ni,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(ni(t,"/"==t.charAt(0)?ri:Vo,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",ni(t,Vs)),i.join("")};var Ni=/[#\/\?@]/g,Vo=/[#\?:]/g,ri=/[#\?]/g,Ks=/[#\?@]/g,Vs=/#/g;function li(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Sr(i){i.g||(i.g=new Map,i.h=0,i.i&&function ma(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),c=null;if(0<=o){var d=i[t].substring(0,o);c=i[t].substring(o+1)}else d=i[t];e(d,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function fs(i,e){Sr(i),e=di(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function vr(i,e){return Sr(i),e=di(i,e),i.g.has(e)}function Is(i,e,t){fs(i,e),0<t.length&&(i.i=null,i.g.set(di(i,e),le(t)),i.h+=t.length)}function di(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Gr(i){this.l=i||Ji,i=Ne.PerformanceNavigationTiming?0<(i=Ne.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Ne.g&&Ne.g.Ga&&Ne.g.Ga()&&Ne.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pe=li.prototype).add=function(i,e){Sr(this),this.i=null,i=di(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},pe.forEach=function(i,e){Sr(this),this.g.forEach(function(t,o){t.forEach(function(c){i.call(e,c,o,this)},this)},this)},pe.oa=function(){Sr(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const c=i[o];for(let d=0;d<c.length;d++)t.push(e[o])}return t},pe.W=function(i){Sr(this);let e=[];if("string"==typeof i)vr(this,i)&&(e=e.concat(this.g.get(di(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},pe.set=function(i,e){return Sr(this),this.i=null,vr(this,i=di(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},pe.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},pe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const d=encodeURIComponent(String(o)),g=this.W(o);for(o=0;o<g.length;o++){var c=d;""!==g[o]&&(c+="="+encodeURIComponent(String(g[o]))),i.push(c)}}return this.i=i.join("&")};var Ji=10;function Ai(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Qr(i){return i.h?1:i.g?i.g.size:0}function es(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function gs(i,e){i.g?i.g.add(e):i.h=e}function Jr(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Fi(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return le(i.i)}function Bs(){}function Zs(){this.g=new Bs}function An(i,e,t){const o=t||"";try{Ti(i,function(c,d){let g=c;ht(c)&&(g=Qt(c)),e.push(o+d+"="+encodeURIComponent(g))})}catch(c){throw e.push(o+"type="+encodeURIComponent("_badmap")),c}}function ao(i,e,t,o,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(o)}catch{}}function Ki(i){this.l=i.ac||null,this.j=i.jb||!1}function Us(i,e){Te.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=js,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gr.prototype.cancel=function(){if(this.i=Fi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Bs.prototype.stringify=function(i){return Ne.JSON.stringify(i,void 0)},Bs.prototype.parse=function(i){return Ne.JSON.parse(i,void 0)},Ge(Ki,ne),Ki.prototype.g=function(){return new Us(this.l,this.j)},Ki.prototype.i=function(i){return function(){return i}}({}),Ge(Us,Te);var js=0;function Hs(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function ts(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Co(i)}function Co(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(pe=Us.prototype).open=function(i,e){if(this.readyState!=js)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Co(this)},pe.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Ne).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},pe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ts(this)),this.readyState=js},pe.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Co(this)),this.g&&(this.readyState=3,Co(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Ne.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hs(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},pe.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?ts(this):Co(this),3==this.readyState&&Hs(this)}},pe.Va=function(i){this.g&&(this.response=this.responseText=i,ts(this))},pe.Ua=function(i){this.g&&(this.response=i,ts(this))},pe.ga=function(){this.g&&ts(this)},pe.setRequestHeader=function(i,e){this.v.append(i,e)},pe.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},pe.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Us.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var xt=Ne.JSON.parse;function Tn(i){Te.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Es,this.K=this.L=!1}Ge(Tn,Te);var Es="",_=/^https?$/i,L=["POST","PUT"];function p(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,b(i),G(i)}function b(i){i.D||(i.D=!0,lt(i,"complete"),lt(i,"error"))}function D(i){if(i.h&&typeof Fe<"u"&&(!i.C[1]||4!=Tt(i)||2!=i.aa()))if(i.v&&4==Tt(i))ur(i.Ha,0,i);else if(lt(i,"readystatechange"),4==Tt(i)){i.h=!1;try{const S=i.aa();e:switch(S){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===S){var c=String(i.H).match($s)[1]||null;if(!c&&Ne.self&&Ne.self.location){var d=Ne.self.location.protocol;c=d.substr(0,d.length-1)}o=!_.test(c?c.toLowerCase():"")}t=o}if(t)lt(i,"complete"),lt(i,"success");else{i.m=6;try{var g=2<Tt(i)?i.g.statusText:""}catch{g=""}i.j=g+" ["+i.aa()+"]",b(i)}}finally{G(i)}}}function G(i,e){if(i.g){je(i);const t=i.g,o=i.C[0]?$e:null;i.g=null,i.C=null,e||lt(i,"ready");try{t.onreadystatechange=o}catch{}}}function je(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Ne.clearTimeout(i.A),i.A=null)}function Tt(i){return i.g?i.g.readyState:0}function Pn(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Es:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Ln(i){let e="";return tn(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Wn(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=Ln(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):br(i,e,t))}function tr(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Ei(i){this.Ca=0,this.i=[],this.j=new Er,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=tr("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=tr("baseRetryDelayMs",5e3,i),this.bb=tr("retryDelaySeedMs",1e4,i),this.$a=tr("forwardChannelMaxRetries",2,i),this.ta=tr("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new Gr(i&&i.concurrentRequestLimit),this.Fa=new Zs,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function hi(i){if(xs(i),3==i.G){var e=i.U++,t=_i(i.F);br(t,"SID",i.I),br(t,"RID",e),br(t,"TYPE","terminate"),ms(i,t),(e=new mr(i,i.j,e,void 0)).K=2,e.v=$o(_i(t)),t=!1,Ne.navigator&&Ne.navigator.sendBeacon&&(t=Ne.navigator.sendBeacon(e.v.toString(),"")),!t&&Ne.Image&&((new Image).src=e.v,t=!0),t||(e.g=mt(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ss(e)}X(i)}function fi(i){i.g&&(co(i),i.g.cancel(),i.g=null)}function xs(i){fi(i),i.u&&(Ne.clearTimeout(i.u),i.u=null),To(i),i.h.cancel(),i.m&&("number"==typeof i.m&&Ne.clearTimeout(i.m),i.m=null)}function Xo(i){Ai(i.h)||i.m||(i.m=!0,De(i.Ja,i),i.C=0)}function uo(i,e){var t;t=e?e.m:i.U++;const o=_i(i.F);br(o,"SID",i.I),br(o,"RID",t),br(o,"AID",i.T),ms(i,o),i.o&&i.s&&Wn(o,i.o,i.s),t=new mr(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=Qo(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),gs(i.h,t),Pi(t,o,e)}function ms(i,e){i.ia&&tn(i.ia,function(t,o){br(e,o,t)}),i.l&&Ti({},function(t,o){br(e,o,t)})}function Qo(i,e,t){t=Math.min(i.i.length,t);var o=i.l?Ye(i.l.Ra,i.l,i):null;e:{var c=i.i;let d=-1;for(;;){const g=["count="+t];-1==d?0<t?(d=c[0].h,g.push("ofs="+d)):d=0:g.push("ofs="+d);let S=!0;for(let $=0;$<t;$++){let H=c[$].h;const oe=c[$].g;if(H-=d,0>H)d=Math.max(0,c[$].h-100),S=!1;else try{An(oe,g,"req"+H+"_")}catch{o&&o(oe)}}if(S){o=g.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,o}function Jo(i){i.g||i.u||(i.Z=1,De(i.Ia,i),i.A=0)}function Qs(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=ie(Ye(i.Ia,i),j(i,i.A)),i.A++,0))}function co(i){null!=i.B&&(Ne.clearTimeout(i.B),i.B=null)}function xa(i){i.g=new mr(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=_i(i.sa);br(e,"RID","rpc"),br(e,"SID",i.I),br(e,"CI",i.L?"0":"1"),br(e,"AID",i.T),br(e,"TYPE","xmlhttp"),ms(i,e),i.o&&i.s&&Wn(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=$o(_i(e)),t.s=null,t.P=!0,ls(t,i)}function To(i){null!=i.v&&(Ne.clearTimeout(i.v),i.v=null)}function M(i,e){var t=null;if(i.g==e){To(i),co(i),i.g=null;var o=2}else{if(!es(i.h,e))return;t=e.D,Jr(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var c=i.C;lt(o=Xn(),new U(o,t)),Xo(i)}else Jo(i);else if(3==(c=e.o)||0==c&&0<i.pa||!(1==o&&function Aa(i,e){return!(Qr(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=ie(Ye(i.Ja,i,e),j(i,i.C)),i.C++,0)))}(i,e)||2==o&&Qs(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),c){case 1:k(i,5);break;case 4:k(i,10);break;case 3:k(i,6);break;default:k(i,2)}}function j(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function k(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var o=Ye(i.kb,i);t||(t=new Gi("//www.google.com/images/cleardot.gif"),Ne.location&&"http"==Ne.location.protocol||hs(t,"https"),$o(t)),function Xs(i,e){const t=new Er;if(Ne.Image){const o=new Image;o.onload=Me(ao,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Me(ao,t,o,"TestLoadImage: error",!1,e),o.onabort=Me(ao,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Me(ao,t,o,"TestLoadImage: timeout",!1,e),Ne.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else N(2);i.G=0,i.l&&i.l.va(e),X(i),xs(i)}function X(i){if(i.G=0,i.la=[],i.l){const e=Fi(i.h);(0!=e.length||0!=i.i.length)&&(Xe(i.la,e),Xe(i.la,i.i),i.h.i.length=0,le(i.i),i.i.length=0),i.l.ua()}}function Oe(i,e,t){var o=t instanceof Gi?_i(t):new Gi(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),ci(o,o.m);else{var c=Ne.location;o=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var d=new Gi(null,void 0);o&&hs(d,o),e&&(d.g=e),c&&ci(d,c),t&&(d.l=t),o=d}return e=i.za,(t=i.D)&&e&&br(o,t,e),br(o,"VER",i.ma),ms(i,o),o}function mt(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Tn(t&&i.Da&&!i.ra?new Ki({jb:!0}):i.ra)).Ka(i.H),e}function At(){}function Ht(){if($t&&!(10<=Number(on)))throw Error("Environmental error: no available transport.")}function xn(i,e){Te.call(this),this.g=new Ei(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!nt(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!nt(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new nr(this)}function On(i){_t.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Ir(){Vt.call(this),this.status=1}function nr(i){this.g=i}(pe=Tn.prototype).Ka=function(i){this.L=i},pe.da=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():qt.g(),this.C=function Ae(i){return i.h||(i.h=i.i())}(this.u?this.u:qt),this.g.onreadystatechange=Ye(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(d){return void p(this,d)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var c in o)t.set(c,o[c]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const d of o.keys())t.set(d,o.get(d))}o=Array.from(t.keys()).find(d=>"content-type"==d.toLowerCase()),c=Ne.FormData&&i instanceof Ne.FormData,!(0<=ee(L,e))||o||c||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,g]of t)this.g.setRequestHeader(d,g);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{je(this),0<this.B&&((this.K=function v(i){return $t&&function bt(){return function It(i){var e=Mt;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Ee(String(Sn)).split("."),t=Ee("9").split("."),o=Math.max(e.length,t.length);for(let g=0;0==i&&g<o;g++){var c=e[g]||"",d=t[g]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==c[0].length&&0==d[0].length)break;i=He(0==c[1].length?0:parseInt(c[1],10),0==d[1].length?0:parseInt(d[1],10))||He(0==c[2].length,0==d[2].length)||He(c[2],d[2]),c=c[3],d=d[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ye(this.qa,this)):this.A=ur(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){p(this,d)}},pe.qa=function(){typeof Fe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lt(this,"timeout"),this.abort(8))},pe.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,lt(this,"complete"),lt(this,"abort"),G(this))},pe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),G(this,!0)),Tn.X.M.call(this)},pe.Ha=function(){this.s||(this.F||this.v||this.l?D(this):this.fb())},pe.fb=function(){D(this)},pe.aa=function(){try{return 2<Tt(this)?this.g.status:-1}catch{return-1}},pe.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},pe.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),xt(e)}},pe.Ea=function(){return this.m},pe.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(pe=Ei.prototype).ma=8,pe.G=1,pe.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const c=new mr(this,this.j,i,void 0);let d=this.s;if(this.S&&(d?(d=Rr(d),$n(d,this.S)):d=this.S),null!==this.o||this.N||(c.H=d,d=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Qo(this,c,e),br(t=_i(this.F),"RID",i),br(t,"CVER",22),this.D&&br(t,"X-HTTP-Session-Id",this.D),ms(this,t),d&&(this.N?e="headers="+encodeURIComponent(String(Ln(d)))+"&"+e:this.o&&Wn(t,this.o,d)),gs(this.h,c),this.Ya&&br(t,"TYPE","init"),this.O?(br(t,"$req",e),br(t,"SID","null"),c.Z=!0,Pi(c,t,null)):Pi(c,t,e),this.G=2}}else 3==this.G&&(i?uo(this,i):0==this.i.length||Ai(this.h)||uo(this))},pe.Ia=function(){if(this.u=null,xa(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=ie(Ye(this.eb,this),i)}},pe.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,N(10),fi(this),xa(this))},pe.cb=function(){null!=this.v&&(this.v=null,fi(this),Qs(this),N(19))},pe.kb=function(i){i?(this.j.info("Successfully pinged google.com"),N(2)):(this.j.info("Failed to ping google.com"),N(1))},(pe=At.prototype).xa=function(){},pe.wa=function(){},pe.va=function(){},pe.ua=function(){},pe.Ra=function(){},Ht.prototype.g=function(i,e){return new xn(i,e)},Ge(xn,Te),xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;N(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=Oe(i,null,i.V),Xo(i)},xn.prototype.close=function(){hi(this.g)},xn.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=Qt(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&Xo(e)},xn.prototype.M=function(){this.g.l=null,delete this.j,hi(this.g),delete this.g,xn.X.M.call(this)},Ge(On,_t),Ge(Ir,Vt),Ge(nr,At),nr.prototype.xa=function(){lt(this.g,"a")},nr.prototype.wa=function(i){lt(this.g,new On(i))},nr.prototype.va=function(i){lt(this.g,new Ir)},nr.prototype.ua=function(){lt(this.g,"b")},Ht.prototype.createWebChannel=Ht.prototype.g,xn.prototype.send=xn.prototype.u,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,he.NO_ERROR=0,he.TIMEOUT=8,he.HTTP_ERROR=6,ke.COMPLETE="complete",Le.EventType=ft,ft.OPEN="a",ft.CLOSE="b",ft.ERROR="c",ft.MESSAGE="d",Te.prototype.listen=Te.prototype.N,Tn.prototype.listenOnce=Tn.prototype.O,Tn.prototype.getLastError=Tn.prototype.Oa,Tn.prototype.getLastErrorCode=Tn.prototype.Ea,Tn.prototype.getStatus=Tn.prototype.aa,Tn.prototype.getResponseJson=Tn.prototype.Sa,Tn.prototype.getResponseText=Tn.prototype.fa,Tn.prototype.send=Tn.prototype.da,Tn.prototype.setWithCredentials=Tn.prototype.Ka;var xi=ae.createWebChannelTransport=function(){return new Ht},zr=ae.getStatEventTarget=function(){return Xn()},pi=ae.ErrorCode=he,ea=ae.EventType=ke,Ms=ae.Event=qr,ns=ae.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ws=ae.FetchXmlHttpFactory=Ki,lo=ae.WebChannel=Le,ta=ae.XhrIo=Tn;const Ma="@firebase/firestore";class Wr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wr.UNAUTHENTICATED=new Wr(null),Wr.GOOGLE_CREDENTIALS=new Wr("google-credentials-uid"),Wr.FIRST_PARTY=new Wr("first-party-uid"),Wr.MOCK_USER=new Wr("mock-user");let Vr="9.14.0";const Js=new te.Yd("@firebase/firestore");function So(){return Js.logLevel}function Lt(i,...e){if(Js.logLevel<=te.in.DEBUG){const t=e.map(Ra);Js.debug(`Firestore (${Vr}): ${i}`,...t)}}function Kr(i,...e){if(Js.logLevel<=te.in.ERROR){const t=e.map(Ra);Js.error(`Firestore (${Vr}): ${i}`,...t)}}function na(i,...e){if(Js.logLevel<=te.in.WARN){const t=e.map(Ra);Js.warn(`Firestore (${Vr}): ${i}`,...t)}}function Ra(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function mn(i="Unexpected state"){const e=`FIRESTORE (${Vr}) INTERNAL ASSERTION FAILED: `+i;throw Kr(e),new Error(e)}function Mn(i,e){i||mn()}function Yt(i,e){return i}const ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nt extends Y.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ra{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wr.UNAUTHENTICATED))}shutdown(){}}class va{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Oa{constructor(e){this.t=e,this.currentUser=Wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let c=this.i;const d=H=>this.i!==c?(c=this.i,t(H)):Promise.resolve();let g=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new Mi,e.enqueueRetryable(()=>d(this.currentUser))};const S=()=>{const H=g;e.enqueueRetryable((0,W.Z)(function*(){yield H.promise,yield d(o.currentUser)}))},$=H=>{Lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),S()};this.t.onInit(H=>$(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?$(H):(Lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new Mi)}},0),S()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Mn("string"==typeof o.accessToken),new ra(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Mn(null===e||"string"==typeof e),new Wr(e)}}class ia{constructor(e,t,o,c){this.h=e,this.l=t,this.m=o,this.g=c,this.type="FirstParty",this.user=Wr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Mn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Tc{constructor(e,t,o,c){this.h=e,this.l=t,this.m=o,this.g=c}getToken(){return Promise.resolve(new ia(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ka{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pa{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=d=>{null!=d.error&&Lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const g=d.token!==this.A;return this.A=d.token,Lt("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>o(d))};const c=d=>{Lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.T.onInit(d=>c(d)),setTimeout(()=>{if(!this.appCheck){const d=this.T.getImmediate({optional:!0});d?c(d):Lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Mn("string"==typeof t.token),this.A=t.token,new ka(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Br(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class xu{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const c=Br(40);for(let d=0;d<c.length;++d)o.length<20&&c[d]<t&&(o+=e.charAt(c[d]%e.length))}return o}}function Bn(i,e){return i<e?-1:i>e?1:0}function ho(i,e,t){return i.length===e.length&&i.every((o,c)=>t(o,e[c]))}function sa(i){return i+"\0"}class Pr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Nt(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Nt(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Nt(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Nt(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pr.fromMillis(Date.now())}static fromDate(e){return Pr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Pr(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bn(this.nanoseconds,e.nanoseconds):Bn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Fn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Fn(e)}static min(){return new Fn(new Pr(0,0))}static max(){return new Fn(new Pr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ao{constructor(e,t,o){void 0===t?t=0:t>e.length&&mn(),void 0===o?o=e.length-t:o>e.length-t&&mn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Ao.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ao?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let c=0;c<o;c++){const d=e.get(c),g=t.get(c);if(d<g)return-1;if(d>g)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class pr extends Ao{construct(e,t,o){return new pr(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Nt(ct.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(c=>c.length>0))}return new pr(t)}static emptyPath(){return new pr([])}}const oa=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gi extends Ao{construct(e,t,o){return new gi(e,t,o)}static isValidIdentifier(e){return oa.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gi(["__name__"])}static fromServerFormat(e){const t=[];let o="",c=0;const d=()=>{if(0===o.length)throw new Nt(ct.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let g=!1;for(;c<e.length;){const S=e[c];if("\\"===S){if(c+1===e.length)throw new Nt(ct.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const $=e[c+1];if("\\"!==$&&"."!==$&&"`"!==$)throw new Nt(ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=$,c+=2}else"`"===S?(g=!g,c++):"."!==S||g?(o+=S,c++):(d(),c++)}if(d(),g)throw new Nt(ct.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gi(t)}static emptyPath(){return new gi([])}}class Kt{constructor(e){this.path=e}static fromPath(e){return new Kt(pr.fromString(e))}static fromName(e){return new Kt(pr.fromString(e).popFirst(5))}static empty(){return new Kt(pr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return pr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Kt(new pr(e.slice()))}}class aa{constructor(e,t,o,c){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=c}}function Bo(i){return i.fields.find(e=>2===e.kind)}function ys(i){return i.fields.filter(e=>2!==e.kind)}aa.UNKNOWN_ID=-1;class fo{constructor(e,t){this.fieldPath=e,this.kind=t}}class vs{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new vs(0,_s.min())}}function Mu(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,c=Fn.fromTimestamp(1e9===o?new Pr(t+1,0):new Pr(t,o));return new _s(c,Kt.empty(),e)}function _a(i){return new _s(i.readTime,i.key,-1)}class _s{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new _s(Fn.min(),Kt.empty(),-1)}static max(){return new _s(Fn.max(),Kt.empty(),-1)}}function po(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Kt.comparator(i.documentKey,e.documentKey),0!==t?t:Bn(i.largestBatchId,e.largestBatchId))}const Wa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Uo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Zi(i){return eo.apply(this,arguments)}function eo(){return eo=(0,W.Z)(function*(i){if(i.code!==ct.FAILED_PRECONDITION||i.message!==Wa)throw i;Lt("LocalStore","Unexpectedly lost primary lease")}),eo.apply(this,arguments)}class ot{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&mn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ot((o,c)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(o,c)},this.catchCallback=d=>{this.wrapFailure(t,d).next(o,c)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ot?t:ot.resolve(t)}catch(t){return ot.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ot.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ot.reject(t)}static resolve(e){return new ot((t,o)=>{t(e)})}static reject(e){return new ot((t,o)=>{o(e)})}static waitFor(e){return new ot((t,o)=>{let c=0,d=0,g=!1;e.forEach(S=>{++c,S.next(()=>{++d,g&&d===c&&t()},$=>o($))}),g=!0,d===c&&t()})}static or(e){let t=ot.resolve(!1);for(const o of e)t=t.next(c=>c?ot.resolve(c):o());return t}static forEach(e,t){const o=[];return e.forEach((c,d)=>{o.push(t.call(this,c,d))}),this.waitFor(o)}static mapArray(e,t){return new ot((o,c)=>{const d=e.length,g=new Array(d);let S=0;for(let $=0;$<d;$++){const H=$;t(e[H]).next(oe=>{g[H]=oe,++S,S===d&&o(g)},oe=>c(oe))}})}static doWhile(e,t){return new ot((o,c)=>{const d=()=>{!0===e()?t().next(()=>{d()},c):o()};d()})}}class Rs{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Mi,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new qa(e,t.error)):this.P.resolve()},this.transaction.onerror=o=>{const c=Na(o.target.error);this.P.reject(new qa(e,c))}}static open(e,t,o,c){try{return new Rs(t,e.transaction(c,o))}catch(d){throw new qa(t,d)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Lt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Nr(t)}}class rs{constructor(e,t,o){this.name=e,this.version=t,this.S=o,12.2===rs.D((0,Y.z$)())&&Kr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Lt("SimpleDb","Removing database:",e),ba(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Y.hl)())return!1;if(rs.N())return!0;const e=(0,Y.z$)(),t=rs.D(e),o=0<t&&t<10,c=rs.k(e),d=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||d)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var t=this;return(0,W.Z)(function*(){return t.db||(Lt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,c)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=g=>{o(g.target.result)},d.onblocked=()=>{c(new qa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=g=>{const S=g.target.error;c("VersionError"===S.name?new Nt(ct.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===S.name?new Nt(ct.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+S):new qa(e,S))},d.onupgradeneeded=g=>{Lt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',g.oldVersion),t.S.$(g.target.result,d.transaction,g.oldVersion,t.version).next(()=>{Lt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=o=>t.B(o)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,c){var d=this;return(0,W.Z)(function*(){const g="readonly"===t;let S=0;for(;;){++S;try{d.db=yield d.F(e);const $=Rs.open(d.db,e,g?"readonly":"readwrite",o),H=c($).next(oe=>($.V(),oe)).catch(oe=>($.abort(oe),ot.reject(oe))).toPromise();return H.catch(()=>{}),yield $.v,H}catch($){const H=$,oe="FirebaseError"!==H.name&&S<3;if(Lt("SimpleDb","Transaction failed with error:",H.message,"Retrying:",oe),d.close(),!oe)return Promise.reject(H)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class xo{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return ba(this.U.delete())}}class qa extends Nt{constructor(e,t){super(ct.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function jo(i){return"IndexedDbTransactionError"===i.name}class Nr{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Lt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Lt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),ba(o)}add(e){return Lt("SimpleDb","ADD",this.store.name,e,e),ba(this.store.add(e))}get(e){return ba(this.store.get(e)).next(t=>(void 0===t&&(t=null),Lt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Lt("SimpleDb","DELETE",this.store.name,e),ba(this.store.delete(e))}count(){return Lt("SimpleDb","COUNT",this.store.name),ba(this.store.count())}W(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const c=this.cursor(o),d=[];return this.H(c,(g,S)=>{d.push(S)}).next(()=>d)}{const c=this.store.getAll(o.range);return new ot((d,g)=>{c.onerror=S=>{g(S.target.error)},c.onsuccess=S=>{d(S.target.result)}})}}J(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new ot((c,d)=>{o.onerror=g=>{d(g.target.error)},o.onsuccess=g=>{c(g.target.result)}})}Y(e,t){Lt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.X=!1;const c=this.cursor(o);return this.H(c,(d,g,S)=>S.delete())}Z(e,t){let o;t?o=e:(o={},t=e);const c=this.cursor(o);return this.H(c,t)}tt(e){const t=this.cursor({});return new ot((o,c)=>{t.onerror=d=>{const g=Na(d.target.error);c(g)},t.onsuccess=d=>{const g=d.target.result;g?e(g.primaryKey,g.value).next(S=>{S?g.continue():o()}):o()}})}H(e,t){const o=[];return new ot((c,d)=>{e.onerror=g=>{d(g.target.error)},e.onsuccess=g=>{const S=g.target.result;if(!S)return void c();const $=new xo(S),H=t(S.primaryKey,S.value,$);if(H instanceof ot){const oe=H.catch(Re=>($.done(),ot.reject(Re)));o.push(oe)}$.isDone?c():null===$.G?S.continue():S.continue($.G)}}).next(()=>ot.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ba(i){return new ot((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const c=Na(o.target.error);t(c)}})}let zu=!1;function Na(i){const e=rs.D((0,Y.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new Nt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return zu||(zu=!0,setTimeout(()=>{throw o},0)),o}}return i}class zi{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Lt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,W.Z)(function*(){t.task=null;try{Lt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(o){jo(o)?Lt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Zi(o)}yield t.nt(6e4)}))}}class hl{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,W.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.it(o,e))})()}it(e,t){const o=new Set;let c=t,d=!0;return ot.doWhile(()=>!0===d&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(g=>{if(null!==g&&!o.has(g))return Lt("IndexBackiller",`Processing collection: ${g}`),this.rt(e,g,c).next(S=>{c-=S,o.add(g)});d=!1})).next(()=>t-c)}rt(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(c=>this.localStore.localDocuments.getNextDocuments(e,t,c,o).next(d=>{const g=d.changes;return this.localStore.indexManager.updateIndexEntries(e,g).next(()=>this.ot(c,d)).next(S=>(Lt("IndexBackiller",`Updating offset: ${S}`),this.localStore.indexManager.updateCollectionGroup(e,t,S))).next(()=>g.size)}))}ot(e,t){let o=e;return t.changes.forEach((c,d)=>{const g=_a(d);po(g,o)>0&&(o=g)}),new _s(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Os{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>t.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function cu(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Gs(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Wu(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}Os.at=-1;class wi{constructor(e,t){this.comparator=e,this.root=t||Li.EMPTY}insert(e,t){return new wi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Li.BLACK,null,null))}remove(e){return new wi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Li.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const c=this.comparator(e,o.key);if(0===c)return t+o.left.size;c<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ii(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ii(this.root,e,this.comparator,!1)}getReverseIterator(){return new ii(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ii(this.root,e,this.comparator,!0)}}class ii{constructor(e,t,o,c){this.isReverse=c,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?o(e.key,t):1,t&&c&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Li{constructor(e,t,o,c,d){this.key=e,this.value=t,this.color=o??Li.RED,this.left=c??Li.EMPTY,this.right=d??Li.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,c,d){return new Li(e??this.key,t??this.value,o??this.color,c??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let c=this;const d=o(e,c.key);return c=d<0?c.copy(null,null,null,c.left.insert(e,t,o),null):0===d?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,o)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Li.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===t(e,c.key)){if(c.right.isEmpty())return Li.EMPTY;o=c.right.min(),c=c.copy(o.key,o.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Li.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mn();const e=this.left.check();if(e!==this.right.check())throw mn();return e+(this.isRed()?0:1)}}Li.EMPTY=null,Li.RED=!0,Li.BLACK=!1,Li.EMPTY=new class{constructor(){this.size=0}get key(){throw mn()}get value(){throw mn()}get color(){throw mn()}get left(){throw mn()}get right(){throw mn()}copy(i,e,t,o,c){return this}insert(i,e,t){return new Li(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ar{constructor(e){this.comparator=e,this.data=new wi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const c=o.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ya(this.data.getIterator())}getIteratorFrom(e){return new Ya(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Ar)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,d=o.getNext().key;if(0!==this.comparator(c,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ar(this.comparator);return t.data=e,t}}class Ya{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ua(i){return i.hasNext()?i.getNext():void 0}class Fr{constructor(e){this.fields=e,e.sort(gi.comparator)}static empty(){return new Fr([])}unionWith(e){let t=new Ar(gi.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Fr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class Di{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Di(t)}static fromUint8Array(e){const t=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new Di(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Di.EMPTY_BYTE_STRING=new Di("");const lu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $i(i){if(Mn(!!i),"string"==typeof i){let e=0;const t=lu.exec(i);if(Mn(!!t),t[1]){let c=t[1];c=(c+"000000000").substr(0,9),e=Number(c)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Lr(i.seconds),nanos:Lr(i.nanos)}}function Lr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Ho(i){return"string"==typeof i?Di.fromBase64String(i):Di.fromUint8Array(i)}function du(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ka(i){const e=i.mapValue.fields.__previous_value__;return du(e)?Ka(e):e}function Go(i){const e=$i(i.mapValue.fields.__local_write_time__.timestampValue);return new Pr(e.seconds,e.nanos)}class Mo{constructor(e,t,o,c,d,g,S,$){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=c,this.ssl=d,this.forceLongPolling=g,this.autoDetectLongPolling=S,this.useFetchStreams=$}}class bi{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new bi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof bi&&e.projectId===this.projectId&&e.database===this.database}}function Ia(i){return null==i}function to(i){return 0===i&&1/i==-1/0}function qu(i){return"number"==typeof i&&Number.isInteger(i)&&!to(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Ro={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Oo={nullValue:"NULL_VALUE"};function Fa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?du(i)?4:E(i)?9007199254740991:10:mn()}function mo(i,e){if(i===e)return!0;const t=Fa(i);if(t!==Fa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Go(i).isEqual(Go(e));case 3:return function(o,c){if("string"==typeof o.timestampValue&&"string"==typeof c.timestampValue&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=$i(o.timestampValue),g=$i(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return c=e,Ho(i.bytesValue).isEqual(Ho(c.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,c){return Lr(o.geoPointValue.latitude)===Lr(c.geoPointValue.latitude)&&Lr(o.geoPointValue.longitude)===Lr(c.geoPointValue.longitude)}(i,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return Lr(o.integerValue)===Lr(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Lr(o.doubleValue),g=Lr(c.doubleValue);return d===g?to(d)===to(g):isNaN(d)&&isNaN(g)}return!1}(i,e);case 9:return ho(i.arrayValue.values||[],e.arrayValue.values||[],mo);case 10:return function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(cu(d)!==cu(g))return!1;for(const S in d)if(d.hasOwnProperty(S)&&(void 0===g[S]||!mo(d[S],g[S])))return!1;return!0}(i,e);default:return mn()}var c}function yo(i,e){return void 0!==(i.values||[]).find(t=>mo(t,e))}function zo(i,e){if(i===e)return 0;const t=Fa(i),o=Fa(e);if(t!==o)return Bn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Bn(i.booleanValue,e.booleanValue);case 2:return function(c,d){const g=Lr(c.integerValue||c.doubleValue),S=Lr(d.integerValue||d.doubleValue);return g<S?-1:g>S?1:g===S?0:isNaN(g)?isNaN(S)?0:-1:1}(i,e);case 3:return Za(i.timestampValue,e.timestampValue);case 4:return Za(Go(i),Go(e));case 5:return Bn(i.stringValue,e.stringValue);case 6:return function(c,d){const g=Ho(c),S=Ho(d);return g.compareTo(S)}(i.bytesValue,e.bytesValue);case 7:return function(c,d){const g=c.split("/"),S=d.split("/");for(let $=0;$<g.length&&$<S.length;$++){const H=Bn(g[$],S[$]);if(0!==H)return H}return Bn(g.length,S.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,d){const g=Bn(Lr(c.latitude),Lr(d.latitude));return 0!==g?g:Bn(Lr(c.longitude),Lr(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(c,d){const g=c.values||[],S=d.values||[];for(let $=0;$<g.length&&$<S.length;++$){const H=zo(g[$],S[$]);if(H)return H}return Bn(g.length,S.length)}(i.arrayValue,e.arrayValue);case 10:return function(c,d){if(c===Ro.mapValue&&d===Ro.mapValue)return 0;if(c===Ro.mapValue)return 1;if(d===Ro.mapValue)return-1;const g=c.fields||{},S=Object.keys(g),$=d.fields||{},H=Object.keys($);S.sort(),H.sort();for(let oe=0;oe<S.length&&oe<H.length;++oe){const Re=Bn(S[oe],H[oe]);if(0!==Re)return Re;const dt=zo(g[S[oe]],$[H[oe]]);if(0!==dt)return dt}return Bn(S.length,H.length)}(i.mapValue,e.mapValue);default:throw mn()}}function Za(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Bn(i,e);const t=$i(i),o=$i(e),c=Bn(t.seconds,o.seconds);return 0!==c?c:Bn(t.nanos,o.nanos)}function ca(i){return vo(i)}function vo(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const c=$i(o);return`time(${c.seconds},${c.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Ho(i.bytesValue).toBase64():"referenceValue"in i?Kt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let c="[",d=!0;for(const g of o.values||[])d?d=!1:c+=",",c+=vo(g);return c+"]"}(i.arrayValue):"mapValue"in i?function(o){const c=Object.keys(o.fields||{}).sort();let d="{",g=!0;for(const S of c)g?g=!1:d+=",",d+=`${S}:${vo(o.fields[S])}`;return d+"}"}(i.mapValue):mn();var e}function ko(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function la(i){return!!i&&"integerValue"in i}function ks(i){return!!i&&"arrayValue"in i}function Ea(i){return!!i&&"nullValue"in i}function Ru(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function da(i){return!!i&&"mapValue"in i}function w(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Gs(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=w(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=w(i.arrayValue.values[t]);return e}return Object.assign({},i)}function E(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function y(i){return"nullValue"in i?Oo:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?ko(bi.empty(),Kt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:mn()}function x(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?ko(bi.empty(),Kt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Ro:mn()}function F(i,e){const t=zo(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function q(i,e){const t=zo(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class ve{constructor(e){this.value=e}static empty(){return new ve({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!da(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=w(t)}setAll(e){let t=gi.emptyPath(),o={},c=[];e.forEach((g,S)=>{if(!t.isImmediateParentOf(S)){const $=this.getFieldsMap(t);this.applyChanges($,o,c),o={},c=[],t=S.popLast()}g?o[S.lastSegment()]=w(g):c.push(S.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,o,c)}delete(e){const t=this.field(e.popLast());da(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return mo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let c=t.mapValue.fields[e.get(o)];da(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=c),t=c}return t.mapValue.fields}applyChanges(e,t,o){Gs(t,(c,d)=>e[c]=d);for(const c of o)delete e[c]}clone(){return new ve(w(this.value))}}function xe(i){const e=[];return Gs(i.fields,(t,o)=>{const c=new gi([t]);if(da(o)){const d=xe(o.mapValue).fields;if(0===d.length)e.push(c);else for(const g of d)e.push(c.child(g))}else e.push(c)}),new Fr(e)}class it{constructor(e,t,o,c,d,g){this.key=e,this.documentType=t,this.version=o,this.readTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new it(e,0,Fn.min(),Fn.min(),ve.empty(),0)}static newFoundDocument(e,t,o){return new it(e,1,t,Fn.min(),o,0)}static newNoDocument(e,t){return new it(e,2,t,Fn.min(),ve.empty(),0)}static newUnknownDocument(e,t){return new it(e,3,t,Fn.min(),ve.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ve.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ve.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof it&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new it(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xt{constructor(e,t=null,o=[],c=[],d=null,g=null,S=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=c,this.limit=d,this.startAt=g,this.endAt=S,this.ht=null}}function ir(i,e=null,t=[],o=[],c=null,d=null,g=null){return new Xt(i,e,t,o,c,d,g)}function Jt(i){const e=Yt(i);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(c=o).field.canonicalString()+c.op.toString()+ca(c.value);var c}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(c=o).field.canonicalString()+c.dir;var c}).join(","),Ia(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>ca(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>ca(o)).join(",")),e.ht=t}return e.ht}function Ri(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let c=0;c<i.orderBy.length;c++)if(!pt(i.orderBy[c],e.orderBy[c]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let c=0;c<i.filters.length;c++)if((t=i.filters[c]).op!==(o=e.filters[c]).op||!t.field.isEqual(o.field)||!mo(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!rn(i.startAt,e.startAt)&&rn(i.endAt,e.endAt)}function Wi(i){return Kt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function is(i,e){return i.filters.filter(t=>t instanceof mi&&t.field.isEqual(e))}function qi(i,e,t){let o=Oo,c=!0;for(const d of is(i,e)){let g=Oo,S=!0;switch(d.op){case"<":case"<=":g=y(d.value);break;case"==":case"in":case">=":g=d.value;break;case">":g=d.value,S=!1;break;case"!=":case"not-in":g=Oo}F({value:o,inclusive:c},{value:g,inclusive:S})<0&&(o=g,c=S)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=t.position[d];F({value:o,inclusive:c},{value:g,inclusive:t.inclusive})<0&&(o=g,c=t.inclusive);break}return{value:o,inclusive:c}}function _o(i,e,t){let o=Ro,c=!0;for(const d of is(i,e)){let g=Ro,S=!0;switch(d.op){case">=":case">":g=x(d.value),S=!1;break;case"==":case"in":case"<=":g=d.value;break;case"<":g=d.value,S=!1;break;case"!=":case"not-in":g=Ro}q({value:o,inclusive:c},{value:g,inclusive:S})>0&&(o=g,c=S)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=t.position[d];q({value:o,inclusive:c},{value:g,inclusive:t.inclusive})>0&&(o=g,c=t.inclusive);break}return{value:o,inclusive:c}}class mi extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,o):new La(e,t,o):"array-contains"===t?new xc(e,o):"in"===t?new O(e,o):"not-in"===t?new P(e,o):"array-contains-any"===t?new z(e,o):new mi(e,t,o)}static lt(e,t,o){return"in"===t?new Xa(e,o):new Sc(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(zo(t,this.value)):null!==t&&Fa(this.value)===Fa(t)&&this.ft(zo(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mn()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class La extends mi{constructor(e,t,o){super(e,t,o),this.key=Kt.fromName(o.referenceValue)}matches(e){const t=Kt.comparator(e.key,this.key);return this.ft(t)}}class Xa extends mi{constructor(e,t){super(e,"in",t),this.keys=Ac(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Sc extends mi{constructor(e,t){super(e,"not-in",t),this.keys=Ac(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ac(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>Kt.fromName(o.referenceValue))}class xc extends mi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ks(t)&&yo(t.arrayValue,this.value)}}class O extends mi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&yo(this.value.arrayValue,t)}}class P extends mi{constructor(e,t){super(e,"not-in",t)}matches(e){if(yo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!yo(this.value.arrayValue,t)}}class z extends mi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ks(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>yo(this.value.arrayValue,o))}}class de{constructor(e,t){this.position=e,this.inclusive=t}}class We{constructor(e,t="asc"){this.field=e,this.dir=t}}function pt(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Pt(i,e,t){let o=0;for(let c=0;c<i.position.length;c++){const d=e[c],g=i.position[c];if(o=d.field.isKeyField()?Kt.comparator(Kt.fromName(g.referenceValue),t.key):zo(g,t.data.field(d.field)),"desc"===d.dir&&(o*=-1),0!==o)break}return o}function rn(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!mo(i.position[t],e.position[t]))return!1;return!0}class Rn{constructor(e,t=null,o=[],c=[],d=null,g="F",S=null,$=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=c,this.limit=d,this.limitType=g,this.startAt=S,this.endAt=$,this._t=null,this.wt=null}}function sr(i,e,t,o,c,d,g,S){return new Rn(i,e,t,o,c,d,g,S)}function Qn(i){return new Rn(i)}function Gn(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Vi(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Ds(i){for(const e of i.filters)if(e.dt())return e.field;return null}function hu(i){return null!==i.collectionGroup}function Po(i){const e=Yt(i);if(null===e._t){e._t=[];const t=Ds(e),o=Vi(e);if(null!==t&&null===o)t.isKeyField()||e._t.push(new We(t)),e._t.push(new We(gi.keyField(),"asc"));else{let c=!1;for(const d of e.explicitOrderBy)e._t.push(d),d.field.isKeyField()&&(c=!0);if(!c){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new We(gi.keyField(),d))}}}return e._t}function Xi(i){const e=Yt(i);if(!e.wt)if("F"===e.limitType)e.wt=ir(e.path,e.collectionGroup,Po(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of Po(e))t.push(new We(d.field,"desc"===d.dir?"asc":"desc"));const o=e.endAt?new de(e.endAt.position,e.endAt.inclusive):null,c=e.startAt?new de(e.startAt.position,e.startAt.inclusive):null;e.wt=ir(e.path,e.collectionGroup,t,e.filters,e.limit,o,c)}return e.wt}function Qa(i,e,t){return new Rn(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function $a(i,e){return Ri(Xi(i),Xi(e))&&i.limitType===e.limitType}function Va(i){return`${Jt(Xi(i))}|lt:${i.limitType}`}function bo(i){return`Query(target=${function $r(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${ca(o.value)}`;var o}).join(", ")}]`),Ia(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>ca(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>ca(t)).join(",")),`Target(${e})`}(Xi(i))}; limitType=${i.limitType})`}function Io(i,e){return e.isFoundDocument()&&function(t,o){const c=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(c):Kt.isDocumentKey(t.path)?t.path.isEqual(c):t.path.isImmediateParentOf(c)}(i,e)&&function(t,o){for(const c of t.explicitOrderBy)if(!c.field.isKeyField()&&null===o.data.field(c.field))return!1;return!0}(i,e)&&function(t,o){for(const c of t.filters)if(!c.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(c,d,g){const S=Pt(c,d,g);return c.inclusive?S<=0:S<0}(t.startAt,Po(t),o)||t.endAt&&!function(c,d,g){const S=Pt(c,d,g);return c.inclusive?S>=0:S>0}(t.endAt,Po(t),o)));var t,o}function wa(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Dd(i){return(e,t)=>{let o=!1;for(const c of Po(i)){const d=sf(c,e,t);if(0!==d)return d;o=o||c.field.isKeyField()}return 0}}function sf(i,e,t){const o=i.field.isKeyField()?Kt.comparator(e.key,t.key):function(c,d,g){const S=d.data.field(c),$=g.data.field(c);return null!==S&&null!==$?zo(S,$):mn()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return mn()}}function af(i,e){if(i.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:to(e)?"-0":e}}function Yu(i){return{integerValue:""+i}}class Zu{constructor(){this._=void 0}}function Cd(i,e,t){return i instanceof fu?function(o,c){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&(d.fields.__previous_value__=c),{mapValue:d}}(t,e):i instanceof pu?Mc(i,e):i instanceof gu?Sd(i,e):function(o,c){const d=fl(o,c),g=mu(d)+mu(o.yt);return la(d)&&la(o.yt)?Yu(g):af(o.It,g)}(i,e)}function Td(i,e,t){return i instanceof pu?Mc(i,e):i instanceof gu?Sd(i,e):t}function fl(i,e){return i instanceof Wo?la(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class fu extends Zu{}class pu extends Zu{constructor(e){super(),this.elements=e}}function Mc(i,e){const t=uf(e);for(const o of i.elements)t.some(c=>mo(c,o))||t.push(o);return{arrayValue:{values:t}}}class gu extends Zu{constructor(e){super(),this.elements=e}}function Sd(i,e){let t=uf(e);for(const o of i.elements)t=t.filter(c=>!mo(c,o));return{arrayValue:{values:t}}}class Wo extends Zu{constructor(e,t){super(),this.It=e,this.yt=t}}function mu(i){return Lr(i.integerValue||i.doubleValue)}function uf(i){return ks(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Xu{constructor(e,t){this.field=e,this.transform=t}}class Yp{constructor(e,t){this.version=e,this.transformResults=t}}class Bi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bi}static exists(e){return new Bi(void 0,e)}static updateTime(e){return new Bi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pl(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Qu{}function Ad(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new nc(i.key,Bi.none()):new zs(i.key,i.data,Bi.none());{const t=i.data,o=ve.empty();let c=new Ar(gi.comparator);for(let d of e.fields)if(!c.has(d)){let g=t.field(d);null===g&&d.length>1&&(d=d.popLast(),g=t.field(d)),null===g?o.delete(d):o.set(d,g),c=c.add(d)}return new Eo(i.key,o,new Fr(c.toArray()),Bi.none())}}function xd(i,e,t){i instanceof zs?function(o,c,d){const g=o.value.clone(),S=tc(o.fieldTransforms,c,d.transformResults);g.setAll(S),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(i,e,t):i instanceof Eo?function(o,c,d){if(!pl(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=tc(o.fieldTransforms,c,d.transformResults),S=c.data;S.setAll(Md(o)),S.setAll(g),c.convertToFoundDocument(d.version,S).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ju(i,e,t,o){return i instanceof zs?function(c,d,g,S){if(!pl(c.precondition,d))return g;const $=c.value.clone(),H=gl(c.fieldTransforms,S,d);return $.setAll(H),d.convertToFoundDocument(d.version,$).setHasLocalMutations(),null}(i,e,t,o):i instanceof Eo?function(c,d,g,S){if(!pl(c.precondition,d))return g;const $=gl(c.fieldTransforms,S,d),H=d.data;return H.setAll(Md(c)),H.setAll($),d.convertToFoundDocument(d.version,H).setHasLocalMutations(),null===g?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(oe=>oe.field))}(i,e,t,o):(g=t,pl(i.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g);var d,g}function lf(i,e){let t=null;for(const o of i.fieldTransforms){const c=e.data.field(o.field),d=fl(o.transform,c||null);null!=d&&(null===t&&(t=ve.empty()),t.set(o.field,d))}return t||null}function ec(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&ho(t,o,(c,d)=>function cf(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof pu&&o instanceof pu||t instanceof gu&&o instanceof gu?ho(t.elements,o.elements,mo):t instanceof Wo&&o instanceof Wo?mo(t.yt,o.yt):t instanceof fu&&o instanceof fu);var t,o}(c,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class zs extends Qu{constructor(e,t,o,c=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class Eo extends Qu{constructor(e,t,o,c,d=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=c,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function Md(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function tc(i,e,t){const o=new Map;Mn(i.length===t.length);for(let c=0;c<t.length;c++){const d=i[c],g=d.transform,S=e.data.field(d.field);o.set(d.field,Td(g,S,t[c]))}return o}function gl(i,e,t){const o=new Map;for(const c of i){const d=c.transform,g=t.data.field(c.field);o.set(c.field,Cd(d,g,e))}return o}class nc extends Qu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rd extends Qu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Kp{constructor(e){this.count=e}}var Yi,Dr;function Zp(i){switch(i){default:return mn();case ct.CANCELLED:case ct.UNKNOWN:case ct.DEADLINE_EXCEEDED:case ct.RESOURCE_EXHAUSTED:case ct.INTERNAL:case ct.UNAVAILABLE:case ct.UNAUTHENTICATED:return!1;case ct.INVALID_ARGUMENT:case ct.NOT_FOUND:case ct.ALREADY_EXISTS:case ct.PERMISSION_DENIED:case ct.FAILED_PRECONDITION:case ct.ABORTED:case ct.OUT_OF_RANGE:case ct.UNIMPLEMENTED:case ct.DATA_LOSS:return!0}}function Xp(i){if(void 0===i)return Kr("GRPC error has no .code"),ct.UNKNOWN;switch(i){case Yi.OK:return ct.OK;case Yi.CANCELLED:return ct.CANCELLED;case Yi.UNKNOWN:return ct.UNKNOWN;case Yi.DEADLINE_EXCEEDED:return ct.DEADLINE_EXCEEDED;case Yi.RESOURCE_EXHAUSTED:return ct.RESOURCE_EXHAUSTED;case Yi.INTERNAL:return ct.INTERNAL;case Yi.UNAVAILABLE:return ct.UNAVAILABLE;case Yi.UNAUTHENTICATED:return ct.UNAUTHENTICATED;case Yi.INVALID_ARGUMENT:return ct.INVALID_ARGUMENT;case Yi.NOT_FOUND:return ct.NOT_FOUND;case Yi.ALREADY_EXISTS:return ct.ALREADY_EXISTS;case Yi.PERMISSION_DENIED:return ct.PERMISSION_DENIED;case Yi.FAILED_PRECONDITION:return ct.FAILED_PRECONDITION;case Yi.ABORTED:return ct.ABORTED;case Yi.OUT_OF_RANGE:return ct.OUT_OF_RANGE;case Yi.UNIMPLEMENTED:return ct.UNIMPLEMENTED;case Yi.DATA_LOSS:return ct.DATA_LOSS;default:return mn()}}(Dr=Yi||(Yi={}))[Dr.OK=0]="OK",Dr[Dr.CANCELLED=1]="CANCELLED",Dr[Dr.UNKNOWN=2]="UNKNOWN",Dr[Dr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dr[Dr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dr[Dr.NOT_FOUND=5]="NOT_FOUND",Dr[Dr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dr[Dr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dr[Dr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dr[Dr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dr[Dr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dr[Dr.ABORTED=10]="ABORTED",Dr[Dr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dr[Dr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dr[Dr.INTERNAL=13]="INTERNAL",Dr[Dr.UNAVAILABLE=14]="UNAVAILABLE",Dr[Dr.DATA_LOSS=15]="DATA_LOSS";class Ja{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[c,d]of o)if(this.equalsFn(c,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),c=this.inner[o];if(void 0===c)return this.inner[o]=[[e,t]],void this.innerSize++;for(let d=0;d<c.length;d++)if(this.equalsFn(c[d][0],e))return void(c[d]=[e,t]);c.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return 1===o.length?delete this.inner[t]:o.splice(c,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,(t,o)=>{for(const[c,d]of o)e(c,d)})}isEmpty(){return Wu(this.inner)}size(){return this.innerSize}}const Qp=new wi(Kt.comparator);function No(){return Qp}const df=new wi(Kt.comparator);function Rc(...i){let e=df;for(const t of i)e=e.insert(t.key,t);return e}function Od(i){let e=df;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function qo(){return Ou()}function hf(){return Ou()}function Ou(){return new Ja(i=>i.toString(),(i,e)=>i.isEqual(e))}const Jp=new wi(Kt.comparator),ss=new Ar(Kt.comparator);function dr(...i){let e=ss;for(const t of i)e=e.add(t);return e}const eg=new Ar(Bn);function rc(){return eg}class ic{constructor(e,t,o,c,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=c,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const c=new Map;return c.set(e,Oc.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new ic(Fn.min(),c,rc(),No(),dr())}}class Oc{constructor(e,t,o,c,d){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=c,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new Oc(o,t,dr(),dr(),dr())}}class ml{constructor(e,t,o,c){this.Tt=e,this.removedTargetIds=t,this.key=o,this.Et=c}}class ff{constructor(e,t){this.targetId=e,this.At=t}}class pf{constructor(e,t,o=Di.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=c}}class gf{constructor(){this.Rt=0,this.bt=sc(),this.Pt=Di.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=dr(),t=dr(),o=dr();return this.bt.forEach((c,d)=>{switch(d){case 0:e=e.add(c);break;case 2:t=t.add(c);break;case 1:o=o.add(c);break;default:mn()}}),new Oc(this.Pt,this.vt,e,t,o)}Nt(){this.Vt=!1,this.bt=sc()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class oy{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=No(),this.qt=tg(),this.Kt=new Ar(Bn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const o=this.zt(t);switch(e.state){case 0:this.Ht(t)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),o.Ct(e.resumeToken));break;default:mn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((o,c)=>{this.Ht(c)&&t(c)})}Yt(e){const t=e.targetId,o=e.At.count,c=this.Xt(t);if(c){const d=c.target;if(Wi(d))if(0===o){const g=new Kt(d.path);this.jt(t,g,it.newNoDocument(g,Fn.min()))}else Mn(1===o);else this.Zt(t)!==o&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((d,g)=>{const S=this.Xt(g);if(S){if(d.current&&Wi(S.target)){const $=new Kt(S.target.path);null!==this.Ut.get($)||this.ee(g,$)||this.jt(g,$,it.newNoDocument($,e))}d.Dt&&(t.set(g,d.xt()),d.Nt())}});let o=dr();this.qt.forEach((d,g)=>{let S=!0;g.forEachWhile($=>{const H=this.Xt($);return!H||2===H.purpose||(S=!1,!1)}),S&&(o=o.add(d))}),this.Ut.forEach((d,g)=>g.setReadTime(e));const c=new ic(e,t,this.Kt,this.Ut,o);return this.Ut=No(),this.qt=tg(),this.Kt=new Ar(Bn),c}Qt(e,t){if(!this.Ht(e))return;const o=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,o),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,o){if(!this.Ht(e))return;const c=this.zt(e);this.ee(e,t)?c.kt(t,1):c.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),o&&(this.Ut=this.Ut.insert(t,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new gf,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Ar(Bn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Lt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new gf),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function tg(){return new wi(Kt.comparator)}function sc(){return new wi(Kt.comparator)}const kd={asc:"ASCENDING",desc:"DESCENDING"},mf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class yf{constructor(e,t){this.databaseId=e,this.gt=t}}function oc(i,e){return i.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vf(i,e){return i.gt?e.toBase64():e.toUint8Array()}function _f(i,e){return oc(i,e.toTimestamp())}function Cs(i){return Mn(!!i),Fn.fromTimestamp(function(e){const t=$i(e);return new Pr(t.seconds,t.nanos)}(i))}function kc(i,e){return(t=i,new pr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ng(i){const e=pr.fromString(i);return Mn(ue(e)),e}function Pc(i,e){return kc(i.databaseId,e.path)}function ha(i,e){const t=ng(e);if(t.get(1)!==i.databaseId.projectId)throw new Nt(ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Nt(ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Kt(bf(t))}function yl(i,e){return kc(i.databaseId,e)}function Pd(i){const e=ng(i);return 4===e.length?pr.emptyPath():bf(e)}function Da(i){return new pr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function bf(i){return Mn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function vl(i,e,t){return{name:Pc(i,e),fields:t.value.mapValue.fields}}function yu(i,e){let t;if(e instanceof zs)t={update:vl(i,e.key,e.value)};else if(e instanceof nc)t={delete:Pc(i,e.key)};else if(e instanceof Eo)t={update:vl(i,e.key,e.data),updateMask:K(e.fieldMask)};else{if(!(e instanceof Rd))return mn();t={verify:Pc(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(c,d){const g=d.transform;if(g instanceof fu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof pu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof gu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Wo)return{fieldPath:d.field.canonicalString(),increment:g.yt};throw mn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:_f(i,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:mn()),t;var c}function eu(i,e){const t=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?Bi.updateTime(Cs(c.updateTime)):void 0!==c.exists?Bi.exists(c.exists):Bi.none():Bi.none(),o=e.updateTransforms?e.updateTransforms.map(c=>function(d,g){let S=null;"setToServerValue"in g?(Mn("REQUEST_TIME"===g.setToServerValue),S=new fu):"appendMissingElements"in g?S=new pu(g.appendMissingElements.values||[]):"removeAllFromArray"in g?S=new gu(g.removeAllFromArray.values||[]):"increment"in g?S=new Wo(d,g.increment):mn();const $=gi.fromServerFormat(g.fieldPath);return new Xu($,S)}(i,c)):[];var c;if(e.update){const c=ha(i,e.update.name),d=new ve({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new Fr((e.updateMask.fieldPaths||[]).map(H=>gi.fromServerFormat(H)));return new Eo(c,d,g,t,o)}return new zs(c,d,t,o)}if(e.delete){const c=ha(i,e.delete);return new nc(c,t)}if(e.verify){const c=ha(i,e.verify);return new Rd(c,t)}return mn()}function _l(i,e){return{documents:[yl(i,e.path)]}}function Fd(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=yl(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=yl(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const c=function($){if(0===$.length)return;const H=$.map(oe=>function(Re){if("=="===Re.op){if(Ru(Re.value))return{unaryFilter:{field:C(Re.field),op:"IS_NAN"}};if(Ea(Re.value))return{unaryFilter:{field:C(Re.field),op:"IS_NULL"}}}else if("!="===Re.op){if(Ru(Re.value))return{unaryFilter:{field:C(Re.field),op:"IS_NOT_NAN"}};if(Ea(Re.value))return{unaryFilter:{field:C(Re.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:C(Re.field),op:sg(Re.op),value:Re.value}}}(oe));return 1===H.length?H[0]:{compositeFilter:{op:"AND",filters:H}}}(e.filters);c&&(t.structuredQuery.where=c);const d=function($){if(0!==$.length)return $.map(H=>{return{field:C((oe=H).field),direction:ig(oe.dir)};var oe})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const g=(H=e.limit,i.gt||Ia(H)?H:{value:H});var H,S,$;return null!==g&&(t.structuredQuery.limit=g),e.startAt&&(t.structuredQuery.startAt={before:(S=e.startAt).inclusive,values:S.position}),e.endAt&&(t.structuredQuery.endAt={before:!($=e.endAt).inclusive,values:$.position}),t}function Ef(i){let e=Pd(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let c=null;if(o>0){Mn(1===o);const oe=t.from[0];oe.allDescendants?c=oe.collectionId:e=e.child(oe.collectionId)}let d=[];t.where&&(d=ku(t.where));let g=[];t.orderBy&&(g=t.orderBy.map(oe=>{return new We(f((Re=oe).field),function(dt){switch(dt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Re.direction));var Re}));let S=null;t.limit&&(S=function(oe){let Re;return Re="object"==typeof oe?oe.value:oe,Ia(Re)?null:Re}(t.limit));let $=null;var oe;t.startAt&&($=new de((oe=t.startAt).values||[],!!oe.before));let H=null;return t.endAt&&(H=function(oe){return new de(oe.values||[],!oe.before)}(t.endAt)),sr(e,c,g,d,S,"F",$,H)}function ku(i){return i?void 0!==i.unaryFilter?[A(i)]:void 0!==i.fieldFilter?[m(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>ku(e)).reduce((e,t)=>e.concat(t)):mn():[]}function ig(i){return kd[i]}function sg(i){return mf[i]}function C(i){return{fieldPath:i.canonicalString()}}function f(i){return gi.fromServerFormat(i.fieldPath)}function m(i){return mi.create(f(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mn()}}(i.fieldFilter.op),i.fieldFilter.value)}function A(i){switch(i.unaryFilter.op){case"IS_NAN":const e=f(i.unaryFilter.field);return mi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=f(i.unaryFilter.field);return mi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=f(i.unaryFilter.field);return mi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=f(i.unaryFilter.field);return mi.create(c,"!=",{nullValue:"NULL_VALUE"});default:return mn()}}function K(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ue(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Qe(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=pn(e)),e=Rt(i.get(t),e);return pn(e)}function Rt(i,e){let t=e;const o=i.length;for(let c=0;c<o;c++){const d=i.charAt(c);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function pn(i){return i+"\x01\x01"}function bn(i){const e=i.length;if(Mn(e>=2),2===e)return Mn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),pr.emptyPath();const t=e-2,o=[];let c="";for(let d=0;d<e;){const g=i.indexOf("\x01",d);switch((g<0||g>t)&&mn(),i.charAt(g+1)){case"\x01":const S=i.substring(d,g);let $;0===c.length?$=S:(c+=S,$=c,c=""),o.push($);break;case"\x10":c+=i.substring(d,g),c+="\0";break;case"\x11":c+=i.substring(d,g+1);break;default:mn()}d=g+2}return new pr(o)}const hr=["userId","batchId"];function Ur(i,e){return[i,Qe(e)]}function no(i,e,t){return[i,Qe(e),t]}const tu={},bl=["prefixPath","collectionGroup","readTime","documentId"],Il=["prefixPath","collectionGroup","documentId"],El=["collectionGroup","readTime","prefixPath","documentId"],Ld=["canonicalId","targetId"],$d=["targetId","path"],Fc=["path","targetId"],wl=["collectionId","parent"],Lc=["indexId","uid"],Dl=["uid","sequenceNumber"],Vd=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Cl=["indexId","uid","orderedDocumentKey"],Bd=["userId","collectionPath","documentId"],og=["userId","collectionPath","largestBatchId"],Df=["userId","collectionGroup","largestBatchId"],ay=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],V_=[...ay,"documentOverlays"],uy=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],cy=uy,B_=[...cy,"indexConfiguration","indexState","indexEntries"];class Cf extends Uo{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Ps(i,e){const t=Yt(i);return rs.M(t.ie,e)}class Tl{constructor(e,t,o,c){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=c}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let c=0;c<this.mutations.length;c++){const d=this.mutations[c];d.key.isEqual(e.key)&&xd(d,e,o[c])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Ju(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Ju(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=hf();return this.mutations.forEach(c=>{const d=e.get(c.key),g=d.overlayedDocument;let S=this.applyToLocalView(g,d.mutatedFields);S=t.has(c.key)?null:S;const $=Ad(g,S);null!==$&&o.set(c.key,$),g.isValidDocument()||g.convertToNoDocument(Fn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),dr())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,(t,o)=>ec(t,o))&&ho(this.baseMutations,e.baseMutations,(t,o)=>ec(t,o))}}class Ud{constructor(e,t,o,c){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=c}static from(e,t,o){Mn(e.mutations.length===o.length);let c=Jp;const d=e.mutations;for(let g=0;g<d.length;g++)c=c.insert(d[g].key,o[g].version);return new Ud(e,t,o,c)}}class jd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class vu{constructor(e,t,o,c,d=Fn.min(),g=Fn.min(),S=Di.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=c,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=S}withSequenceNumber(e){return new vu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Hd{constructor(e){this.re=e}}function Gd(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Pu(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Pc(c=i.re,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:oc(c,d.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:ac(e.version)};else{if(!e.isUnknownDocument())return mn();o.unknownDocument={path:t.path.toArray(),version:ac(e.version)}}var c,d;return o}function Pu(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function ac(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function uc(i){const e=new Pr(i.seconds,i.nanoseconds);return Fn.fromTimestamp(e)}function cc(i,e){const t=(e.baseMutations||[]).map(d=>eu(i.re,d));for(let d=0;d<e.mutations.length-1;++d){const g=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(g.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const o=e.mutations.map(d=>eu(i.re,d)),c=Pr.fromMillis(e.localWriteTimeMs);return new Tl(e.batchId,c,t,o)}function $c(i){const e=uc(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?uc(i.lastLimboFreeSnapshotVersion):Fn.min();let o;var c;return void 0!==i.query.documents?(Mn(1===(c=i.query).documents.length),o=Xi(Qn(Pd(c.documents[0])))):o=Xi(Ef(i.query)),new vu(o,i.targetId,0,i.lastListenSequenceNumber,e,t,Di.fromBase64String(i.resumeToken))}function ag(i,e){const t=ac(e.snapshotVersion),o=ac(e.lastLimboFreeSnapshotVersion);let c;c=Wi(e.target)?_l(i.re,e.target):Fd(i.re,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Jt(e.target),readTime:t,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:c}}function Tf(i){const e=Ef({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Qa(e,e.limit,"L"):e}function Sf(i,e){return new jd(e.largestBatchId,eu(i.re,e.overlayMutation))}function ug(i,e){const t=e.path.lastSegment();return[i,Qe(e.path.popLast()),t]}function zd(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:ac(o.readTime),documentKey:Qe(o.documentKey.path),largestBatchId:o.largestBatchId}}class dy{getBundleMetadata(e,t){return cg(e).get(t).next(o=>{if(o)return{id:(c=o).bundleId,createTime:uc(c.createTime),version:c.version};var c})}saveBundleMetadata(e,t){return cg(e).put({bundleId:(o=t).id,createTime:ac(Cs(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return lg(e).get(t).next(o=>{if(o)return{name:(c=o).name,query:Tf(c.bundledQuery),readTime:uc(c.readTime)};var c})}saveNamedQuery(e,t){return lg(e).put({name:(o=t).name,readTime:ac(Cs(o.readTime)),bundledQuery:o.bundledQuery});var o}}function cg(i){return Ps(i,"bundles")}function lg(i){return Ps(i,"namedQueries")}class Sl{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Sl(e,t.uid||"")}getOverlay(e,t){return Al(e).get(ug(this.userId,t)).next(o=>o?Sf(this.It,o):null)}getOverlays(e,t){const o=qo();return ot.forEach(t,c=>this.getOverlay(e,c).next(d=>{null!==d&&o.set(c,d)})).next(()=>o)}saveOverlays(e,t,o){const c=[];return o.forEach((d,g)=>{const S=new jd(t,g);c.push(this.ue(e,S))}),ot.waitFor(c)}removeOverlaysForBatchId(e,t,o){const c=new Set;t.forEach(g=>c.add(Qe(g.getCollectionPath())));const d=[];return c.forEach(g=>{const S=IDBKeyRange.bound([this.userId,g,o],[this.userId,g,o+1],!1,!0);d.push(Al(e).Y("collectionPathOverlayIndex",S))}),ot.waitFor(d)}getOverlaysForCollection(e,t,o){const c=qo(),d=Qe(t),g=IDBKeyRange.bound([this.userId,d,o],[this.userId,d,Number.POSITIVE_INFINITY],!0);return Al(e).W("collectionPathOverlayIndex",g).next(S=>{for(const $ of S){const H=Sf(this.It,$);c.set(H.getKey(),H)}return c})}getOverlaysForCollectionGroup(e,t,o,c){const d=qo();let g;const S=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Al(e).Z({index:"collectionGroupOverlayIndex",range:S},($,H,oe)=>{const Re=Sf(this.It,H);d.size()<c||Re.largestBatchId===g?(d.set(Re.getKey(),Re),g=Re.largestBatchId):oe.done()}).next(()=>d)}ue(e,t){return Al(e).put(function(o,c,d){const[g,S,$]=ug(c,d.mutation.key);return{userId:c,collectionPath:S,documentId:$,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:yu(o.re,d.mutation)}}(this.It,this.userId,t))}}function Al(i){return Ps(i,"documentOverlays")}class lc{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Lr(e.integerValue));else if("doubleValue"in e){const o=Lr(e.doubleValue);isNaN(o)?this.le(t,13):(this.le(t,15),to(o)?t.fe(0):t.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(t,20),"string"==typeof o?t.de(o):(t.de(`${o.seconds||""}`),t.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Ho(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(t,45),t.fe(o.latitude||0),t.fe(o.longitude||0)}else"mapValue"in e?E(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):mn()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const o=e.fields||{};this.le(t,55);for(const c of Object.keys(o))this._e(c,t),this.ae(o[c],t)}pe(e,t){const o=e.values||[];this.le(t,50);for(const c of o)this.ae(c,t)}ge(e,t){this.le(t,37),Kt.fromName(e).path.forEach(o=>{this.le(t,60),this.Ie(o,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function Fo(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Wd(i){const e=64-function(t){let o=0;for(let c=0;c<8;++c){const d=Fo(255&t[c]);if(o+=d,8!==d)break}return o}(i);return Math.ceil(e/8)}lc.Te=new lc;class dg{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ae(o.value),o=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Pe(o.value),o=t.next();this.ve()}Ve(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const c=t.codePointAt(0);this.Ae(240|c>>>18),this.Ae(128|63&c>>>12),this.Ae(128|63&c>>>6),this.Ae(128|63&c)}}this.Re()}Se(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Pe(o);else if(o<2048)this.Pe(960|o>>>6),this.Pe(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o);else{const c=t.codePointAt(0);this.Pe(240|c>>>18),this.Pe(128|63&c>>>12),this.Pe(128|63&c>>>6),this.Pe(128|63&c)}}this.ve()}De(e){const t=this.Ce(e),o=Wd(t);this.xe(1+o),this.buffer[this.position++]=255&o;for(let c=t.length-o;c<t.length;++c)this.buffer[this.position++]=255&t[c]}Ne(e){const t=this.Ce(e),o=Wd(t);this.xe(1+o),this.buffer[this.position++]=~(255&o);for(let c=t.length-o;c<t.length;++c)this.buffer[this.position++]=~(255&t[c])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(c){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,c,!1),new Uint8Array(d.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let c=1;c<t.length;++c)t[c]^=o?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const c=new Uint8Array(o);c.set(this.buffer),this.buffer=c}}class Af{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class wo{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class _u{constructor(){this.Be=new dg,this.Le=new Af(this.Be),this.Ue=new wo(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Nu{constructor(e,t,o,c){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=c}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Nu(this.indexId,this.documentKey,this.arrayValue,o)}}function dc(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=hg(i.arrayValue,e.arrayValue),0!==t?t:(t=hg(i.directionalValue,e.directionalValue),0!==t?t:Kt.comparator(i.documentKey,e.documentKey)))}function hg(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class fg{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const o=t;o.dt()?this.je=o:this.Qe.push(o)}}We(e){const t=Bo(e);if(void 0!==t&&!this.ze(t))return!1;const o=ys(e);let c=0,d=0;for(;c<o.length&&this.ze(o[c]);++c);if(c===o.length)return!0;if(void 0!==this.je){const g=o[c];if(!this.He(this.je,g)||!this.Je(this.Ge[d++],g))return!1;++c}for(;c<o.length;++c){const g=o[c];if(d>=this.Ge.length||!this.Je(this.Ge[d++],g))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class hy{constructor(){this.Ye=new qd}addToCollectionParentIndex(e,t){return this.Ye.add(t),ot.resolve()}getCollectionParents(e,t){return ot.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ot.resolve()}deleteFieldIndex(e,t){return ot.resolve()}getDocumentsMatchingTarget(e,t){return ot.resolve(null)}getIndexType(e,t){return ot.resolve(0)}getFieldIndexes(e,t){return ot.resolve([])}getNextCollectionGroupToUpdate(e){return ot.resolve(null)}getMinOffset(e,t){return ot.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,t){return ot.resolve(_s.min())}updateCollectionGroup(e,t,o){return ot.resolve()}updateIndexEntries(e,t){return ot.resolve()}}class qd{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),c=this.index[t]||new Ar(pr.comparator),d=!c.has(o);return this.index[t]=c.add(o),d}has(e){const t=e.lastSegment(),o=e.popLast(),c=this.index[t];return c&&c.has(o)}getEntries(e){return(this.index[e]||new Ar(pr.comparator)).toArray()}}const Yd=new Uint8Array(0);class pg{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new qd,this.Ze=new Ja(o=>Jt(o),(o,c)=>Ri(o,c)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const o=t.lastSegment(),c=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const d={collectionId:o,parent:Qe(c)};return gg(e).put(d)}return ot.resolve()}getCollectionParents(e,t){const o=[],c=IDBKeyRange.bound([t,""],[sa(t),""],!1,!0);return gg(e).W(c).next(d=>{for(const g of d){if(g.collectionId!==t)break;o.push(bn(g.parent))}return o})}addFieldIndex(e,t){const o=Kd(e),c={indexId:(g=t).indexId,collectionGroup:g.collectionGroup,fields:g.fields.map(S=>[S.fieldPath.canonicalString(),S.kind])};var g;delete c.indexId;const d=o.add(c);if(t.indexState){const g=Ml(e);return d.next(S=>{g.put(zd(S,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return d.next()}deleteFieldIndex(e,t){const o=Kd(e),c=Ml(e),d=xl(e);return o.delete(t.indexId).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=xl(e);let c=!0;const d=new Map;return ot.forEach(this.tn(t),g=>this.en(e,g).next(S=>{c&&(c=!!S),d.set(g,S)})).next(()=>{if(c){let g=dr();const S=[];return ot.forEach(d,($,H)=>{var oe;Lt("IndexedDbIndexManager",`Using index ${oe=$,`id=${oe.indexId}|cg=${oe.collectionGroup}|f=${oe.fields.map(si=>`${si.fieldPath}:${si.kind}`).join(",")}`} to execute ${Jt(t)}`);const Re=function(si,as){const Ci=Bo(as);if(void 0===Ci)return null;for(const oi of is(si,Ci.fieldPath))switch(oi.op){case"array-contains-any":return oi.value.arrayValue.values||[];case"array-contains":return[oi.value]}return null}(H,$),dt=function(si,as){const Ci=new Map;for(const oi of ys(as))for(const io of is(si,oi.fieldPath))switch(io.op){case"==":case"in":Ci.set(oi.fieldPath.canonicalString(),io.value);break;case"not-in":case"!=":return Ci.set(oi.fieldPath.canonicalString(),io.value),Array.from(Ci.values())}return null}(H,$),Et=function(si,as){const Ci=[];let oi=!0;for(const io of ys(as)){const Id=0===io.kind?qi(si,io.fieldPath,si.startAt):_o(si,io.fieldPath,si.startAt);Ci.push(Id.value),oi&&(oi=Id.inclusive)}return new de(Ci,oi)}(H,$),kt=function(si,as){const Ci=[];let oi=!0;for(const io of ys(as)){const Id=0===io.kind?_o(si,io.fieldPath,si.endAt):qi(si,io.fieldPath,si.endAt);Ci.push(Id.value),oi&&(oi=Id.inclusive)}return new de(Ci,oi)}(H,$),ln=this.nn($,H,Et),vn=this.nn($,H,kt),ei=this.sn($,H,dt),Oi=this.rn($.indexId,Re,ln,Et.inclusive,vn,kt.inclusive,ei);return ot.forEach(Oi,si=>o.J(si,t.limit).next(as=>{as.forEach(Ci=>{const oi=Kt.fromSegments(Ci.documentKey);g.has(oi)||(g=g.add(oi),S.push(oi))})}))}).next(()=>S)}return ot.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,o,c,d,g,S){const $=(null!=t?t.length:1)*Math.max(o.length,d.length),H=$/(null!=t?t.length:1),oe=[];for(let Re=0;Re<$;++Re){const dt=t?this.on(t[Re/H]):Yd,Et=this.un(e,dt,o[Re%H],c),kt=this.cn(e,dt,d[Re%H],g),ln=S.map(vn=>this.un(e,dt,vn,!0));oe.push(...this.createRange(Et,kt,ln))}return oe}un(e,t,o,c){const d=new Nu(e,Kt.empty(),t,o);return c?d:d.Ke()}cn(e,t,o,c){const d=new Nu(e,Kt.empty(),t,o);return c?d.Ke():d}en(e,t){const o=new fg(t),c=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,c).next(d=>{let g=null;for(const S of d)o.We(S)&&(!g||S.fields.length>g.fields.length)&&(g=S);return g})}getIndexType(e,t){let o=2;return ot.forEach(this.tn(t),c=>this.en(e,c).next(d=>{d?0!==o&&d.fields.length<function(g){let S=new Ar(gi.comparator),$=!1;for(const H of g.filters){const oe=H;oe.field.isKeyField()||("array-contains"===oe.op||"array-contains-any"===oe.op?$=!0:S=S.add(oe.field))}for(const H of g.orderBy)H.field.isKeyField()||(S=S.add(H.field));return S.size+($?1:0)}(c)&&(o=1):o=0})).next(()=>o)}an(e,t){const o=new _u;for(const c of ys(e)){const d=t.data.field(c.fieldPath);if(null==d)return null;const g=o.qe(c.kind);lc.Te.ce(d,g)}return o.$e()}on(e){const t=new _u;return lc.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const o=new _u;return lc.Te.ce(ko(this.databaseId,t),o.qe(function(c){const d=ys(c);return 0===d.length?0:d[d.length-1].kind}(e))),o.$e()}sn(e,t,o){if(null===o)return[];let c=[];c.push(new _u);let d=0;for(const g of ys(e)){const S=o[d++];for(const $ of c)if(this.ln(t,g.fieldPath)&&ks(S))c=this.fn(c,g,S);else{const H=$.qe(g.kind);lc.Te.ce(S,H)}}return this.dn(c)}nn(e,t,o){return this.sn(e,t,o.position)}dn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].$e();return t}fn(e,t,o){const c=[...e],d=[];for(const g of o.arrayValue.values||[])for(const S of c){const $=new _u;$.seed(S.$e()),lc.Te.ce(g,$.qe(t.kind)),d.push($)}return d}ln(e,t){return!!e.filters.find(o=>o instanceof mi&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=Kd(e),c=Ml(e);return(t?o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.W()).next(d=>{const g=[];return ot.forEach(d,S=>c.get([S.indexId,this.uid]).next($=>{g.push(function(H,oe){const Re=oe?new vs(oe.sequenceNumber,new _s(uc(oe.readTime),new Kt(bn(oe.documentKey)),oe.largestBatchId)):vs.empty(),dt=H.fields.map(([Et,kt])=>new fo(gi.fromServerFormat(Et),kt));return new aa(H.indexId,H.collectionGroup,dt,Re)}(S,$))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,c)=>{const d=o.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==d?d:Bn(o.collectionGroup,c.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const c=Kd(e),d=Ml(e);return this._n(e).next(g=>c.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(S=>ot.forEach(S,$=>d.put(zd($.indexId,this.user,g,o)))))}updateIndexEntries(e,t){const o=new Map;return ot.forEach(t,(c,d)=>{const g=o.get(c.collectionGroup);return(g?ot.resolve(g):this.getFieldIndexes(e,c.collectionGroup)).next(S=>(o.set(c.collectionGroup,S),ot.forEach(S,$=>this.wn(e,c,$).next(H=>{const oe=this.mn(d,$);return H.isEqual(oe)?ot.resolve():this.gn(e,d,$,H,oe)}))))})}yn(e,t,o,c){return xl(e).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.hn(o,t.key),documentKey:t.key.path.toArray()})}pn(e,t,o,c){return xl(e).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.hn(o,t.key),t.key.path.toArray()])}wn(e,t,o){const c=xl(e);let d=new Ar(dc);return c.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.hn(o,t)])},(g,S)=>{d=d.add(new Nu(o.indexId,t,S.arrayValue,S.directionalValue))}).next(()=>d)}mn(e,t){let o=new Ar(dc);const c=this.an(t,e);if(null==c)return o;const d=Bo(t);if(null!=d){const g=e.data.field(d.fieldPath);if(ks(g))for(const S of g.arrayValue.values||[])o=o.add(new Nu(t.indexId,e.key,this.on(S),c))}else o=o.add(new Nu(t.indexId,e.key,Yd,c));return o}gn(e,t,o,c,d){Lt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const g=[];return function(S,$,H,oe,Re){const dt=S.getIterator(),Et=$.getIterator();let kt=ua(dt),ln=ua(Et);for(;kt||ln;){let vn=!1,ei=!1;if(kt&&ln){const Oi=H(kt,ln);Oi<0?ei=!0:Oi>0&&(vn=!0)}else null!=kt?ei=!0:vn=!0;vn?(oe(ln),ln=ua(Et)):ei?(Re(kt),kt=ua(dt)):(kt=ua(dt),ln=ua(Et))}}(c,d,dc,S=>{g.push(this.yn(e,t,o,S))},S=>{g.push(this.pn(e,t,o,S))}),ot.waitFor(g)}_n(e){let t=1;return Ml(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,c,d)=>{d.done(),t=c.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((g,S)=>dc(g,S)).filter((g,S,$)=>!S||0!==dc(g,$[S-1]));const c=[];c.push(e);for(const g of o){const S=dc(g,e),$=dc(g,t);if(0===S)c[0]=e.Ke();else if(S>0&&$<0)c.push(g),c.push(g.Ke());else if($>0)break}c.push(t);const d=[];for(let g=0;g<c.length;g+=2)d.push(IDBKeyRange.bound([c[g].indexId,this.uid,c[g].arrayValue,c[g].directionalValue,Yd,[]],[c[g+1].indexId,this.uid,c[g+1].arrayValue,c[g+1].directionalValue,Yd,[]]));return d}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(mg)}getMinOffset(e,t){return ot.mapArray(this.tn(t),o=>this.en(e,o).next(c=>c||mn())).next(mg)}}function gg(i){return Ps(i,"collectionParents")}function xl(i){return Ps(i,"indexEntries")}function Kd(i){return Ps(i,"indexConfiguration")}function Ml(i){return Ps(i,"indexState")}function mg(i){Mn(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const c=i[o].indexState.offset;po(c,e)<0&&(e=c),t<c.largestBatchId&&(t=c.largestBatchId)}return new _s(e.readTime,e.documentKey,t)}const hc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class os{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new os(e,os.DEFAULT_COLLECTION_PERCENTILE,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function yg(i,e,t){const o=i.store("mutations"),c=i.store("documentMutations"),d=[],g=IDBKeyRange.only(t.batchId);let S=0;const $=o.Z({range:g},(oe,Re,dt)=>(S++,dt.delete()));d.push($.next(()=>{Mn(1===S)}));const H=[];for(const oe of t.mutations){const Re=no(e,oe.key.path,t.batchId);d.push(c.delete(Re)),H.push(oe.key)}return ot.waitFor(d).next(()=>H)}function Zd(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw mn();e=i.noDocument}return JSON.stringify(e).length}os.DEFAULT_COLLECTION_PERCENTILE=10,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,os.DEFAULT=new os(41943040,os.DEFAULT_COLLECTION_PERCENTILE,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),os.DISABLED=new os(-1,0,0);class xf{constructor(e,t,o,c){this.userId=e,this.It=t,this.indexManager=o,this.referenceDelegate=c,this.In={}}static oe(e,t,o,c){Mn(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new xf(d,t,o,c)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bu(e).Z({index:"userMutationsIndex",range:o},(c,d,g)=>{t=!1,g.done()}).next(()=>t)}addMutationBatch(e,t,o,c){const d=Rl(e),g=bu(e);return g.add({}).next(S=>{Mn("number"==typeof S);const $=new Tl(S,t,o,c),H=function(dt,Et,kt){const ln=kt.baseMutations.map(ei=>yu(dt.re,ei)),vn=kt.mutations.map(ei=>yu(dt.re,ei));return{userId:Et,batchId:kt.batchId,localWriteTimeMs:kt.localWriteTime.toMillis(),baseMutations:ln,mutations:vn}}(this.It,this.userId,$),oe=[];let Re=new Ar((dt,Et)=>Bn(dt.canonicalString(),Et.canonicalString()));for(const dt of c){const Et=no(this.userId,dt.key.path,S);Re=Re.add(dt.key.path.popLast()),oe.push(g.put(H)),oe.push(d.put(Et,tu))}return Re.forEach(dt=>{oe.push(this.indexManager.addToCollectionParentIndex(e,dt))}),e.addOnCommittedListener(()=>{this.In[S]=$.keys()}),ot.waitFor(oe).next(()=>$)})}lookupMutationBatch(e,t){return bu(e).get(t).next(o=>o?(Mn(o.userId===this.userId),cc(this.It,o)):null)}Tn(e,t){return this.In[t]?ot.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const c=o.keys();return this.In[t]=c,c}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,c=IDBKeyRange.lowerBound([this.userId,o]);let d=null;return bu(e).Z({index:"userMutationsIndex",range:c},(g,S,$)=>{S.userId===this.userId&&(Mn(S.batchId>=o),d=cc(this.It,S)),$.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return bu(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(c,d,g)=>{o=d.batchId,g.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bu(e).W("userMutationsIndex",t).next(o=>o.map(c=>cc(this.It,c)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=Ur(this.userId,t.path),c=IDBKeyRange.lowerBound(o),d=[];return Rl(e).Z({range:c},(g,S,$)=>{const[H,oe,Re]=g,dt=bn(oe);if(H===this.userId&&t.path.isEqual(dt))return bu(e).get(Re).next(Et=>{if(!Et)throw mn();Mn(Et.userId===this.userId),d.push(cc(this.It,Et))});$.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Ar(Bn);const c=[];return t.forEach(d=>{const g=Ur(this.userId,d.path),S=IDBKeyRange.lowerBound(g),$=Rl(e).Z({range:S},(H,oe,Re)=>{const[dt,Et,kt]=H,ln=bn(Et);dt===this.userId&&d.path.isEqual(ln)?o=o.add(kt):Re.done()});c.push($)}),ot.waitFor(c).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,c=o.length+1,d=Ur(this.userId,o),g=IDBKeyRange.lowerBound(d);let S=new Ar(Bn);return Rl(e).Z({range:g},($,H,oe)=>{const[Re,dt,Et]=$,kt=bn(dt);Re===this.userId&&o.isPrefixOf(kt)?kt.length===c&&(S=S.add(Et)):oe.done()}).next(()=>this.En(e,S))}En(e,t){const o=[],c=[];return t.forEach(d=>{c.push(bu(e).get(d).next(g=>{if(null===g)throw mn();Mn(g.userId===this.userId),o.push(cc(this.It,g))}))}),ot.waitFor(c).next(()=>o)}removeMutationBatch(e,t){return yg(e.ie,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ot.forEach(o,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ot.resolve();const o=IDBKeyRange.lowerBound([this.userId]),c=[];return Rl(e).Z({range:o},(d,g,S)=>{if(d[0]===this.userId){const $=bn(d[1]);c.push($)}else S.done()}).next(()=>{Mn(0===c.length)})})}containsKey(e,t){return fy(e,this.userId,t)}Rn(e){return Ba(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function fy(i,e,t){const o=Ur(e,t.path),c=o[1],d=IDBKeyRange.lowerBound(o);let g=!1;return Rl(i).Z({range:d,X:!0},(S,$,H)=>{const[oe,Re,dt]=S;oe===e&&Re===c&&(g=!0),H.done()}).next(()=>g)}function bu(i){return Ps(i,"mutations")}function Rl(i){return Ps(i,"documentMutations")}function Ba(i){return Ps(i,"mutationQueues")}class Iu{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Iu(0)}static vn(){return new Iu(-1)}}class Mf{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const o=new Iu(t.highestTargetId);return t.highestTargetId=o.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Fn.fromTimestamp(new Pr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.Vn(e).next(c=>(c.highestListenSequenceNumber=t,o&&(c.lastRemoteSnapshotVersion=o.toTimestamp()),t>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=t),this.Sn(e,c)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(t,o),this.Sn(e,o))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Vc(e).delete(t.targetId)).next(()=>this.Vn(e)).next(o=>(Mn(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,t,o){let c=0;const d=[];return Vc(e).Z((g,S)=>{const $=$c(S);$.sequenceNumber<=t&&null===o.get($.targetId)&&(c++,d.push(this.removeTargetData(e,$)))}).next(()=>ot.waitFor(d)).next(()=>c)}forEachTarget(e,t){return Vc(e).Z((o,c)=>{const d=$c(c);t(d)})}Vn(e){return Rf(e).get("targetGlobalKey").next(t=>(Mn(null!==t),t))}Sn(e,t){return Rf(e).put("targetGlobalKey",t)}Dn(e,t){return Vc(e).put(ag(this.It,t))}Cn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=Jt(t),c=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let d=null;return Vc(e).Z({range:c,index:"queryTargetsIndex"},(g,S,$)=>{const H=$c(S);Ri(t,H.target)&&(d=H,$.done())}).next(()=>d)}addMatchingKeys(e,t,o){const c=[],d=Fu(e);return t.forEach(g=>{const S=Qe(g.path);c.push(d.put({targetId:o,path:S})),c.push(this.referenceDelegate.addReference(e,o,g))}),ot.waitFor(c)}removeMatchingKeys(e,t,o){const c=Fu(e);return ot.forEach(t,d=>{const g=Qe(d.path);return ot.waitFor([c.delete([o,g]),this.referenceDelegate.removeReference(e,o,d)])})}removeMatchingKeysForTargetId(e,t){const o=Fu(e),c=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(c)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),c=Fu(e);let d=dr();return c.Z({range:o,X:!0},(g,S,$)=>{const H=bn(g[1]),oe=new Kt(H);d=d.add(oe)}).next(()=>d)}containsKey(e,t){const o=Qe(t.path),c=IDBKeyRange.bound([o],[sa(o)],!1,!0);let d=0;return Fu(e).Z({index:"documentTargetsIndex",X:!0,range:c},([g,S],$,H)=>{0!==g&&(d++,H.done())}).next(()=>d>0)}se(e,t){return Vc(e).get(t).next(o=>o?$c(o):null)}}function Vc(i){return Ps(i,"targets")}function Rf(i){return Ps(i,"targetGlobal")}function Fu(i){return Ps(i,"targetDocuments")}function Bc([i,e],[t,o]){const c=Bn(i,t);return 0===c?Bn(e,o):c}class py{constructor(e){this.xn=e,this.buffer=new Ar(Bc),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Bc(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class gy{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Lt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,W.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){jo(o)?Lt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Zi(o)}yield t.Fn(3e5)}))}}class Of{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return ot.resolve(Os.at);const o=new py(t);return this.$n.forEachTarget(e,c=>o.On(c.sequenceNumber)).next(()=>this.$n.Ln(e,c=>o.On(c))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.$n.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Lt("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve(hc)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hc):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let o,c,d,g,S,$,H;const oe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Re=>(Re>this.params.maximumSequenceNumbersToCollect?(Lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Re}`),c=this.params.maximumSequenceNumbersToCollect):c=Re,g=Date.now(),this.nthSequenceNumber(e,c))).next(Re=>(o=Re,S=Date.now(),this.removeTargets(e,o,t))).next(Re=>(d=Re,$=Date.now(),this.removeOrphanedDocuments(e,o))).next(Re=>(H=Date.now(),So()<=te.in.DEBUG&&Lt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-oe}ms\n\tDetermined least recently used ${c} in `+(S-g)+`ms\n\tRemoved ${d} targets in `+($-S)+`ms\n\tRemoved ${Re} documents in `+(H-$)+`ms\nTotal Duration: ${H-oe}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:d,documentsRemoved:Re})))}}class kf{constructor(e,t){this.db=e,this.garbageCollector=new Of(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(c=>o+c))}qn(e){let t=0;return this.Ln(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(o,c)=>t(c))}addReference(e,t,o){return Ol(e,o)}removeReference(e,t,o){return Ol(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Ol(e,t)}Gn(e,t){return function(o,c){let d=!1;return Ba(o).tt(g=>fy(o,g,c).next(S=>(S&&(d=!0),ot.resolve(!S)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let d=0;return this.Kn(e,(g,S)=>{if(S<=t){const $=this.Gn(e,g).next(H=>{if(!H)return d++,o.getEntry(e,g).next(()=>(o.removeEntry(g,Fn.min()),Fu(e).delete([0,Qe(g.path)])))});c.push($)}}).next(()=>ot.waitFor(c)).next(()=>o.apply(e)).next(()=>d)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Ol(e,t)}Kn(e,t){const o=Fu(e);let c,d=Os.at;return o.Z({index:"documentTargetsIndex"},([g,S],{path:$,sequenceNumber:H})=>{0===g?(d!==Os.at&&t(new Kt(bn(c)),d),d=H,c=$):d=Os.at}).next(()=>{d!==Os.at&&t(new Kt(bn(c)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ol(i,e){return Fu(i).put((o=i.currentSequenceNumber,{targetId:0,path:Qe(e.path),sequenceNumber:o}));var o}class my{constructor(){this.changes=new Ja(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,it.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?ot.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Uc{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Eu(e).put(o)}removeEntry(e,t,o){return Eu(e).delete(function(c,d){const g=c.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],Pu(d),g[g.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Qn(e,o)))}getEntry(e,t){let o=it.newInvalidDocument(t);return Eu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(kl(t))},(c,d)=>{o=this.jn(t,d)}).next(()=>o)}Wn(e,t){let o={size:0,document:it.newInvalidDocument(t)};return Eu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(kl(t))},(c,d)=>{o={document:this.jn(t,d),size:Zd(d)}}).next(()=>o)}getEntries(e,t){let o=No();return this.zn(e,t,(c,d)=>{const g=this.jn(c,d);o=o.insert(c,g)}).next(()=>o)}Hn(e,t){let o=No(),c=new wi(Kt.comparator);return this.zn(e,t,(d,g)=>{const S=this.jn(d,g);o=o.insert(d,S),c=c.insert(d,Zd(g))}).next(()=>({documents:o,Jn:c}))}zn(e,t,o){if(t.isEmpty())return ot.resolve();let c=new Ar(Ig);t.forEach($=>c=c.add($));const d=IDBKeyRange.bound(kl(c.first()),kl(c.last())),g=c.getIterator();let S=g.getNext();return Eu(e).Z({index:"documentKeyIndex",range:d},($,H,oe)=>{const Re=Kt.fromSegments([...H.prefixPath,H.collectionGroup,H.documentId]);for(;S&&Ig(S,Re)<0;)o(S,null),S=g.getNext();S&&S.isEqual(Re)&&(o(S,H),S=g.hasNext()?g.getNext():null),S?oe.j(kl(S)):oe.done()}).next(()=>{for(;S;)o(S,null),S=g.hasNext()?g.getNext():null})}getAllFromCollection(e,t,o){const c=[t.popLast().toArray(),t.lastSegment(),Pu(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],d=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Eu(e).W(IDBKeyRange.bound(c,d,!0)).next(g=>{let S=No();for(const $ of g){const H=this.jn(Kt.fromSegments($.prefixPath.concat($.collectionGroup,$.documentId)),$);S=S.insert(H.key,H)}return S})}getAllFromCollectionGroup(e,t,o,c){let d=No();const g=bg(t,o),S=bg(t,_s.max());return Eu(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,S,!0)},($,H,oe)=>{const Re=this.jn(Kt.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);d=d.insert(Re.key,Re),d.size===c&&oe.done()}).next(()=>d)}newChangeBuffer(e){return new vg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return _g(e).get("remoteDocumentGlobalKey").next(t=>(Mn(!!t),t))}Qn(e,t){return _g(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const o=function ly(i,e){let t;if(e.document)t=function Nc(i,e,t){const o=ha(i,e.name),c=Cs(e.updateTime),d=new ve({mapValue:{fields:e.fields}}),g=it.newFoundDocument(o,c,d);return t&&g.setHasCommittedMutations(),t?g.setHasCommittedMutations():g}(i.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Kt.fromSegments(e.noDocument.path),c=uc(e.noDocument.readTime);t=it.newNoDocument(o,c),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return mn();{const o=Kt.fromSegments(e.unknownDocument.path),c=uc(e.unknownDocument.version);t=it.newUnknownDocument(o,c)}}return e.readTime&&t.setReadTime(function(o){const c=new Pr(o[0],o[1]);return Fn.fromTimestamp(c)}(e.readTime)),t}(this.It,t);if(!o.isNoDocument()||!o.version.isEqual(Fn.min()))return o}return it.newInvalidDocument(e)}}function Xd(i){return new Uc(i)}class vg extends my{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Ja(o=>o.toString(),(o,c)=>o.isEqual(c))}applyChanges(e){const t=[];let o=0,c=new Ar((d,g)=>Bn(d.canonicalString(),g.canonicalString()));return this.changes.forEach((d,g)=>{const S=this.Xn.get(d);if(t.push(this.Yn.removeEntry(e,d,S.readTime)),g.isValidDocument()){const $=Gd(this.Yn.It,g);c=c.add(d.path.popLast()),o+=Zd($)-S.size,t.push(this.Yn.addEntry(e,d,$))}else if(o-=S.size,this.trackRemovals){const $=Gd(this.Yn.It,g.convertToNoDocument(Fn.min()));t.push(this.Yn.addEntry(e,d,$))}}),c.forEach(d=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,d))}),t.push(this.Yn.updateMetadata(e,o)),ot.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(o=>(this.Xn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:o,Jn:c})=>(c.forEach((d,g)=>{this.Xn.set(d,{size:g,readTime:o.get(d).readTime})}),o))}}function _g(i){return Ps(i,"remoteDocumentGlobal")}function Eu(i){return Ps(i,"remoteDocumentsV14")}function kl(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function bg(i,e){const t=e.documentKey.path.toArray();return[i,Pu(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Ig(i,e){const t=i.path.toArray(),o=e.path.toArray();let c=0;for(let d=0;d<t.length-2&&d<o.length-2;++d)if(c=Bn(t[d],o[d]),c)return c;return c=Bn(t.length,o.length),c||(c=Bn(t[t.length-2],o[o.length-2]),c||Bn(t[t.length-1],o[o.length-1]))}class yy{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Eg{constructor(e,t,o,c){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=c}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(c=>(o=c,this.getBaseDocument(e,t,o))).next(c=>(null!==o&&Ju(o.mutation,c,Fr.empty(),Pr.now()),c))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,dr()).next(()=>o))}getLocalViewOfDocuments(e,t,o=dr()){const c=qo();return this.populateOverlays(e,c,t).next(()=>this.computeViews(e,t,c,o).next(d=>{let g=Rc();return d.forEach((S,$)=>{g=g.insert(S,$.overlayedDocument)}),g}))}getOverlayedDocuments(e,t){const o=qo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,dr()))}populateOverlays(e,t,o){const c=[];return o.forEach(d=>{t.has(d)||c.push(d)}),this.documentOverlayCache.getOverlays(e,c).next(d=>{d.forEach((g,S)=>{t.set(g,S)})})}computeViews(e,t,o,c){let d=No();const g=Ou(),S=Ou();return t.forEach(($,H)=>{const oe=o.get(H.key);c.has(H.key)&&(void 0===oe||oe.mutation instanceof Eo)?d=d.insert(H.key,H):void 0!==oe&&(g.set(H.key,oe.mutation.getFieldMask()),Ju(oe.mutation,H,oe.mutation.getFieldMask(),Pr.now()))}),this.recalculateAndSaveOverlays(e,d).next($=>($.forEach((H,oe)=>g.set(H,oe)),t.forEach((H,oe)=>{var Re;return S.set(H,new yy(oe,null!==(Re=g.get(H))&&void 0!==Re?Re:null))}),S))}recalculateAndSaveOverlays(e,t){const o=Ou();let c=new wi((g,S)=>g-S),d=dr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(g=>{for(const S of g)S.keys().forEach($=>{const H=t.get($);if(null===H)return;let oe=o.get($)||Fr.empty();oe=S.applyToLocalView(H,oe),o.set($,oe);const Re=(c.get(S.batchId)||dr()).add($);c=c.insert(S.batchId,Re)})}).next(()=>{const g=[],S=c.getReverseIterator();for(;S.hasNext();){const $=S.getNext(),H=$.key,oe=$.value,Re=hf();oe.forEach(dt=>{if(!d.has(dt)){const Et=Ad(t.get(dt),o.get(dt));null!==Et&&Re.set(dt,Et),d=d.add(dt)}}),g.push(this.documentOverlayCache.saveOverlays(e,H,Re))}return ot.waitFor(g)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return Kt.isDocumentKey((c=t).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):hu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var c}getNextDocuments(e,t,o,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,c).next(d=>{const g=c-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,c-d.size):ot.resolve(qo());let S=-1,$=d;return g.next(H=>ot.forEach(H,(oe,Re)=>(S<Re.largestBatchId&&(S=Re.largestBatchId),d.get(oe)?ot.resolve():this.getBaseDocument(e,oe,Re).next(dt=>{$=$.insert(oe,dt)}))).next(()=>this.populateOverlays(e,H,d)).next(()=>this.computeViews(e,$,H,dr())).next(oe=>({batchId:S,changes:Od(oe)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Kt(t)).next(o=>{let c=Rc();return o.isFoundDocument()&&(c=c.insert(o.key,o)),c})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const c=t.collectionGroup;let d=Rc();return this.indexManager.getCollectionParents(e,c).next(g=>ot.forEach(g,S=>{const $=(H=t,oe=S.child(c),new Rn(oe,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,oe;return this.getDocumentsMatchingCollectionQuery(e,$,o).next(H=>{H.forEach((oe,Re)=>{d=d.insert(oe,Re)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,o){let c;return this.remoteDocumentCache.getAllFromCollection(e,t.path,o).next(d=>(c=d,this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId))).next(d=>{d.forEach((S,$)=>{const H=$.getKey();null===c.get(H)&&(c=c.insert(H,it.newInvalidDocument(H)))});let g=Rc();return c.forEach((S,$)=>{const H=d.get(S);void 0!==H&&Ju(H.mutation,$,Fr.empty(),Pr.now()),Io(t,$)&&(g=g.insert(S,$))}),g})}getBaseDocument(e,t,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,t):ot.resolve(it.newInvalidDocument(t))}}class vy{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ot.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:Cs(o.createTime)}),ot.resolve()}getNamedQuery(e,t){return ot.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(o=t).name,query:Tf(o.bundledQuery),readTime:Cs(o.readTime)}),ot.resolve();var o}}class wg{constructor(){this.overlays=new wi(Kt.comparator),this.es=new Map}getOverlay(e,t){return ot.resolve(this.overlays.get(t))}getOverlays(e,t){const o=qo();return ot.forEach(t,c=>this.getOverlay(e,c).next(d=>{null!==d&&o.set(c,d)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((c,d)=>{this.ue(e,t,d)}),ot.resolve()}removeOverlaysForBatchId(e,t,o){const c=this.es.get(o);return void 0!==c&&(c.forEach(d=>this.overlays=this.overlays.remove(d)),this.es.delete(o)),ot.resolve()}getOverlaysForCollection(e,t,o){const c=qo(),d=t.length+1,g=new Kt(t.child("")),S=this.overlays.getIteratorFrom(g);for(;S.hasNext();){const $=S.getNext().value,H=$.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===d&&$.largestBatchId>o&&c.set($.getKey(),$)}return ot.resolve(c)}getOverlaysForCollectionGroup(e,t,o,c){let d=new wi((H,oe)=>H-oe);const g=this.overlays.getIterator();for(;g.hasNext();){const H=g.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>o){let oe=d.get(H.largestBatchId);null===oe&&(oe=qo(),d=d.insert(H.largestBatchId,oe)),oe.set(H.getKey(),H)}}const S=qo(),$=d.getIterator();for(;$.hasNext()&&($.getNext().value.forEach((H,oe)=>S.set(H,oe)),!(S.size()>=c)););return ot.resolve(S)}ue(e,t,o){const c=this.overlays.get(o.key);if(null!==c){const g=this.es.get(c.largestBatchId).delete(o.key);this.es.set(c.largestBatchId,g)}this.overlays=this.overlays.insert(o.key,new jd(t,o));let d=this.es.get(t);void 0===d&&(d=dr(),this.es.set(t,d)),this.es.set(t,d.add(o.key))}}class Pl{constructor(){this.ns=new Ar(Ns.ss),this.rs=new Ar(Ns.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const o=new Ns(e,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.cs(new Ns(e,t))}hs(e,t){e.forEach(o=>this.removeReference(o,t))}ls(e){const t=new Kt(new pr([])),o=new Ns(t,e),c=new Ns(t,e+1),d=[];return this.rs.forEachInRange([o,c],g=>{this.cs(g),d.push(g.key)}),d}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Kt(new pr([])),o=new Ns(t,e),c=new Ns(t,e+1);let d=dr();return this.rs.forEachInRange([o,c],g=>{d=d.add(g.key)}),d}containsKey(e){const t=new Ns(e,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Ns{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Kt.comparator(e.key,t.key)||Bn(e._s,t._s)}static os(e,t){return Bn(e._s,t._s)||Kt.comparator(e.key,t.key)}}class Pf{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Ar(Ns.ss)}checkEmpty(e){return ot.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,c){const d=this.ws;this.ws++;const g=new Tl(d,t,o,c);this.mutationQueue.push(g);for(const S of c)this.gs=this.gs.add(new Ns(S.key,d)),this.indexManager.addToCollectionParentIndex(e,S.key.path.popLast());return ot.resolve(g)}lookupMutationBatch(e,t){return ot.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const c=this.ps(t+1),d=c<0?0:c;return ot.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Ns(t,0),c=new Ns(t,Number.POSITIVE_INFINITY),d=[];return this.gs.forEachInRange([o,c],g=>{const S=this.ys(g._s);d.push(S)}),ot.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Ar(Bn);return t.forEach(c=>{const d=new Ns(c,0),g=new Ns(c,Number.POSITIVE_INFINITY);this.gs.forEachInRange([d,g],S=>{o=o.add(S._s)})}),ot.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,c=o.length+1;let d=o;Kt.isDocumentKey(d)||(d=d.child(""));const g=new Ns(new Kt(d),0);let S=new Ar(Bn);return this.gs.forEachWhile($=>{const H=$.key.path;return!!o.isPrefixOf(H)&&(H.length===c&&(S=S.add($._s)),!0)},g),ot.resolve(this.Is(S))}Is(e){const t=[];return e.forEach(o=>{const c=this.ys(o);null!==c&&t.push(c)}),t}removeMutationBatch(e,t){Mn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return ot.forEach(t.mutations,c=>{const d=new Ns(c.key,t.batchId);return o=o.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,t){const o=new Ns(t,0),c=this.gs.firstAfterOrEqual(o);return ot.resolve(t.isEqual(c&&c.key))}performConsistencyCheck(e){return ot.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class _y{constructor(e){this.Es=e,this.docs=new wi(Kt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,c=this.docs.get(o),d=c?c.size:0,g=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:g}),this.size+=g-d,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return ot.resolve(o?o.document.mutableCopy():it.newInvalidDocument(t))}getEntries(e,t){let o=No();return t.forEach(c=>{const d=this.docs.get(c);o=o.insert(c,d?d.document.mutableCopy():it.newInvalidDocument(c))}),ot.resolve(o)}getAllFromCollection(e,t,o){let c=No();const d=new Kt(t.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:S,value:{document:$}}=g.getNext();if(!t.isPrefixOf(S.path))break;S.path.length>t.length+1||po(_a($),o)<=0||(c=c.insert($.key,$.mutableCopy()))}return ot.resolve(c)}getAllFromCollectionGroup(e,t,o,c){mn()}As(e,t){return ot.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new by(this)}getSize(e){return ot.resolve(this.size)}}class by extends my{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((o,c)=>{c.isValidDocument()?t.push(this.Yn.addEntry(e,c)):this.Yn.removeEntry(o)}),ot.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Dg{constructor(e){this.persistence=e,this.Rs=new Ja(t=>Jt(t),Ri),this.lastRemoteSnapshotVersion=Fn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Pl,this.targetCount=0,this.vs=Iu.Pn()}forEachTarget(e,t){return this.Rs.forEach((o,c)=>t(c)),ot.resolve()}getLastRemoteSnapshotVersion(e){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ot.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),ot.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Iu(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ot.resolve()}updateTargetData(e,t){return this.Dn(t),ot.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ot.resolve()}removeTargets(e,t,o){let c=0;const d=[];return this.Rs.forEach((g,S)=>{S.sequenceNumber<=t&&null===o.get(S.targetId)&&(this.Rs.delete(g),d.push(this.removeMatchingKeysForTargetId(e,S.targetId)),c++)}),ot.waitFor(d).next(()=>c)}getTargetCount(e){return ot.resolve(this.targetCount)}getTargetData(e,t){const o=this.Rs.get(t)||null;return ot.resolve(o)}addMatchingKeys(e,t,o){return this.Ps.us(t,o),ot.resolve()}removeMatchingKeys(e,t,o){this.Ps.hs(t,o);const c=this.persistence.referenceDelegate,d=[];return c&&t.forEach(g=>{d.push(c.markPotentiallyOrphaned(e,g))}),ot.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ot.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ps.ds(t);return ot.resolve(o)}containsKey(e,t){return ot.resolve(this.Ps.containsKey(t))}}class Nf{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Os(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Dg(this),this.indexManager=new hy,this.remoteDocumentCache=new _y(o=>this.referenceDelegate.xs(o)),this.It=new Hd(t),this.Ns=new vy(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Vs[e.toKey()];return o||(o=new Pf(t,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,o){Lt("MemoryPersistence","Starting transaction:",e);const c=new fc(this.Ss.next());return this.referenceDelegate.ks(),o(c).next(d=>this.referenceDelegate.Os(c).next(()=>d)).toPromise().then(d=>(c.raiseOnCommittedEvent(),d))}Ms(e,t){return ot.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,t)))}}class fc extends Uo{constructor(e){super(),this.currentSequenceNumber=e}}class Nl{constructor(e){this.persistence=e,this.Fs=new Pl,this.$s=null}static Bs(e){return new Nl(e)}get Ls(){if(this.$s)return this.$s;throw mn()}addReference(e,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),ot.resolve()}removeReference(e,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),ot.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ot.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(c=>this.Ls.add(c.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(c=>{c.forEach(d=>this.Ls.add(d.toString()))}).next(()=>o.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.Ls,o=>{const c=Kt.fromPath(o);return this.Us(e,c).next(d=>{d||t.removeEntry(c,Fn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return ot.or([()=>ot.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Cg{constructor(e){this.It=e}$(e,t,o,c){const d=new Rs("createOrUpgrade",t);var S;o<1&&c>=1&&(e.createObjectStore("owner"),(S=e).createObjectStore("mutationQueues",{keyPath:"userId"}),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hr,{unique:!0}),S.createObjectStore("documentMutations"),Tg(e),function(S){S.createObjectStore("remoteDocuments")}(e));let g=ot.resolve();return o<3&&c>=3&&(0!==o&&(function(S){S.deleteObjectStore("targetDocuments"),S.deleteObjectStore("targets"),S.deleteObjectStore("targetGlobal")}(e),Tg(e)),g=g.next(()=>function(S){const $=S.store("targetGlobal"),H={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Fn.min().toTimestamp(),targetCount:0};return $.put("targetGlobalKey",H)}(d))),o<4&&c>=4&&(0!==o&&(g=g.next(()=>function(S,$){return $.store("mutations").W().next(H=>{S.deleteObjectStore("mutations"),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hr,{unique:!0});const oe=$.store("mutations"),Re=H.map(dt=>oe.put(dt));return ot.waitFor(Re)})}(e,d))),g=g.next(()=>{!function(S){S.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&c>=5&&(g=g.next(()=>this.qs(d))),o<6&&c>=6&&(g=g.next(()=>(function(S){S.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(d)))),o<7&&c>=7&&(g=g.next(()=>this.Gs(d))),o<8&&c>=8&&(g=g.next(()=>this.Qs(e,d))),o<9&&c>=9&&(g=g.next(()=>{!function(S){S.objectStoreNames.contains("remoteDocumentChanges")&&S.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&c>=10&&(g=g.next(()=>this.js(d))),o<11&&c>=11&&(g=g.next(()=>{(function(S){S.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(S){S.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&c>=12&&(g=g.next(()=>{!function(S){const $=S.createObjectStore("documentOverlays",{keyPath:Bd});$.createIndex("collectionPathOverlayIndex",og,{unique:!1}),$.createIndex("collectionGroupOverlayIndex",Df,{unique:!1})}(e)})),o<13&&c>=13&&(g=g.next(()=>function(S){const $=S.createObjectStore("remoteDocumentsV14",{keyPath:bl});$.createIndex("documentKeyIndex",Il),$.createIndex("collectionGroupIndex",El)}(e)).next(()=>this.Ws(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&c>=14&&(g=g.next(()=>this.zs(e,d))),o<15&&c>=15&&(g=g.next(()=>function(S){S.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),S.createObjectStore("indexState",{keyPath:Lc}).createIndex("sequenceNumberIndex",Dl,{unique:!1}),S.createObjectStore("indexEntries",{keyPath:Vd}).createIndex("documentKeyIndex",Cl,{unique:!1})}(e))),g}Ks(e){let t=0;return e.store("remoteDocuments").Z((o,c)=>{t+=Zd(c)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}qs(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.W().next(c=>ot.forEach(c,d=>{const g=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",g).next(S=>ot.forEach(S,$=>{Mn($.userId===d.userId);const H=cc(this.It,$);return yg(e,d.userId,H).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(c=>{const d=[];return o.Z((g,S)=>{const $=new pr(g),H=[0,Qe($)];d.push(t.get(H).next(oe=>oe?ot.resolve():t.put({targetId:0,path:Qe($),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>ot.waitFor(d))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:wl});const o=t.store("collectionParents"),c=new qd,d=g=>{if(c.add(g)){const S=g.lastSegment(),$=g.popLast();return o.put({collectionId:S,parent:Qe($)})}};return t.store("remoteDocuments").Z({X:!0},(g,S)=>{const $=new pr(g);return d($.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([g,S,$],H)=>{const oe=bn(S);return d(oe.popLast())}))}js(e){const t=e.store("targets");return t.Z((o,c)=>{const d=$c(c),g=ag(this.It,d);return t.put(g)})}Ws(e,t){const o=t.store("remoteDocuments"),c=[];return o.Z((d,g)=>{const S=t.store("remoteDocumentsV14"),$=(H=g,H.document?new Kt(pr.fromString(H.document.name).popFirst(5)):H.noDocument?Kt.fromSegments(H.noDocument.path):H.unknownDocument?Kt.fromSegments(H.unknownDocument.path):mn()).path.toArray();var H;const oe={prefixPath:$.slice(0,$.length-2),collectionGroup:$[$.length-2],documentId:$[$.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};c.push(S.put(oe))}).next(()=>ot.waitFor(c))}zs(e,t){const o=t.store("mutations"),c=Xd(this.It),d=new Nf(Nl.Bs,this.It.re);return o.W().next(g=>{const S=new Map;return g.forEach($=>{var H;let oe=null!==(H=S.get($.userId))&&void 0!==H?H:dr();cc(this.It,$).keys().forEach(Re=>oe=oe.add(Re)),S.set($.userId,oe)}),ot.forEach(S,($,H)=>{const oe=new Wr(H),Re=Sl.oe(this.It,oe),dt=d.getIndexManager(oe),Et=xf.oe(oe,this.It,dt,d.referenceDelegate);return new Eg(c,Et,Re,dt).recalculateAndSaveOverlaysForDocumentKeys(new Cf(t,Os.at),$).next()})})}}function Tg(i){i.createObjectStore("targetDocuments",{keyPath:$d}).createIndex("documentTargetsIndex",Fc,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ld,{unique:!0}),i.createObjectStore("targetGlobal")}const Sg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class jc{constructor(e,t,o,c,d,g,S,$,H,oe,Re=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Hs=d,this.window=g,this.document=S,this.Js=H,this.Ys=oe,this.Xs=Re,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=dt=>Promise.resolve(),!jc.C())throw new Nt(ct.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kf(this,c),this.ii=t+"main",this.It=new Hd($),this.ri=new rs(this.ii,this.Xs,new Cg(this.It)),this.Cs=new Mf(this.referenceDelegate,this.It),this.remoteDocumentCache=Xd(this.It),this.Ns=new dy,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===oe&&Kr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Nt(ct.FAILED_PRECONDITION,Sg);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Os(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var o=(0,W.Z)(function*(c){if(t.started)return e(c)});return function(c){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,W.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,W.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ll(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(jo(e))return Lt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Lt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Fl(e).get("owner").next(t=>ot.resolve(this.mi(t)))}gi(e){return Ll(e).delete(this.clientId)}yi(){var e=this;return(0,W.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const c=Ps(o,"clientMetadata");return c.W().next(d=>{const g=e.Ii(d,18e5),S=d.filter($=>-1===g.indexOf($));return ot.forEach(S,$=>c.delete($.clientId)).next(()=>S)})}).catch(()=>[]);if(e.oi)for(const o of t)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ot.resolve(!0):Fl(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Nt(ct.FAILED_PRECONDITION,Sg);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ll(e).W().next(o=>void 0===this.Ii(o,5e3).find(c=>{if(this.clientId!==c.clientId){const g=!this.inForeground&&c.inForeground,S=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||g&&S)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Lt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,W.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Cf(t,Os.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(o=>this.pi(o.updateTimeMs,t)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Ll(e).W().next(t=>this.Ii(t,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return xf.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new pg(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Sl.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,o){Lt("IndexedDbPersistence","Starting transaction:",e);const c="readonly"===t?"readonly":"readwrite",d=15===(g=this.Xs)?B_:14===g?cy:13===g?uy:12===g?V_:11===g?ay:void mn();var g;let S;return this.ri.runTransaction(e,c,d,$=>(S=new Cf($,this.Ss?this.Ss.next():Os.at),"readwrite-primary"===t?this.fi(S).next(H=>!!H||this.di(S)).next(H=>{if(!H)throw Kr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Nt(ct.FAILED_PRECONDITION,Wa);return o(S)}).next(H=>this.wi(S).next(()=>H)):this.Vi(S).next(()=>o(S)))).then($=>(S.raiseOnCommittedEvent(),$))}Vi(e){return Fl(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Nt(ct.FAILED_PRECONDITION,Sg)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fl(e).put("owner",t)}static C(){return rs.C()}_i(e){const t=Fl(e);return t.get("owner").next(o=>this.mi(o)?(Lt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ot.resolve())}pi(e,t){const o=Date.now();return!(e<o-t||e>o&&(Kr(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Y.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const o=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Lt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Kr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Kr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Fl(i){return Ps(i,"owner")}function Ll(i){return Ps(i,"clientMetadata")}function Qd(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Jd{constructor(e,t,o,c){this.targetId=e,this.fromCache=t,this.Si=o,this.Di=c}static Ci(e,t){let o=dr(),c=dr();for(const d of t.docChanges)switch(d.type){case 0:o=o.add(d.doc.key);break;case 1:c=c.add(d.doc.key)}return new Jd(e,t.fromCache,o,c)}}class eh{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,o,c){return this.ki(e,t).next(d=>d||this.Oi(e,t,c,o)).next(d=>d||this.Mi(e,t))}ki(e,t){if(Gn(t))return ot.resolve(null);let o=Xi(t);return this.indexManager.getIndexType(e,o).next(c=>0===c?null:(null!==t.limit&&1===c&&(t=Qa(t,null,"F"),o=Xi(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(d=>{const g=dr(...d);return this.Ni.getDocuments(e,g).next(S=>this.indexManager.getMinOffset(e,o).next($=>{const H=this.Fi(t,S);return this.$i(t,H,g,$.readTime)?this.ki(e,Qa(t,null,"F")):this.Bi(e,H,t,$)}))})))}Oi(e,t,o,c){return Gn(t)||c.isEqual(Fn.min())?this.Mi(e,t):this.Ni.getDocuments(e,o).next(d=>{const g=this.Fi(t,d);return this.$i(t,g,o,c)?this.Mi(e,t):(So()<=te.in.DEBUG&&Lt("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),bo(t)),this.Bi(e,g,t,Mu(c,-1)))})}Fi(e,t){let o=new Ar(Dd(e));return t.forEach((c,d)=>{Io(e,d)&&(o=o.add(d))}),o}$i(e,t,o,c){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const d="F"===e.limitType?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(c)>0)}Mi(e,t){return So()<=te.in.DEBUG&&Lt("QueryEngine","Using full collection scan to execute query:",bo(t)),this.Ni.getDocumentsMatchingQuery(e,t,_s.min())}Bi(e,t,o,c){return this.Ni.getDocumentsMatchingQuery(e,o,c).next(d=>(t.forEach(g=>{d=d.insert(g.key,g)}),d))}}class Ag{constructor(e,t,o,c){this.persistence=e,this.Li=t,this.It=c,this.Ui=new wi(Bn),this.qi=new Ja(d=>Jt(d),Ri),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Eg(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function $l(i,e,t,o){return new Ag(i,e,t,o)}function Vl(i,e){return th.apply(this,arguments)}function th(){return th=(0,W.Z)(function*(i,e){const t=Yt(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let c;return t.mutationQueue.getAllMutationBatches(o).next(d=>(c=d,t.Qi(e),t.mutationQueue.getAllMutationBatches(o))).next(d=>{const g=[],S=[];let $=dr();for(const H of c){g.push(H.batchId);for(const oe of H.mutations)$=$.add(oe.key)}for(const H of d){S.push(H.batchId);for(const oe of H.mutations)$=$.add(oe.key)}return t.localDocuments.getDocuments(o,$).next(H=>({ji:H,removedBatchIds:g,addedBatchIds:S}))})})}),th.apply(this,arguments)}function Ff(i,e){const t=Yt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const c=e.batch.keys(),d=t.Gi.newChangeBuffer({trackRemovals:!0});return function(g,S,$,H){const oe=$.batch,Re=oe.keys();let dt=ot.resolve();return Re.forEach(Et=>{dt=dt.next(()=>H.getEntry(S,Et)).next(kt=>{const ln=$.docVersions.get(Et);Mn(null!==ln),kt.version.compareTo(ln)<0&&(oe.applyToRemoteDocument(kt,$),kt.isValidDocument()&&(kt.setReadTime($.commitVersion),H.addEntry(kt)))})}),dt.next(()=>g.mutationQueue.removeMutationBatch(S,oe))}(t,o,e,d).next(()=>d.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,c,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(g){let S=dr();for(let $=0;$<g.mutationResults.length;++$)g.mutationResults[$].transformResults.length>0&&(S=S.add(g.batch.mutations[$].key));return S}(e))).next(()=>t.localDocuments.getDocuments(o,c))})}function Lf(i){const e=Yt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function $f(i,e){const t=Yt(i),o=e.snapshotVersion;let c=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const g=t.Gi.newChangeBuffer({trackRemovals:!0});c=t.Ui;const S=[];e.targetChanges.forEach((oe,Re)=>{const dt=c.get(Re);if(!dt)return;S.push(t.Cs.removeMatchingKeys(d,oe.removedDocuments,Re).next(()=>t.Cs.addMatchingKeys(d,oe.addedDocuments,Re)));let Et=dt.withSequenceNumber(d.currentSequenceNumber);var kt,ln,vn;e.targetMismatches.has(Re)?Et=Et.withResumeToken(Di.EMPTY_BYTE_STRING,Fn.min()).withLastLimboFreeSnapshotVersion(Fn.min()):oe.resumeToken.approximateByteSize()>0&&(Et=Et.withResumeToken(oe.resumeToken,o)),c=c.insert(Re,Et),ln=Et,vn=oe,(0===(kt=dt).resumeToken.approximateByteSize()||ln.snapshotVersion.toMicroseconds()-kt.snapshotVersion.toMicroseconds()>=3e8||vn.addedDocuments.size+vn.modifiedDocuments.size+vn.removedDocuments.size>0)&&S.push(t.Cs.updateTargetData(d,Et))});let $=No(),H=dr();if(e.documentUpdates.forEach(oe=>{e.resolvedLimboDocuments.has(oe)&&S.push(t.persistence.referenceDelegate.updateLimboDocument(d,oe))}),S.push(function Hc(i,e,t){let o=dr(),c=dr();return t.forEach(d=>o=o.add(d)),e.getEntries(i,o).next(d=>{let g=No();return t.forEach((S,$)=>{const H=d.get(S);$.isFoundDocument()!==H.isFoundDocument()&&(c=c.add(S)),$.isNoDocument()&&$.version.isEqual(Fn.min())?(e.removeEntry(S,$.readTime),g=g.insert(S,$)):!H.isValidDocument()||$.version.compareTo(H.version)>0||0===$.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry($),g=g.insert(S,$)):Lt("LocalStore","Ignoring outdated watch update for ",S,". Current version:",H.version," Watch version:",$.version)}),{Wi:g,zi:c}})}(d,g,e.documentUpdates).next(oe=>{$=oe.Wi,H=oe.zi})),!o.isEqual(Fn.min())){const oe=t.Cs.getLastRemoteSnapshotVersion(d).next(Re=>t.Cs.setTargetsMetadata(d,d.currentSequenceNumber,o));S.push(oe)}return ot.waitFor(S).next(()=>g.apply(d)).next(()=>t.localDocuments.getLocalViewOfDocuments(d,$,H)).next(()=>$)}).then(d=>(t.Ui=c,d))}function Iy(i,e){const t=Yt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function pc(i,e){const t=Yt(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let c;return t.Cs.getTargetData(o,e).next(d=>d?(c=d,ot.resolve(c)):t.Cs.allocateTargetId(o).next(g=>(c=new vu(e,g,0,o.currentSequenceNumber),t.Cs.addTargetData(o,c).next(()=>c))))}).then(o=>{const c=t.Ui.get(o.targetId);return(null===c||o.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(o.targetId,o),t.qi.set(e,o.targetId)),o})}function Gc(i,e,t){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,W.Z)(function*(i,e,t){const o=Yt(i),c=o.Ui.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",d,g=>o.persistence.referenceDelegate.removeTarget(g,c)))}catch(g){if(!jo(g))throw g;Lt("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}o.Ui=o.Ui.remove(e),o.qi.delete(c.target)}),Vf.apply(this,arguments)}function Bl(i,e,t){const o=Yt(i);let c=Fn.min(),d=dr();return o.persistence.runTransaction("Execute query","readonly",g=>function(S,$,H){const oe=Yt(S),Re=oe.qi.get(H);return void 0!==Re?ot.resolve(oe.Ui.get(Re)):oe.Cs.getTargetData($,H)}(o,g,Xi(e)).next(S=>{if(S)return c=S.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(g,S.targetId).next($=>{d=$})}).next(()=>o.Li.getDocumentsMatchingQuery(g,e,t?c:Fn.min(),t?d:dr())).next(S=>(Ey(o,wa(e),S),{documents:S,Hi:d})))}function nh(i,e){const t=Yt(i),o=Yt(t.Cs),c=t.Ui.get(e);return c?Promise.resolve(c.target):t.persistence.runTransaction("Get target data","readonly",d=>o.se(d,e).next(g=>g?g.target:null))}function Bf(i,e){const t=Yt(i),o=t.Ki.get(e)||Fn.min();return t.persistence.runTransaction("Get new document changes","readonly",c=>t.Gi.getAllFromCollectionGroup(c,e,Mu(o,-1),Number.MAX_SAFE_INTEGER)).then(c=>(Ey(t,e,c),c))}function Ey(i,e,t){let o=i.Ki.get(e)||Fn.min();t.forEach((c,d)=>{d.readTime.compareTo(o)>0&&(o=d.readTime)}),i.Ki.set(e,o)}function Rg(i,e){return`firestore_clients_${i}_${e}`}function Ca(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Hf(i,e){return`firestore_targets_${i}_${e}`}class Ul{constructor(e,t,o,c){this.user=e,this.batchId=t,this.state=o,this.error=c}static Zi(e,t,o){const c=JSON.parse(o);let d,g="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return g&&c.error&&(g="string"==typeof c.error.message&&"string"==typeof c.error.code,g&&(d=new Nt(c.error.code,c.error.message))),g?new Ul(e,t,c.state,d):(Kr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jl{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Zi(e,t){const o=JSON.parse(t);let c,d="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(c=new Nt(o.error.code,o.error.message))),d?new jl(e,o.state,c):(Kr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const o=JSON.parse(t);let c="object"==typeof o&&o.activeTargetIds instanceof Array,d=rc();for(let g=0;c&&g<o.activeTargetIds.length;++g)c=qu(o.activeTargetIds[g]),d=d.add(o.activeTargetIds[g]);return c?new rh(e,d):(Kr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Gf{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Gf(t.clientId,t.onlineState):(Kr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class zf{constructor(){this.activeTargetIds=rc()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ih{constructor(e,t,o,c,d){this.window=e,this.Hs=t,this.persistenceKey=o,this.sr=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new wi(Bn),this.started=!1,this.cr=[];const g=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ar=Rg(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new zf),this.lr=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(S){return`firestore_bundle_loaded_v2_${S}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,W.Z)(function*(){const t=yield e.syncEngine.vi();for(const c of t){if(c===e.sr)continue;const d=e.getItem(Rg(e.persistenceKey,c));if(d){const g=rh.Zi(c,d);g&&(e.ur=e.ur.insert(g.clientId,g))}}e.gr();const o=e.storage.getItem(e.wr);if(o){const c=e.yr(o);c&&e.pr(c)}for(const c of e.cr)e.rr(c);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((o,c)=>{c.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,o){this.Tr(e,t,o),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Hf(this.persistenceKey,e));if(o){const c=jl.Zi(e,o);c&&(t=c.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Hf(this.persistenceKey,e))}updateQueryState(e,t,o){this.Rr(e,t,o)}handleUserChange(e,t,o){t.forEach(c=>{this.Er(c)}),this.currentUser=e,o.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Lt("SharedClientState","READ",e,t),t}setItem(e,t){Lt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Lt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Lt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ar)return void Kr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,W.Z)(function*(){if(t.started){if(null!==o.key)if(t.lr.test(o.key)){if(null==o.newValue){const c=t.vr(o.key);return t.Vr(c,null)}{const c=t.Sr(o.key,o.newValue);if(c)return t.Vr(c.clientId,c)}}else if(t.dr.test(o.key)){if(null!==o.newValue){const c=t.Dr(o.key,o.newValue);if(c)return t.Cr(c)}}else if(t._r.test(o.key)){if(null!==o.newValue){const c=t.Nr(o.key,o.newValue);if(c)return t.kr(c)}}else if(o.key===t.wr){if(null!==o.newValue){const c=t.yr(o.newValue);if(c)return t.pr(c)}}else if(o.key===t.hr){const c=function(d){let g=Os.at;if(null!=d)try{const S=JSON.parse(d);Mn("number"==typeof S),g=S}catch(S){Kr("SharedClientState","Failed to read sequence number from WebStorage",S)}return g}(o.newValue);c!==Os.at&&t.sequenceNumberHandler(c)}else if(o.key===t.mr){const c=t.Or(o.newValue);yield Promise.all(c.map(d=>t.syncEngine.Mr(d)))}}else t.cr.push(o)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,o){const c=new Ul(this.currentUser,e,t,o),d=Ca(this.persistenceKey,this.currentUser,e);this.setItem(d,c.tr())}Er(e){const t=Ca(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,o){const c=Hf(this.persistenceKey,e),d=new jl(e,t,o);this.setItem(c,d.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const o=this.vr(e);return rh.Zi(o,t)}Dr(e,t){const o=this.dr.exec(e),c=Number(o[1]);return Ul.Zi(new Wr(void 0!==o[2]?o[2]:null),c,t)}Nr(e,t){const o=this._r.exec(e),c=Number(o[1]);return jl.Zi(c,t)}yr(e){return Gf.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,W.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Lt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const o=t?this.ur.insert(e,t):this.ur.remove(e),c=this.Ir(this.ur),d=this.Ir(o),g=[],S=[];return d.forEach($=>{c.has($)||g.push($)}),c.forEach($=>{d.has($)||S.push($)}),this.syncEngine.Br(g,S).then(()=>{this.ur=o})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=rc();return e.forEach((o,c)=>{t=t.unionWith(c.activeTargetIds)}),t}}class Og{constructor(){this.Lr=new zf,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,o){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new zf,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wy{qr(e){}shutdown(){}}class kg{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Lt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Lt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const lr={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Pg{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Ng extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,o,c,d){const g=this.ho(e,t);Lt("RestConnection","Sending: ",g,o);const S={};return this.lo(S,c,d),this.fo(e,g,S,o).then($=>(Lt("RestConnection","Received: ",$),$),$=>{throw na("RestConnection",`${e} failed with error: `,$,"url: ",g,"request:",o),$})}_o(e,t,o,c,d,g){return this.ao(e,t,o,c,d)}lo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Vr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((c,d)=>e[d]=c),o&&o.headers.forEach((c,d)=>e[d]=c)}ho(e,t){return`${this.oo}/v1/${t}:${lr[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,o,c){return new Promise((d,g)=>{const S=new ta;S.setWithCredentials(!0),S.listenOnce(ea.COMPLETE,()=>{var H;try{switch(S.getLastErrorCode()){case pi.NO_ERROR:const oe=S.getResponseJson();Lt("Connection","XHR received:",JSON.stringify(oe)),d(oe);break;case pi.TIMEOUT:Lt("Connection",'RPC "'+e+'" timed out'),g(new Nt(ct.DEADLINE_EXCEEDED,"Request time out"));break;case pi.HTTP_ERROR:const Re=S.getStatus();if(Lt("Connection",'RPC "'+e+'" failed with status:',Re,"response text:",S.getResponseText()),Re>0){let dt=S.getResponseJson();Array.isArray(dt)&&(dt=dt[0]);const Et=null===(H=dt)||void 0===H?void 0:H.error;if(Et&&Et.status&&Et.message){const kt=function(ln){const vn=ln.toLowerCase().replace(/_/g,"-");return Object.values(ct).indexOf(vn)>=0?vn:ct.UNKNOWN}(Et.status);g(new Nt(kt,Et.message))}else g(new Nt(ct.UNKNOWN,"Server responded with status "+S.getStatus()))}else g(new Nt(ct.UNAVAILABLE,"Connection failed."));break;default:mn()}}finally{Lt("Connection",'RPC "'+e+'" completed.')}});const $=JSON.stringify(c);S.send(t,"POST",$,o,15)})}wo(e,t,o){const c=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=xi(),g=zr(),S={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(S.xmlHttpFactory=new ws({})),this.lo(S.initMessageHeaders,t,o),S.encodeInitMessageHeaders=!0;const $=c.join("");Lt("Connection","Creating WebChannel: "+$,S);const H=d.createWebChannel($,S);let oe=!1,Re=!1;const dt=new Pg({Hr:kt=>{Re?Lt("Connection","Not sending because WebChannel is closed:",kt):(oe||(Lt("Connection","Opening WebChannel transport."),H.open(),oe=!0),Lt("Connection","WebChannel sending:",kt),H.send(kt))},Jr:()=>H.close()}),Et=(kt,ln,vn)=>{kt.listen(ln,ei=>{try{vn(ei)}catch(Oi){setTimeout(()=>{throw Oi},0)}})};return Et(H,lo.EventType.OPEN,()=>{Re||Lt("Connection","WebChannel transport opened.")}),Et(H,lo.EventType.CLOSE,()=>{Re||(Re=!0,Lt("Connection","WebChannel transport closed"),dt.io())}),Et(H,lo.EventType.ERROR,kt=>{Re||(Re=!0,na("Connection","WebChannel transport errored:",kt),dt.io(new Nt(ct.UNAVAILABLE,"The operation could not be completed")))}),Et(H,lo.EventType.MESSAGE,kt=>{var ln;if(!Re){const vn=kt.data[0];Mn(!!vn);const ei=vn,Oi=ei.error||(null===(ln=ei[0])||void 0===ln?void 0:ln.error);if(Oi){Lt("Connection","WebChannel received error:",Oi);const si=Oi.status;let as=function(oi){const io=Yi[oi];if(void 0!==io)return Xp(io)}(si),Ci=Oi.message;void 0===as&&(as=ct.INTERNAL,Ci="Unknown error status: "+si+" with message "+Oi.message),Re=!0,dt.io(new Nt(as,Ci)),H.close()}else Lt("Connection","WebChannel received:",vn),dt.ro(vn)}}),Et(g,Ms.STAT_EVENT,kt=>{kt.stat===ns.PROXY?Lt("Connection","Detected buffering proxy"):kt.stat===ns.NOPROXY&&Lt("Connection","Detected no buffering proxy")}),setTimeout(()=>{dt.so()},0),dt}}function Wf(){return typeof window<"u"?window:null}function sh(){return typeof document<"u"?document:null}function Hl(i){return new yf(i,!0)}class oh{constructor(e,t,o=1e3,c=1.5,d=6e4){this.Hs=e,this.timerId=t,this.mo=o,this.yo=c,this.po=d,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),c=Math.max(0,t-o);c>0&&Lt("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,c,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Fg{constructor(e,t,o,c,d,g,S,$){this.Hs=e,this.vo=o,this.Vo=c,this.connection=d,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=S,this.listener=$,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new oh(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,W.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,W.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var o=this;return(0,W.Z)(function*(){o.Lo(),o.Uo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():t&&t.code===ct.RESOURCE_EXHAUSTED?(Kr(t.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),o.xo.Ao()):t&&t.code===ct.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.qo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,c])=>{this.So===t&&this.Go(o,c)},o=>{e(()=>{const c=new Nt(ct.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(c)})})}Go(e,t){const o=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(c=>{o(()=>this.Qo(c))}),this.stream.onMessage(c=>{o(()=>this.onMessage(c))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,W.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Lt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Lt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lg extends Fg{constructor(e,t,o,c,d,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,c,g),this.It=d}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Nd(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===($=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===$?1:"REMOVE"===$?2:"CURRENT"===$?3:"RESET"===$?4:mn(),c=e.targetChange.targetIds||[],d=function($,H){return $.gt?(Mn(void 0===H||"string"==typeof H),Di.fromBase64String(H||"")):(Mn(void 0===H||H instanceof Uint8Array),Di.fromUint8Array(H||new Uint8Array))}(i,e.targetChange.resumeToken),g=e.targetChange.cause,S=g&&function($){const H=void 0===$.code?ct.UNKNOWN:Xp($.code);return new Nt(H,$.message||"")}(g);t=new pf(o,c,d,S||null)}else if("documentChange"in e){const o=e.documentChange,c=ha(i,o.document.name),d=Cs(o.document.updateTime),g=new ve({mapValue:{fields:o.document.fields}}),S=it.newFoundDocument(c,d,g);t=new ml(o.targetIds||[],o.removedTargetIds||[],S.key,S)}else if("documentDelete"in e){const o=e.documentDelete,c=ha(i,o.document),d=o.readTime?Cs(o.readTime):Fn.min(),g=it.newNoDocument(c,d);t=new ml([],o.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const o=e.documentRemove,c=ha(i,o.document);t=new ml([],o.removedTargetIds||[],c,null)}else{if(!("filter"in e))return mn();{const o=e.filter,d=new Kp(o.count||0);t=new ff(o.targetId,d)}}var $;return t}(this.It,e),o=function(c){if(!("targetChange"in c))return Fn.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Fn.min():d.readTime?Cs(d.readTime):Fn.min()}(e);return this.listener.Wo(t,o)}zo(e){const t={};t.database=Da(this.It),t.addTarget=function(c,d){let g;const S=d.target;return g=Wi(S)?{documents:_l(c,S)}:{query:Fd(c,S)},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?g.resumeToken=vf(c,d.resumeToken):d.snapshotVersion.compareTo(Fn.min())>0&&(g.readTime=oc(c,d.snapshotVersion.toTimestamp())),g}(this.It,e);const o=function wf(i,e){const t=function(o,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return mn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Bo(t)}Ho(e){const t={};t.database=Da(this.It),t.removeTarget=e,this.Bo(t)}}class Dy extends Fg{constructor(e,t,o,c,d,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,c,g),this.It=d,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Mn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function If(i,e){return i&&i.length>0?(Mn(void 0!==e),i.map(t=>function(o,c){let d=Cs(o.updateTime?o.updateTime:c);return d.isEqual(Fn.min())&&(d=Cs(c)),new Yp(d,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Cs(e.commitTime);return this.listener.Zo(o,t)}return Mn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Da(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>yu(this.It,o))};this.Bo(t)}}class Cy extends class{}{constructor(e,t,o,c){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.It=c,this.nu=!1}su(){if(this.nu)throw new Nt(ct.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.ao(e,t,o,c,d)).catch(c=>{throw"FirebaseError"===c.name?(c.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Nt(ct.UNKNOWN,c.toString())})}_o(e,t,o,c){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection._o(e,t,o,d,g,c)).catch(d=>{throw"FirebaseError"===d.name?(d.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Nt(ct.UNKNOWN,d.toString())})}terminate(){this.nu=!0}}class $g{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Kr(t),this.ou=!1):Lt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class gc{constructor(e,t,o,c,d){var g=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=d,this.mu.qr(S=>{o.enqueueAndForget((0,W.Z)(function*(){var $;wu(g)&&(Lt("RemoteStore","Restarting streams for network reachability change."),yield($=(0,W.Z)(function*(H){const oe=Yt(H);oe._u.add(4),yield Lu(oe),oe.gu.set("Unknown"),oe._u.delete(4),yield Gl(oe)}),function(H){return $.apply(this,arguments)})(g))}))}),this.gu=new $g(o,c)}}function Gl(i){return zl.apply(this,arguments)}function zl(){return zl=(0,W.Z)(function*(i){if(wu(i))for(const e of i.wu)yield e(!0)}),zl.apply(this,arguments)}function Lu(i){return qf.apply(this,arguments)}function qf(){return qf=(0,W.Z)(function*(i){for(const e of i.wu)yield e(!1)}),qf.apply(this,arguments)}function Yf(i,e){const t=Yt(i);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Ug(t)?ch(t):Yo(t).ko()&&Vg(t,e))}function uh(i,e){const t=Yt(i),o=Yo(t);t.du.delete(e),o.ko()&&Bg(t,e),0===t.du.size&&(o.ko()?o.Fo():wu(t)&&t.gu.set("Unknown"))}function Vg(i,e){i.yu.Mt(e.targetId),Yo(i).zo(e)}function Bg(i,e){i.yu.Mt(e),Yo(i).Ho(e)}function ch(i){i.yu=new oy({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),se:e=>i.du.get(e)||null}),Yo(i).start(),i.gu.uu()}function Ug(i){return wu(i)&&!Yo(i).No()&&i.du.size>0}function wu(i){return 0===Yt(i)._u.size}function mc(i){i.yu=void 0}function Ty(i){return lh.apply(this,arguments)}function lh(){return lh=(0,W.Z)(function*(i){i.du.forEach((e,t)=>{Vg(i,e)})}),lh.apply(this,arguments)}function dh(i,e){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,W.Z)(function*(i,e){mc(i),Ug(i)?(i.gu.hu(e),ch(i)):i.gu.set("Unknown")}),Kf.apply(this,arguments)}function jg(i,e,t){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,W.Z)(function*(i,e,t){if(i.gu.set("Online"),e instanceof pf&&2===e.state&&e.cause)try{yield(o=(0,W.Z)(function*(c,d){const g=d.cause;for(const S of d.targetIds)c.du.has(S)&&(yield c.remoteSyncer.rejectListen(S,g),c.du.delete(S),c.yu.removeTarget(S))}),function(c,d){return o.apply(this,arguments)})(i,e)}catch(o){Lt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield hh(i,o)}else if(e instanceof ml?i.yu.Gt(e):e instanceof ff?i.yu.Yt(e):i.yu.Wt(e),!t.isEqual(Fn.min()))try{const o=yield Lf(i.localStore);t.compareTo(o)>=0&&(yield function(c,d){const g=c.yu.te(d);return g.targetChanges.forEach((S,$)=>{if(S.resumeToken.approximateByteSize()>0){const H=c.du.get($);H&&c.du.set($,H.withResumeToken(S.resumeToken,d))}}),g.targetMismatches.forEach(S=>{const $=c.du.get(S);if(!$)return;c.du.set(S,$.withResumeToken(Di.EMPTY_BYTE_STRING,$.snapshotVersion)),Bg(c,S);const H=new vu($.target,S,1,$.sequenceNumber);Vg(c,H)}),c.remoteSyncer.applyRemoteEvent(g)}(i,t))}catch(o){Lt("RemoteStore","Failed to raise snapshot:",o),yield hh(i,o)}var o}),Zf.apply(this,arguments)}function hh(i,e,t){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,W.Z)(function*(i,e,t){if(!jo(e))throw e;i._u.add(1),yield Lu(i),i.gu.set("Offline"),t||(t=()=>Lf(i.localStore)),i.asyncQueue.enqueueRetryable((0,W.Z)(function*(){Lt("RemoteStore","Retrying IndexedDB access"),yield t(),i._u.delete(1),yield Gl(i)}))}),Xf.apply(this,arguments)}function Hg(i,e){return e().catch(t=>hh(i,t,e))}function zc(i){return fh.apply(this,arguments)}function fh(){return fh=(0,W.Z)(function*(i){const e=Yt(i),t=nu(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Sy(e);)try{const c=yield Iy(e.localStore,o);if(null===c){0===e.fu.length&&t.Fo();break}o=c.batchId,Gg(e,c)}catch(c){yield hh(e,c)}Qf(e)&&ph(e)}),fh.apply(this,arguments)}function Sy(i){return wu(i)&&i.fu.length<10}function Gg(i,e){i.fu.push(e);const t=nu(i);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Qf(i){return wu(i)&&!nu(i).No()&&i.fu.length>0}function ph(i){nu(i).start()}function j_(i){return Wl.apply(this,arguments)}function Wl(){return Wl=(0,W.Z)(function*(i){nu(i).eu()}),Wl.apply(this,arguments)}function Ay(i){return zg.apply(this,arguments)}function zg(){return zg=(0,W.Z)(function*(i){const e=nu(i);for(const t of i.fu)e.Xo(t.mutations)}),zg.apply(this,arguments)}function Wc(i,e,t){return gh.apply(this,arguments)}function gh(){return gh=(0,W.Z)(function*(i,e,t){const o=i.fu.shift(),c=Ud.from(o,e,t);yield Hg(i,()=>i.remoteSyncer.applySuccessfulWrite(c)),yield zc(i)}),gh.apply(this,arguments)}function Wg(i,e){return qc.apply(this,arguments)}function qc(){return qc=(0,W.Z)(function*(i,e){var t;e&&nu(i).Yo&&(yield(t=(0,W.Z)(function*(o,c){if(Zp(d=c.code)&&d!==ct.ABORTED){const g=o.fu.shift();nu(o).Mo(),yield Hg(o,()=>o.remoteSyncer.rejectFailedWrite(g.batchId,c)),yield zc(o)}var d}),function(o,c){return t.apply(this,arguments)})(i,e)),Qf(i)&&ph(i)}),qc.apply(this,arguments)}function Ta(i,e){return mh.apply(this,arguments)}function mh(){return mh=(0,W.Z)(function*(i,e){const t=Yt(i);t.asyncQueue.verifyOperationInProgress(),Lt("RemoteStore","RemoteStore received new credentials");const o=wu(t);t._u.add(3),yield Lu(t),o&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Gl(t)}),mh.apply(this,arguments)}function Jf(i,e){return ql.apply(this,arguments)}function ql(){return ql=(0,W.Z)(function*(i,e){const t=Yt(i);e?(t._u.delete(2),yield Gl(t)):e||(t._u.add(2),yield Lu(t),t.gu.set("Unknown"))}),ql.apply(this,arguments)}function Yo(i){return i.pu||(i.pu=function(e,t,o){const c=Yt(e);return c.su(),new Lg(t,c.connection,c.authCredentials,c.appCheckCredentials,c.It,o)}(i.datastore,i.asyncQueue,{Yr:Ty.bind(null,i),Zr:dh.bind(null,i),Wo:jg.bind(null,i)}),i.wu.push(function(){var e=(0,W.Z)(function*(t){t?(i.pu.Mo(),Ug(i)?ch(i):i.gu.set("Unknown")):(yield i.pu.stop(),mc(i))});return function(t){return e.apply(this,arguments)}}())),i.pu}function nu(i){return i.Iu||(i.Iu=function(e,t,o){const c=Yt(e);return c.su(),new Dy(t,c.connection,c.authCredentials,c.appCheckCredentials,c.It,o)}(i.datastore,i.asyncQueue,{Yr:j_.bind(null,i),Zr:Wg.bind(null,i),tu:Ay.bind(null,i),Zo:Wc.bind(null,i)}),i.wu.push(function(){var e=(0,W.Z)(function*(t){t?(i.Iu.Mo(),yield zc(i)):(yield i.Iu.stop(),i.fu.length>0&&(Lt("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Iu}class yh{constructor(e,t,o,c,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=c,this.removalCallback=d,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(e,t,o,c,d){const g=Date.now()+o,S=new yh(e,t,g,c,d);return S.start(o),S}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nt(ct.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $u(i,e){if(Kr("AsyncQueue",`${e}: ${i}`),jo(i))return new Nt(ct.UNAVAILABLE,`${e}: ${i}`);throw i}class Yl{constructor(e){this.comparator=e?(t,o)=>e(t,o)||Kt.comparator(t.key,o.key):(t,o)=>Kt.comparator(t.key,o.key),this.keyedMap=Rc(),this.sortedSet=new wi(this.comparator)}static emptySet(e){return new Yl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const c=t.getNext().key,d=o.getNext().key;if(!c.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Yl;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class ep{constructor(){this.Tu=new wi(Kt.comparator)}track(e){const t=e.doc.key,o=this.Tu.get(t);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(t):1===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):mn():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Kl{constructor(e,t,o,c,d,g,S,$,H){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=c,this.mutatedKeys=d,this.fromCache=g,this.syncStateChanged=S,this.excludesMetadataChanges=$,this.hasCachedResults=H}static fromInitialDocuments(e,t,o,c,d){const g=[];return t.forEach(S=>{g.push({type:0,doc:S})}),new Kl(e,t,Yl.emptySet(t),g,o,c,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$a(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let c=0;c<t.length;c++)if(t[c].type!==o[c].type||!t[c].doc.isEqual(o[c].doc))return!1;return!0}}class vh{constructor(){this.Au=void 0,this.listeners=[]}}class _h{constructor(){this.queries=new Ja(e=>Va(e),$a),this.onlineState="Unknown",this.Ru=new Set}}function Zl(i,e){return Xl.apply(this,arguments)}function Xl(){return Xl=(0,W.Z)(function*(i,e){const t=Yt(i),o=e.query;let c=!1,d=t.queries.get(o);if(d||(c=!0,d=new vh),c)try{d.Au=yield t.onListen(o)}catch(g){const S=$u(g,`Initialization of query '${bo(e.query)}' failed`);return void e.onError(S)}t.queries.set(o,d),d.listeners.push(e),e.bu(t.onlineState),d.Au&&e.Pu(d.Au)&&tp(t)}),Xl.apply(this,arguments)}function Ql(i,e){return qg.apply(this,arguments)}function qg(){return qg=(0,W.Z)(function*(i,e){const t=Yt(i),o=e.query;let c=!1;const d=t.queries.get(o);if(d){const g=d.listeners.indexOf(e);g>=0&&(d.listeners.splice(g,1),c=0===d.listeners.length)}if(c)return t.queries.delete(o),t.onUnlisten(o)}),qg.apply(this,arguments)}function xy(i,e){const t=Yt(i);let o=!1;for(const c of e){const g=t.queries.get(c.query);if(g){for(const S of g.listeners)S.Pu(c)&&(o=!0);g.Au=c}}o&&tp(t)}function My(i,e,t){const o=Yt(i),c=o.queries.get(e);if(c)for(const d of c.listeners)d.onError(t);o.queries.delete(e)}function tp(i){i.Ru.forEach(e=>{e.next()})}class np{constructor(e,t,o){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const c of e.docChanges)3!==c.type&&o.push(c);e=new Kl(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class rp{constructor(e){this.key=e}}class ip{constructor(e){this.key=e}}class Kg{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=dr(),this.mutatedKeys=dr(),this.Gu=Dd(e),this.Qu=new Yl(this.Gu)}get ju(){return this.Uu}Wu(e,t){const o=t?t.zu:new ep,c=t?t.Qu:this.Qu;let d=t?t.mutatedKeys:this.mutatedKeys,g=c,S=!1;const $="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,H="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((oe,Re)=>{const dt=c.get(oe),Et=Io(this.query,Re)?Re:null,kt=!!dt&&this.mutatedKeys.has(dt.key),ln=!!Et&&(Et.hasLocalMutations||this.mutatedKeys.has(Et.key)&&Et.hasCommittedMutations);let vn=!1;dt&&Et?dt.data.isEqual(Et.data)?kt!==ln&&(o.track({type:3,doc:Et}),vn=!0):this.Hu(dt,Et)||(o.track({type:2,doc:Et}),vn=!0,($&&this.Gu(Et,$)>0||H&&this.Gu(Et,H)<0)&&(S=!0)):!dt&&Et?(o.track({type:0,doc:Et}),vn=!0):dt&&!Et&&(o.track({type:1,doc:dt}),vn=!0,($||H)&&(S=!0)),vn&&(Et?(g=g.add(Et),d=ln?d.add(oe):d.delete(oe)):(g=g.delete(oe),d=d.delete(oe)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const oe="F"===this.query.limitType?g.last():g.first();g=g.delete(oe.key),d=d.delete(oe.key),o.track({type:1,doc:oe})}return{Qu:g,zu:o,$i:S,mutatedKeys:d}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const c=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const d=e.zu.Eu();d.sort((H,oe)=>function(Re,dt){const Et=kt=>{switch(kt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mn()}};return Et(Re)-Et(dt)}(H.type,oe.type)||this.Gu(H.doc,oe.doc)),this.Ju(o);const g=t?this.Yu():[],S=0===this.Ku.size&&this.current?1:0,$=S!==this.qu;return this.qu=S,0!==d.length||$?{snapshot:new Kl(this.query,e.Qu,c,d,e.mutatedKeys,0===S,$,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:g}:{Xu:g}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new ep,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=dr(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return e.forEach(o=>{this.Ku.has(o)||t.push(new ip(o))}),this.Ku.forEach(o=>{e.has(o)||t.push(new rp(o))}),t}tc(e){this.Uu=e.Hi,this.Ku=dr();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Kl.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class sp{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class H_{constructor(e){this.key=e,this.nc=!1}}class G_{constructor(e,t,o,c,d,g){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=c,this.currentUser=d,this.maxConcurrentLimboResolutions=g,this.sc={},this.ic=new Ja(S=>Va(S),$a),this.rc=new Map,this.oc=new Set,this.uc=new wi(Kt.comparator),this.cc=new Map,this.ac=new Pl,this.hc={},this.lc=new Map,this.fc=Iu.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function z_(i,e){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,W.Z)(function*(i,e){const t=lp(i);let o,c;const d=t.ic.get(e);if(d)o=d.targetId,t.sharedClientState.addLocalQueryTarget(o),c=d.view.ec();else{const g=yield pc(t.localStore,Xi(e));t.isPrimaryClient&&Yf(t.remoteStore,g);const S=t.sharedClientState.addLocalQueryTarget(g.targetId);o=g.targetId,c=yield Xg(t,e,o,"current"===S,g.resumeToken)}return c}),Zg.apply(this,arguments)}function Xg(i,e,t,o,c){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,W.Z)(function*(i,e,t,o,c){i._c=(Re,dt,Et)=>{return(kt=(0,W.Z)(function*(ln,vn,ei,Oi){let si=vn.view.Wu(ei);si.$i&&(si=yield Bl(ln.localStore,vn.query,!1).then(({documents:oi})=>vn.view.Wu(oi,si)));const as=Oi&&Oi.targetChanges.get(vn.targetId),Ci=vn.view.applyChanges(si,ln.isPrimaryClient,as);return Kc(ln,vn.targetId,Ci.Xu),Ci.snapshot}),function(ln,vn,ei,Oi){return kt.apply(this,arguments)})(i,Re,dt,Et);var kt};const d=yield Bl(i.localStore,e,!0),g=new Kg(e,d.Hi),S=g.Wu(d.documents),$=Oc.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState,c),H=g.applyChanges(S,i.isPrimaryClient,$);Kc(i,t,H.Xu);const oe=new sp(e,t,g);return i.ic.set(e,oe),i.rc.has(t)?i.rc.get(t).push(e):i.rc.set(t,[e]),H.snapshot}),Qg.apply(this,arguments)}function W_(i,e){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,W.Z)(function*(i,e){const t=Yt(i),o=t.ic.get(e),c=t.rc.get(o.targetId);if(c.length>1)return t.rc.set(o.targetId,c.filter(d=>!$a(d,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Gc(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),uh(t.remoteStore,o.targetId),Yc(t,o.targetId)}).catch(Zi))):(Yc(t,o.targetId),yield Gc(t.localStore,o.targetId,!0))}),Jg.apply(this,arguments)}function em(){return em=(0,W.Z)(function*(i,e,t){const o=od(i);try{const c=yield function(d,g){const S=Yt(d),$=Pr.now(),H=g.reduce((dt,Et)=>dt.add(Et.key),dr());let oe,Re;return S.persistence.runTransaction("Locally write mutations","readwrite",dt=>{let Et=No(),kt=dr();return S.Gi.getEntries(dt,H).next(ln=>{Et=ln,Et.forEach((vn,ei)=>{ei.isValidDocument()||(kt=kt.add(vn))})}).next(()=>S.localDocuments.getOverlayedDocuments(dt,Et)).next(ln=>{oe=ln;const vn=[];for(const ei of g){const Oi=lf(ei,oe.get(ei.key).overlayedDocument);null!=Oi&&vn.push(new Eo(ei.key,Oi,xe(Oi.value.mapValue),Bi.exists(!0)))}return S.mutationQueue.addMutationBatch(dt,$,vn,g)}).next(ln=>{Re=ln;const vn=ln.applyToLocalDocumentSet(oe,kt);return S.documentOverlayCache.saveOverlays(dt,ln.batchId,vn)})}).then(()=>({batchId:Re.batchId,changes:Od(oe)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(c.batchId),function(d,g,S){let $=d.hc[d.currentUser.toKey()];$||($=new wi(Bn)),$=$.insert(g,S),d.hc[d.currentUser.toKey()]=$}(o,c.batchId,t),yield Ko(o,c.changes),yield zc(o.remoteStore)}catch(c){const d=$u(c,"Failed to persist write");t.reject(d)}}),em.apply(this,arguments)}function Du(i,e){return Jl.apply(this,arguments)}function Jl(){return Jl=(0,W.Z)(function*(i,e){const t=Yt(i);try{const o=yield $f(t.localStore,e);e.targetChanges.forEach((c,d)=>{const g=t.cc.get(d);g&&(Mn(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?g.nc=!0:c.modifiedDocuments.size>0?Mn(g.nc):c.removedDocuments.size>0&&(Mn(g.nc),g.nc=!1))}),yield Ko(t,o,e)}catch(o){yield Zi(o)}}),Jl.apply(this,arguments)}function tm(i,e,t){const o=Yt(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const c=[];o.ic.forEach((d,g)=>{const S=g.view.bu(e);S.snapshot&&c.push(S.snapshot)}),function(d,g){const S=Yt(d);S.onlineState=g;let $=!1;S.queries.forEach((H,oe)=>{for(const Re of oe.listeners)Re.bu(g)&&($=!0)}),$&&tp(S)}(o.eventManager,e),c.length&&o.sc.Wo(c),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function nm(i,e,t){return ed.apply(this,arguments)}function ed(){return ed=(0,W.Z)(function*(i,e,t){const o=Yt(i);o.sharedClientState.updateQueryState(e,"rejected",t);const c=o.cc.get(e),d=c&&c.key;if(d){let g=new wi(Kt.comparator);g=g.insert(d,it.newNoDocument(d,Fn.min()));const S=dr().add(d),$=new ic(Fn.min(),new Map,new Ar(Bn),g,S);yield Du(o,$),o.uc=o.uc.remove(d),o.cc.delete(e),nd(o)}else yield Gc(o.localStore,e,!1).then(()=>Yc(o,e,t)).catch(Zi)}),ed.apply(this,arguments)}function rm(i,e){return td.apply(this,arguments)}function td(){return td=(0,W.Z)(function*(i,e){const t=Yt(i),o=e.batch.batchId;try{const c=yield Ff(t.localStore,e);bh(t,o,null),ap(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Ko(t,c)}catch(c){yield Zi(c)}}),td.apply(this,arguments)}function Py(i,e,t){return ru.apply(this,arguments)}function ru(){return ru=(0,W.Z)(function*(i,e,t){const o=Yt(i);try{const c=yield function(d,g){const S=Yt(d);return S.persistence.runTransaction("Reject batch","readwrite-primary",$=>{let H;return S.mutationQueue.lookupMutationBatch($,g).next(oe=>(Mn(null!==oe),H=oe.keys(),S.mutationQueue.removeMutationBatch($,oe))).next(()=>S.mutationQueue.performConsistencyCheck($)).next(()=>S.documentOverlayCache.removeOverlaysForBatchId($,H,g)).next(()=>S.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,H)).next(()=>S.localDocuments.getDocuments($,H))})}(o.localStore,e);bh(o,e,t),ap(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Ko(o,c)}catch(c){yield Zi(c)}}),ru.apply(this,arguments)}function ap(i,e){(i.lc.get(e)||[]).forEach(t=>{t.resolve()}),i.lc.delete(e)}function bh(i,e,t){const o=Yt(i);let c=o.hc[o.currentUser.toKey()];if(c){const d=c.get(e);d&&(t?d.reject(t):d.resolve(),c=c.remove(e)),o.hc[o.currentUser.toKey()]=c}}function Yc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.rc.get(e))i.ic.delete(o),t&&i.sc.wc(o,t);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(o=>{i.ac.containsKey(o)||sm(i,o)})}function sm(i,e){i.oc.delete(e.path.canonicalString());const t=i.uc.get(e);null!==t&&(uh(i.remoteStore,t),i.uc=i.uc.remove(e),i.cc.delete(t),nd(i))}function Kc(i,e,t){for(const o of t)o instanceof rp?(i.ac.addReference(o.key,e),Zc(i,o)):o instanceof ip?(Lt("SyncEngine","Document no longer in limbo: "+o.key),i.ac.removeReference(o.key,e),i.ac.containsKey(o.key)||sm(i,o.key)):mn()}function Zc(i,e){const t=e.key,o=t.path.canonicalString();i.uc.get(t)||i.oc.has(o)||(Lt("SyncEngine","New document in limbo: "+t),i.oc.add(o),nd(i))}function nd(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const t=new Kt(pr.fromString(e)),o=i.fc.next();i.cc.set(o,new H_(t)),i.uc=i.uc.insert(t,o),Yf(i.remoteStore,new vu(Xi(Qn(t.path)),o,2,Os.at))}}function Ko(i,e,t){return rd.apply(this,arguments)}function rd(){return rd=(0,W.Z)(function*(i,e,t){const o=Yt(i),c=[],d=[],g=[];var S;o.ic.isEmpty()||(o.ic.forEach((S,$)=>{g.push(o._c($,e,t).then(H=>{if((H||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState($.targetId,H?.fromCache?"not-current":"current"),H){c.push(H);const oe=Jd.Ci($.targetId,H);d.push(oe)}}))}),yield Promise.all(g),o.sc.Wo(c),yield(S=(0,W.Z)(function*($,H){const oe=Yt($);try{yield oe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Re=>ot.forEach(H,dt=>ot.forEach(dt.Si,Et=>oe.persistence.referenceDelegate.addReference(Re,dt.targetId,Et)).next(()=>ot.forEach(dt.Di,Et=>oe.persistence.referenceDelegate.removeReference(Re,dt.targetId,Et)))))}catch(Re){if(!jo(Re))throw Re;Lt("LocalStore","Failed to update sequence numbers: "+Re)}for(const Re of H){const dt=Re.targetId;if(!Re.fromCache){const Et=oe.Ui.get(dt),ln=Et.withLastLimboFreeSnapshotVersion(Et.snapshotVersion);oe.Ui=oe.Ui.insert(dt,ln)}}}),function($,H){return S.apply(this,arguments)})(o.localStore,d))}),rd.apply(this,arguments)}function Ih(i,e){return Eh.apply(this,arguments)}function Eh(){return Eh=(0,W.Z)(function*(i,e){const t=Yt(i);if(!t.currentUser.isEqual(e)){Lt("SyncEngine","User change. New user:",e.toKey());const o=yield Vl(t.localStore,e);t.currentUser=e,(c=t).lc.forEach(g=>{g.forEach(S=>{S.reject(new Nt(ct.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.lc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Ko(t,o.ji)}var c}),Eh.apply(this,arguments)}function om(i,e){const t=Yt(i),o=t.cc.get(e);if(o&&o.nc)return dr().add(o.key);{let c=dr();const d=t.rc.get(e);if(!d)return c;for(const g of d){const S=t.ic.get(g);c=c.unionWith(S.view.ju)}return c}}function up(i,e){return id.apply(this,arguments)}function id(){return id=(0,W.Z)(function*(i,e){const t=Yt(i),o=yield Bl(t.localStore,e.query,!0),c=e.view.tc(o);return t.isPrimaryClient&&Kc(t,e.targetId,c.Xu),c}),id.apply(this,arguments)}function am(i,e){return sd.apply(this,arguments)}function sd(){return sd=(0,W.Z)(function*(i,e){const t=Yt(i);return Bf(t.localStore,e).then(o=>Ko(t,o))}),sd.apply(this,arguments)}function Ny(i,e,t,o){return um.apply(this,arguments)}function um(){return um=(0,W.Z)(function*(i,e,t,o){const c=Yt(i),d=yield function(g,S){const $=Yt(g),H=Yt($.mutationQueue);return $.persistence.runTransaction("Lookup mutation documents","readonly",oe=>H.Tn(oe,S).next(Re=>Re?$.localDocuments.getDocuments(oe,Re):ot.resolve(null)))}(c.localStore,e);var S;null!==d?("pending"===t?yield zc(c.remoteStore):"acknowledged"===t||"rejected"===t?(bh(c,e,o||null),ap(c,e),S=e,Yt(Yt(c.localStore).mutationQueue).An(S)):mn(),yield Ko(c,d)):Lt("SyncEngine","Cannot apply mutation batch with id: "+e)}),um.apply(this,arguments)}function wh(){return wh=(0,W.Z)(function*(i,e){const t=Yt(i);if(lp(t),od(t),!0===e&&!0!==t.dc){const o=t.sharedClientState.getAllActiveQueryTargets(),c=yield cm(t,o.toArray());t.dc=!0,yield Jf(t.remoteStore,!0);for(const d of c)Yf(t.remoteStore,d)}else if(!1===e&&!1!==t.dc){const o=[];let c=Promise.resolve();t.rc.forEach((d,g)=>{t.sharedClientState.isLocalQueryTarget(g)?o.push(g):c=c.then(()=>(Yc(t,g),Gc(t.localStore,g,!0))),uh(t.remoteStore,g)}),yield c,yield cm(t,o),function(d){const g=Yt(d);g.cc.forEach((S,$)=>{uh(g.remoteStore,$)}),g.ac.fs(),g.cc=new Map,g.uc=new wi(Kt.comparator)}(t),t.dc=!1,yield Jf(t.remoteStore,!1)}}),wh.apply(this,arguments)}function cm(i,e,t){return Dh.apply(this,arguments)}function Dh(){return Dh=(0,W.Z)(function*(i,e,t){const o=Yt(i),c=[],d=[];for(const g of e){let S;const $=o.rc.get(g);if($&&0!==$.length){S=yield pc(o.localStore,Xi($[0]));for(const H of $){const oe=o.ic.get(H),Re=yield up(o,oe);Re.snapshot&&d.push(Re.snapshot)}}else{const H=yield nh(o.localStore,g);S=yield pc(o.localStore,H),yield Xg(o,cp(H),g,!1,S.resumeToken)}c.push(S)}return o.sc.Wo(d),c}),Dh.apply(this,arguments)}function cp(i){return sr(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Ly(i){const e=Yt(i);return Yt(Yt(e.localStore).persistence).vi()}function fa(i,e,t,o){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,W.Z)(function*(i,e,t,o){const c=Yt(i);if(c.dc)return void Lt("SyncEngine","Ignoring unexpected query state notification.");const d=c.rc.get(e);if(d&&d.length>0)switch(t){case"current":case"not-current":{const g=yield Bf(c.localStore,wa(d[0])),S=ic.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Di.EMPTY_BYTE_STRING);yield Ko(c,g,S);break}case"rejected":yield Gc(c.localStore,e,!0),Yc(c,e,o);break;default:mn()}}),Ch.apply(this,arguments)}function $y(i,e,t){return lm.apply(this,arguments)}function lm(){return lm=(0,W.Z)(function*(i,e,t){const o=lp(i);if(o.dc){for(const c of e){if(o.rc.has(c)){Lt("SyncEngine","Adding an already active target "+c);continue}const d=yield nh(o.localStore,c),g=yield pc(o.localStore,d);yield Xg(o,cp(d),g.targetId,!1,g.resumeToken),Yf(o.remoteStore,g)}for(const c of t)o.rc.has(c)&&(yield Gc(o.localStore,c,!1).then(()=>{uh(o.remoteStore,c),Yc(o,c)}).catch(Zi))}}),lm.apply(this,arguments)}function lp(i){const e=Yt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Du.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=om.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nm.bind(null,e),e.sc.Wo=xy.bind(null,e.eventManager),e.sc.wc=My.bind(null,e.eventManager),e}function od(i){const e=Yt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Py.bind(null,e),e}class hm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,W.Z)(function*(){t.It=Hl(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return $l(this.persistence,new eh,e.initialUser,this.It)}yc(e){return new Nf(Nl.Bs,this.It)}gc(e){return new Og}terminate(){var e=this;return(0,W.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class fm extends hm{constructor(e,t,o){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,W.Z)(function*(){yield t().call(o,e),yield o.Ac.initialize(o,e),yield od(o.Ac.syncEngine),yield zc(o.Ac.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return $l(this.persistence,new eh,e.initialUser,this.It)}Tc(e,t){return new gy(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const o=new hl(t,this.persistence);return new zi(e.asyncQueue,o)}yc(e){const t=Qd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?os.withCacheSize(this.cacheSizeBytes):os.DEFAULT;return new jc(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,Wf(),sh(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new Og}}class Vy extends fm{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,W.Z)(function*(){yield t().call(o,e);const c=o.Ac.syncEngine;o.sharedClientState instanceof ih&&(o.sharedClientState.syncEngine={Fr:Ny.bind(null,c),$r:fa.bind(null,c),Br:$y.bind(null,c),vi:Ly.bind(null,c),Mr:am.bind(null,c)},yield o.sharedClientState.start()),yield o.persistence.li(function(){var d=(0,W.Z)(function*(g){yield function Fy(i,e){return wh.apply(this,arguments)}(o.Ac.syncEngine,g),o.gcScheduler&&(g&&!o.gcScheduler.started?o.gcScheduler.start():g||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(g&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():g||o.indexBackfillerScheduler.stop())});return function(g){return d.apply(this,arguments)}}())})()}gc(e){const t=Wf();if(!ih.C(t))throw new Nt(ct.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Qd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ih(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class Th{initialize(e,t){var o=this;return(0,W.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=c=>tm(o.syncEngine,c,1),o.remoteStore.remoteSyncer.handleCredentialChange=Ih.bind(null,o.syncEngine),yield Jf(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new _h}createDatastore(e){const t=Hl(e.databaseInfo.databaseId),o=new Ng(e.databaseInfo);return new Cy(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,c=e.asyncQueue,d=S=>tm(this.syncEngine,S,0),g=kg.C()?new kg:new wy,new gc(t,o,c,d,g);var t,o,c,d,g}createSyncEngine(e,t){return function(o,c,d,g,S,$,H){const oe=new G_(o,c,d,g,S,$);return H&&(oe.dc=!0),oe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,W.Z)(function*(t){const o=Yt(t);Lt("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield Lu(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function dp(i,e,t){if(!t)throw new Nt(ct.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function gm(i){if(!Kt.isDocumentKey(i))throw new Nt(ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function mm(i){if(Kt.isDocumentKey(i))throw new Nt(ct.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ad(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":mn()}function xr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Nt(ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ad(i);throw new Nt(ct.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}const Ua=new Map;class Sh{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Nt(ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Nt(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function pm(i,e,t,o){if(!0===e&&!0===o)throw new Nt(ct.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ud{constructor(e,t,o,c){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Nt(ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Nt(ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sh(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Gu;switch(t.type){case"gapi":return new Tc(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Nt(ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ua.get(e);t&&(Lt("ComponentProvider","Removing Datastore"),Ua.delete(e),t.terminate())}(this),Promise.resolve()}}class Ts{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new iu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ts(this.firestore,e,this._key)}}class ro{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ro(this.firestore,e,this._query)}}class iu extends ro{constructor(e,t,o){super(e,t,Qn(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ts(this.firestore,null,new Kt(e))}withConverter(e){return new iu(this.firestore,e,this._path)}}function Uy(i,e,...t){if(i=(0,Y.m9)(i),dp("collection","path",e),i instanceof ud){const o=pr.fromString(e,...t);return mm(o),new iu(i,null,o)}{if(!(i instanceof Ts||i instanceof iu))throw new Nt(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(pr.fromString(e,...t));return mm(o),new iu(i.firestore,null,o)}}function Ah(i,e,...t){if(i=(0,Y.m9)(i),1===arguments.length&&(e=xu.R()),dp("doc","path",e),i instanceof ud){const o=pr.fromString(e,...t);return gm(o),new Ts(i,null,new Kt(o))}{if(!(i instanceof Ts||i instanceof iu))throw new Nt(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(pr.fromString(e,...t));return gm(o),new Ts(i.firestore,i instanceof iu?i.converter:null,new Kt(o))}}class Xc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Kr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Im{constructor(e,t,o,c){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=c,this.user=Wr.UNAUTHENTICATED,this.clientId=xu.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var g=(0,W.Z)(function*(S){Lt("FirestoreClient","Received user=",S.uid),yield d.authCredentialListener(S),d.user=S});return function(S){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(o,g=>(Lt("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,W.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Nt(ct.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,W.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const c=$u(o,"Failed to shutdown persistence");t.reject(c)}})),t.promise}}function fp(i,e){return ld.apply(this,arguments)}function ld(){return ld=(0,W.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Lt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var c=(0,W.Z)(function*(d){o.isEqual(d)||(yield Vl(e.localStore,d),o=d)});return function(d){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),ld.apply(this,arguments)}function su(i,e){return Qc.apply(this,arguments)}function Qc(){return Qc=(0,W.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Jc(i);Lt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(c=>Ta(e.remoteStore,c)),i.setAppCheckTokenChangeListener((c,d)=>Ta(e.remoteStore,d)),i.onlineComponents=e}),Qc.apply(this,arguments)}function Jc(i){return yc.apply(this,arguments)}function yc(){return yc=(0,W.Z)(function*(i){return i.offlineComponents||(Lt("FirestoreClient","Using default OfflineComponentProvider"),yield fp(i,new hm)),i.offlineComponents}),yc.apply(this,arguments)}function Mh(i){return dd.apply(this,arguments)}function dd(){return dd=(0,W.Z)(function*(i){return i.onlineComponents||(Lt("FirestoreClient","Using default OnlineComponentProvider"),yield su(i,new Th)),i.onlineComponents}),dd.apply(this,arguments)}function hd(i){return mp.apply(this,arguments)}function mp(){return mp=(0,W.Z)(function*(i){const e=yield Mh(i),t=e.eventManager;return t.onListen=z_.bind(null,e.syncEngine),t.onUnlisten=W_.bind(null,e.syncEngine),t}),mp.apply(this,arguments)}class Wy{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new oh(this,"async_queue_retry"),this.Wc=()=>{const t=sh();t&&Lt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=sh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=sh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Mi;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,W.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!jo(t))throw t;Lt("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,Kr("INTERNAL UNHANDLED ERROR: ",function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),g}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=t,t}enqueueAfterDelay(e,t,o){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const c=yh.createAndSchedule(this,e,t,o,d=>this.Yc(d));return this.qc.push(c),c}zc(){this.Kc&&mn()}verifyOperationInProgress(){}Xc(){var e=this;return(0,W.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function vp(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const c of["next","error","complete"])if(c in o&&"function"==typeof o[c])return!0;return!1}(i)}class Ui extends ud{constructor(e,t,o,c){super(e,t,o,c),this.type="firestore",this._queue=new Wy,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||el(this),this._firestoreClient.terminate()}}function _c(i,e){const t="object"==typeof i?i:(0,we.Mq)(),o="string"==typeof i?i:e||"(default)",c=(0,we.qX)(t,"firestore").getImmediate({identifier:o});if(!c._initialized){const d=(0,Y.P0)("firestore");d&&function By(i,e,t,o={}){var c;const d=(i=xr(i,ud))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&na("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let g,S;if("string"==typeof o.mockUserToken)g=o.mockUserToken,S=Wr.MOCK_USER;else{g=(0,Y.Sg)(o.mockUserToken,null===(c=i._app)||void 0===c?void 0:c.options.projectId);const $=o.mockUserToken.sub||o.mockUserToken.user_id;if(!$)throw new Nt(ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Wr($)}i._authCredentials=new va(new ra(g,S))}}(c,...d)}return c}function Fs(i){return i._firestoreClient||el(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function el(i){var e;const t=i._freezeSettings(),o=(d=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Mo(i._databaseId,d,i._persistenceKey,(S=t).host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,S.useFetchStreams));var d,S;i._firestoreClient=new Im(i._authCredentials,i._appCheckCredentials,i._queue,o)}function Yy(i){!function Nh(i){if(i._initialized||i._terminated)throw new Nt(ct.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}(i=xr(i,Ui));const e=Fs(i),t=i._freezeSettings(),o=new Th;return function kh(i,e,t){const o=new Mi;return i.asyncQueue.enqueue((0,W.Z)(function*(){try{yield fp(i,t),yield su(i,e),o.resolve()}catch(c){const d=c;if(!("FirebaseError"===(g=d).name?g.code===ct.FAILED_PRECONDITION||g.code===ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&g instanceof DOMException)||22===g.code||20===g.code||11===g.code))throw d;na("Error enabling offline persistence. Falling back to persistence disabled: "+d),o.reject(d)}var g})).then(()=>o.promise)}(e,o,new Vy(o,t.cacheSizeBytes))}class Sa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sa(Di.fromBase64String(e))}catch(t){throw new Nt(ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Sa(Di.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ha{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Nt(ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vu{constructor(e){this._methodName=e}}class Bu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Nt(ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Nt(ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bn(this._lat,e._lat)||Bn(this._long,e._long)}}const nl=/^__.*__$/;class rl{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Eo(e,this.data,this.fieldMask,t,this.fieldTransforms):new zs(e,this.data,t,this.fieldTransforms)}}class bc{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Eo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ic(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mn()}}class pd{constructor(e,t,o,c,d,g){this.settings=e,this.databaseId=t,this.It=o,this.ignoreUndefinedProperties=c,void 0===d&&this.na(),this.fieldTransforms=d||[],this.fieldMask=g||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new pd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.ia({path:o,oa:!1});return c.ua(e),c}ca(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.ia({path:o,oa:!1});return c.na(),c}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Uh(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Ic(this.sa)&&nl.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Cm{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=o||Hl(e)}da(e,t,o,c=!1){return new pd({sa:e,methodName:t,fa:o,path:gi.emptyPath(),oa:!1,la:c},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Ec(i){const e=i._freezeSettings(),t=Hl(i._databaseId);return new Cm(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Fh(i,e,t,o,c,d={}){const g=i.da(d.merge||d.mergeFields?2:0,e,t,c);wp("Data must be an object, but it was:",g,o);const S=$h(o,g);let $,H;if(d.merge)$=new Fr(g.fieldMask),H=g.fieldTransforms;else if(d.mergeFields){const oe=[];for(const Re of d.mergeFields){const dt=sl(e,Re,t);if(!g.contains(dt))throw new Nt(ct.INVALID_ARGUMENT,`Field '${dt}' is specified in your field mask but missing from your input data.`);jh(oe,dt)||oe.push(dt)}$=new Fr(oe),H=g.fieldTransforms.filter(Re=>$.covers(Re.field))}else $=null,H=g.fieldTransforms;return new rl(new ve(S),$,H)}class il extends Vu{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof il}}function wc(i,e){if(Vh(i=(0,Y.m9)(i)))return wp("Unsupported field value:",e,i),$h(i,e);if(i instanceof Vu)return function(t,o){if(!Ic(o.sa))throw o.ha(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${t._methodName}() is not currently supported inside arrays`);const c=t._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,o){const c=[];let d=0;for(const g of t){let S=wc(g,o.aa(d));null==S&&(S={nullValue:"NULL_VALUE"}),c.push(S),d++}return{arrayValue:{values:c}}}(i,e)}return function(t,o){if(null===(t=(0,Y.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return function Ku(i,e){return qu(e)?Yu(e):af(i,e)}(o.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const c=Pr.fromDate(t);return{timestampValue:oc(o.It,c)}}if(t instanceof Pr){const c=new Pr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:oc(o.It,c)}}if(t instanceof Bu)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Sa)return{bytesValue:vf(o.It,t._byteString)};if(t instanceof Ts){const c=o.databaseId,d=t.firestore._databaseId;if(!d.isEqual(c))throw o.ha(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:kc(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ha(`Unsupported field value: ${ad(t)}`)}(i,e)}function $h(i,e){const t={};return Wu(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(i,(o,c)=>{const d=wc(c,e.ra(o));null!=d&&(t[o]=d)}),{mapValue:{fields:t}}}function Vh(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Pr||i instanceof Bu||i instanceof Sa||i instanceof Ts||i instanceof Vu)}function wp(i,e,t){if(!Vh(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=ad(t);throw e.ha("an object"===o?i+" a custom object":i+" "+o)}var o}function sl(i,e,t){if((e=(0,Y.m9)(e))instanceof Ha)return e._internalPath;if("string"==typeof e)return ol(i,e);throw Uh("Field path arguments must be of type string or ",i,!1,void 0,t)}const Bh=new RegExp("[~\\*/\\[\\]]");function ol(i,e,t){if(e.search(Bh)>=0)throw Uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Ha(...e.split("."))._internalPath}catch{throw Uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Uh(i,e,t,o,c){const d=o&&!o.isEmpty(),g=void 0!==c;let S=`Function ${e}() called with invalid data`;t&&(S+=" (via `toFirestore()`)"),S+=". ";let $="";return(d||g)&&($+=" (found",d&&($+=` in field ${o}`),g&&($+=` in document ${c}`),$+=")"),new Nt(ct.INVALID_ARGUMENT,S+i+$)}function jh(i,e){return i.some(t=>t.isEqual(e))}class gd{constructor(e,t,o,c,d){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=c,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Ts(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Dp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(md("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Dp extends gd{data(){return super.data()}}function md(i,e){return"string"==typeof e?ol(i,e):e instanceof Ha?e._internalPath:e._delegate._internalPath}function Hh(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Nt(ct.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cp{}function Mm(i,...e){for(const t of e)i=t._apply(i);return i}class Tp extends Cp{constructor(e,t,o){super(),this.ma=e,this.ga=t,this.ya=o,this.type="where"}_apply(e){const t=Ec(e.firestore),o=function(c,d,g,S,$,H,oe){let Re;if($.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new Nt(ct.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){Rp(oe,H);const Et=[];for(const kt of oe)Et.push(Mp(S,c,kt));Re={arrayValue:{values:Et}}}else Re=Mp(S,c,oe)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||Rp(oe,H),Re=function xm(i,e,t,o=!1){return wc(t,i.da(o?4:3,e))}(g,"where",oe,"in"===H||"not-in"===H);const dt=mi.create($,H,Re);return function(Et,kt){if(kt.dt()){const vn=Ds(Et);if(null!==vn&&!vn.isEqual(kt.field))throw new Nt(ct.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${vn.toString()}' and '${kt.field.toString()}'`);const ei=Vi(Et);null!==ei&&Op(0,kt.field,ei)}const ln=function(vn,ei){for(const Oi of vn.filters)if(ei.indexOf(Oi.op)>=0)return Oi.op;return null}(Et,function(vn){switch(vn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(kt.op));if(null!==ln)throw new Nt(ct.INVALID_ARGUMENT,ln===kt.op?`Invalid query. You cannot use more than one '${kt.op.toString()}' filter.`:`Invalid query. You cannot use '${kt.op.toString()}' filters with '${ln.toString()}' filters.`)}(c,dt),dt}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new ro(e.firestore,e.converter,function(c,d){const g=c.filters.concat([d]);return new Rn(c.path,c.collectionGroup,c.explicitOrderBy.slice(),g,c.limit,c.limitType,c.startAt,c.endAt)}(e._query,o))}}function Rm(i,e,t){const o=e,c=md("where",i);return new Tp(c,o,t)}class Zy extends Cp{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(o,c,d){if(null!==o.startAt)throw new Nt(ct.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Nt(ct.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new We(c,d);return function(S,$){if(null===Vi(S)){const H=Ds(S);null!==H&&Op(0,H,$.field)}}(o,g),g}(e._query,this.ma,this.pa);return new ro(e.firestore,e.converter,function(o,c){const d=o.explicitOrderBy.concat([c]);return new Rn(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Om(i,e="asc"){const t=e,o=md("orderBy",i);return new Zy(o,t)}function Mp(i,e,t){if("string"==typeof(t=(0,Y.m9)(t))){if(""===t)throw new Nt(ct.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hu(e)&&-1!==t.indexOf("/"))throw new Nt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(pr.fromString(t));if(!Kt.isDocumentKey(o))throw new Nt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ko(i,new Kt(o))}if(t instanceof Ts)return ko(i,t._key);throw new Nt(ct.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ad(t)}.`)}function Rp(i,e){if(!Array.isArray(i)||0===i.length)throw new Nt(ct.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Nt(ct.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Op(i,e,t){if(!t.isEqual(e))throw new Nt(ct.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class al{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ul extends gd{constructor(e,t,o,c,d,g){super(e,t,o,c,g),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(md("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class zh extends ul{data(e={}){return super.data(e)}}class Dc{constructor(e,t,o,c){this._firestore=e,this._userDataWriter=t,this._snapshot=c,this.metadata=new al(c.hasPendingWrites,c.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new zh(this._firestore,this._userDataWriter,o.key,o,new al(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Nt(ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>({type:"added",doc:new zh(o._firestore,o._userDataWriter,g.doc.key,g.doc,new al(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:d++}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>c||3!==g.type).map(g=>{const S=new zh(o._firestore,o._userDataWriter,g.doc.key,g.doc,new al(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let $=-1,H=-1;return 0!==g.type&&($=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),1!==g.type&&(d=d.add(g.doc),H=d.indexOf(g.doc.key)),{type:rv(g.type),doc:S,oldIndex:$,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rv(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mn()}}class Uu extends class Nm{convertValue(e,t="none"){switch(Fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ho(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw mn()}}convertObject(e,t){const o={};return Gs(e.fields,(c,d)=>{o[c]=this.convertValue(d,t)}),o}convertGeoPoint(e){return new Bu(Lr(e.latitude),Lr(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Ka(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Go(e));default:return null}}convertTimestamp(e){const t=$i(e);return new Pr(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=pr.fromString(e);Mn(ue(o));const c=new bi(o.get(1),o.get(3)),d=new Kt(o.popFirst(5));return c.isEqual(t)||Kr(`Document ${d} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ts(this.firestore,null,t)}}function ov(i){i=xr(i,ro);const e=xr(i.firestore,Ui),t=Fs(e),o=new Uu(e);return Hh(i._query),function Oh(i,e,t={}){const o=new Mi;return i.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function(c,d,g,S,$){const H=new Xc({next:Re=>{d.enqueueAndForget(()=>Ql(c,oe)),Re.fromCache&&"server"===S.source?$.reject(new Nt(ct.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):$.resolve(Re)},error:Re=>$.reject(Re)}),oe=new np(g,H,{includeMetadataChanges:!0,Nu:!0});return Zl(c,oe)}(yield hd(i),i.asyncQueue,e,t,o)})),o.promise}(t,i._query).then(c=>new Dc(e,o,i,c))}function cv(i,e,t,...o){i=xr(i,Ts);const c=xr(i.firestore,Ui),d=Ec(c);let g;return g="string"==typeof(e=(0,Y.m9)(e))||e instanceof Ha?function Ep(i,e,t,o,c,d){const g=i.da(1,e,t),S=[sl(e,o,t)],$=[c];if(d.length%2!=0)throw new Nt(ct.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let dt=0;dt<d.length;dt+=2)S.push(sl(e,d[dt])),$.push(d[dt+1]);const H=[],oe=ve.empty();for(let dt=S.length-1;dt>=0;--dt)if(!jh(H,S[dt])){const Et=S[dt];let kt=$[dt];kt=(0,Y.m9)(kt);const ln=g.ca(Et);if(kt instanceof il)H.push(Et);else{const vn=wc(kt,ln);null!=vn&&(H.push(Et),oe.set(Et,vn))}}const Re=new Fr(H);return new bc(oe,Re,g.fieldTransforms)}(d,"updateDoc",i._key,e,t,o):function Am(i,e,t,o){const c=i.da(1,e,t);wp("Data must be an object, but it was:",c,o);const d=[],g=ve.empty();Gs(o,($,H)=>{const oe=ol(e,$,t);H=(0,Y.m9)(H);const Re=c.ca(oe);if(H instanceof il)d.push(oe);else{const dt=wc(H,Re);null!=dt&&(d.push(oe),g.set(oe,dt))}});const S=new Fr(d);return new bc(g,S,c.fieldTransforms)}(d,"updateDoc",i._key,e),Wh(c,[g.toMutation(i._key,Bi.exists(!0))])}function Fm(i,e){const t=xr(i.firestore,Ui),o=Ah(i),c=function Gh(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}(i.converter,e);return Wh(t,[Fh(Ec(i.firestore),"addDoc",o._key,c,null!==i.converter,{}).toMutation(o._key,Bi.exists(!1))]).then(()=>o)}function Wh(i,e){return function(t,o){const c=new Mi;return t.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function q_(i,e,t){return em.apply(this,arguments)}(yield function vc(i){return Mh(i).then(e=>e.syncEngine)}(t),o,c)})),c.promise}(Fs(i),e)}!function(i,e=!0){Vr=we.Jn,(0,we.Xd)(new fe.wA("firestore",(t,{instanceIdentifier:o,options:c})=>{const d=t.getProvider("app").getImmediate(),g=new Ui(new Oa(t.getProvider("auth-internal")),new Pa(t.getProvider("app-check-internal")),function(S,$){if(!Object.prototype.hasOwnProperty.apply(S.options,["projectId"]))throw new Nt(ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bi(S.options.projectId,$)}(d,o),d);return c=Object.assign({useFetchStreams:e},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),(0,we.KN)(Ma,"3.7.3",i),(0,we.KN)(Ma,"3.7.3","esm2017")}();var mv=B(96),kp=B(4795),yv={includeMetadataChanges:!1};function Yh(i,e){return void 0===e&&(e=yv),new mv.y(function(t){var o=function lv(i,...e){var t,o,c;i=(0,Y.m9)(i);let d={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||vp(e[g])||(d=e[g],g++);const S={includeMetadataChanges:d.includeMetadataChanges};if(vp(e[g])){const Re=e[g];e[g]=null===(t=Re.next)||void 0===t?void 0:t.bind(Re),e[g+1]=null===(o=Re.error)||void 0===o?void 0:o.bind(Re),e[g+2]=null===(c=Re.complete)||void 0===c?void 0:c.bind(Re)}let $,H,oe;if(i instanceof Ts)H=xr(i.firestore,Ui),oe=Qn(i._key.path),$={next:Re=>{e[g]&&e[g](function qh(i,e,t){const o=t.docs.get(e._key),c=new Uu(i);return new ul(i,c,e._key,o,new al(t.hasPendingWrites,t.fromCache),e.converter)}(H,i,Re))},error:e[g+1],complete:e[g+2]};else{const Re=xr(i,ro);H=xr(Re.firestore,Ui),oe=Re._query;const dt=new Uu(H);$={next:Et=>{e[g]&&e[g](new Dc(H,dt,Re,Et))},error:e[g+1],complete:e[g+2]},Hh(i._query)}return function(Re,dt,Et,kt){const ln=new Xc(kt),vn=new np(dt,ln,Et);return Re.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return Zl(yield hd(Re),vn)})),()=>{ln.bc(),Re.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return Ql(yield hd(Re),vn)}))}}(Fs(H),oe,S,$)}(i,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:o}})}function bv(i,e){return void 0===e&&(e={}),function Hm(i){return Yh(i,{includeMetadataChanges:!0}).pipe((0,kp.U)(function(e){return e.docs}))}(i).pipe((0,kp.U)(function(t){return t.map(function(o){return function Bm(i,e){void 0===e&&(e={});var t=i.data();return!i.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=i.id),t}(o,e)})}))}class Qh{constructor(e){return e}}const Gm="firestore",$p=new J.OlP("angularfire2.firestore-instances");function wv(i){return(e,t)=>{const o=e.runOutsideAngular(()=>i(t));return new Qh(o)}}const Dv={provide:class Iv{constructor(){return(0,u.vb)(Gm)}},deps:[[new J.FiY,$p]]},Cv={provide:Qh,useFactory:function Ev(i,e){const t=(0,u.JM)(Gm,i,e);return t&&new Qh(t)},deps:[[new J.FiY,$p],Pe.Ot]};let Tv=(()=>{class i{constructor(){(0,Se.KN)("angularfire",u.q4.full,"fst")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=J.oAB({type:i}),i.\u0275inj=J.cJS({providers:[Cv,Dv]}),i})();function Sv(i,...e){return{ngModule:Tv,providers:[{provide:$p,useFactory:wv(i),multi:!0,deps:[J.R0b,J.zs3,u.HU,Pe.z6,[new J.FiY,Z.dh],[new J.FiY,re.nm],...e]}]}}const Av=(0,u.u3)(bv,!0),zm=(0,u.u3)(Fm,!0),Wm=(0,u.u3)(Uy,!0),$v=(0,u.u3)(Ah,!0),Vp=(0,u.u3)(Yy,!0),Uv=(0,u.u3)(ov,!0),jv=(0,u.u3)(_c,!0),qm=(0,u.u3)(Om,!0),Ym=(0,u.u3)(Mm,!0),Km=(0,u.u3)(cv,!0),Kv=(0,u.u3)(Rm,!0)},423:(en,st,B)=>{"use strict";B.d(st,{q4:()=>Ru,HU:()=>Wi,vb:()=>ir,JM:()=>Xt,u3:()=>xc});var u=B(3363),J=B(9826),Z=B(7036),Pe=B(5875),Se=B(9330),re=B(6864),W=B(6462),we=B(912);const fe="@firebase/installations",te="0.5.16",ye=`w:${te}`,ae="FIS_v2",ht=new Se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function rt(O){return O instanceof Se.ZR&&O.code.includes("request-failed")}function at({projectId:O}){return`https://firebaseinstallations.googleapis.com/v1/projects/${O}/installations`}function Dt(O){return{token:O.token,requestStatus:2,expiresIn:ce(O.expiresIn),creationTime:Date.now()}}function Ot(O,P){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,Z.Z)(function*(O,P){const de=(yield P.json()).error;return ht.create("request-failed",{requestName:O,serverCode:de.code,serverMessage:de.message,serverStatus:de.status})})).apply(this,arguments)}function Ye({apiKey:O}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O})}function Me(O,{refreshToken:P}){const z=Ye(O);return z.append("Authorization",function ee(O){return`${ae} ${O}`}(P)),z}function Ge(O){return se.apply(this,arguments)}function se(){return(se=(0,Z.Z)(function*(O){const P=yield O();return P.status>=500&&P.status<600?O():P})).apply(this,arguments)}function ce(O){return Number(O.replace("s","000"))}function le(O,P){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,Z.Z)(function*({appConfig:O,heartbeatServiceProvider:P},{fid:z}){const de=at(O),We=Ye(O),pt=P.getImmediate({optional:!0});if(pt){const sr=yield pt.getHeartbeatsHeader();sr&&We.append("x-firebase-client",sr)}const rn={method:"POST",headers:We,body:JSON.stringify({fid:z,authVersion:ae,appId:O.appId,sdkVersion:ye})},Rn=yield Ge(()=>fetch(de,rn));if(Rn.ok){const sr=yield Rn.json();return{fid:sr.fid||z,registrationStatus:2,refreshToken:sr.refreshToken,authToken:Dt(sr.authToken)}}throw yield Ot("Create Installation",Rn)})).apply(this,arguments)}function tt(O){return new Promise(P=>{setTimeout(P,O)})}const nt=/^[cdef][\w-]{21}$/;function He(){try{const O=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(O),O[0]=112+O[0]%16;const z=function ze(O){return function wt(O){return btoa(String.fromCharCode(...O)).replace(/\+/g,"-").replace(/\//g,"_")}(O).substr(0,22)}(O);return nt.test(z)?z:""}catch{return""}}function Be(O){return`${O.appName}!${O.appId}`}const Ve=new Map;function It(O,P){const z=Be(O);yt(z,P),function _n(O,P){const z=function dn(){return!yn&&"BroadcastChannel"in self&&(yn=new BroadcastChannel("[Firebase] FID Change"),yn.onmessage=O=>{yt(O.data.key,O.data.fid)}),yn}();z&&z.postMessage({key:O,fid:P}),function fn(){0===Ve.size&&yn&&(yn.close(),yn=null)}()}(z,P)}function yt(O,P){const z=Ve.get(O);if(z)for(const de of z)de(P)}let yn=null;const ar="firebase-installations-store";let Ct=null;function Mt(){return Ct||(Ct=(0,we.X3)("firebase-installations-database",1,{upgrade:(O,P)=>{0===P&&O.createObjectStore(ar)}})),Ct}function bt(O,P){return sn.apply(this,arguments)}function sn(){return(sn=(0,Z.Z)(function*(O,P){const z=Be(O),We=(yield Mt()).transaction(ar,"readwrite"),pt=We.objectStore(ar),Pt=yield pt.get(z);return yield pt.put(P,z),yield We.done,(!Pt||Pt.fid!==P.fid)&&It(O,P.fid),P})).apply(this,arguments)}function Bt(O){return on.apply(this,arguments)}function on(){return(on=(0,Z.Z)(function*(O){const P=Be(O),de=(yield Mt()).transaction(ar,"readwrite");yield de.objectStore(ar).delete(P),yield de.done})).apply(this,arguments)}function gt(O,P){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,Z.Z)(function*(O,P){const z=Be(O),We=(yield Mt()).transaction(ar,"readwrite"),pt=We.objectStore(ar),Pt=yield pt.get(z),rn=P(Pt);return void 0===rn?yield pt.delete(z):yield pt.put(rn,z),yield We.done,rn&&(!Pt||Pt.fid!==rn.fid)&&It(O,rn.fid),rn})).apply(this,arguments)}function Un(O){return _r.apply(this,arguments)}function _r(){return(_r=(0,Z.Z)(function*(O){let P;const z=yield gt(O.appConfig,de=>{const We=qn(de),pt=Wt(O,We);return P=pt.registrationPromise,pt.installationEntry});return""===z.fid?{installationEntry:yield P}:{installationEntry:z,registrationPromise:P}})).apply(this,arguments)}function qn(O){return fr(O||{fid:He(),registrationStatus:0})}function Wt(O,P){if(0===P.registrationStatus){if(!navigator.onLine)return{installationEntry:P,registrationPromise:Promise.reject(ht.create("app-offline"))};const z={fid:P.fid,registrationStatus:1,registrationTime:Date.now()},de=function tn(O,P){return Rr.apply(this,arguments)}(O,z);return{installationEntry:z,registrationPromise:de}}return 1===P.registrationStatus?{installationEntry:P,registrationPromise:Cr(O)}:{installationEntry:P}}function Rr(){return(Rr=(0,Z.Z)(function*(O,P){try{const z=yield le(O,P);return bt(O.appConfig,z)}catch(z){throw rt(z)&&409===z.customData.serverCode?yield Bt(O.appConfig):yield bt(O.appConfig,{fid:P.fid,registrationStatus:0}),z}})).apply(this,arguments)}function Cr(O){return $n.apply(this,arguments)}function $n(){return($n=(0,Z.Z)(function*(O){let P=yield En(O.appConfig);for(;1===P.registrationStatus;)yield tt(100),P=yield En(O.appConfig);if(0===P.registrationStatus){const{installationEntry:z,registrationPromise:de}=yield Un(O);return de||z}return P})).apply(this,arguments)}function En(O){return gt(O,P=>{if(!P)throw ht.create("installation-not-found");return fr(P)})}function fr(O){return function hn(O){return 1===O.registrationStatus&&O.registrationTime+1e4<Date.now()}(O)?{fid:O.fid,registrationStatus:0}:O}function Vn(O,P){return jn.apply(this,arguments)}function jn(){return(jn=(0,Z.Z)(function*({appConfig:O,heartbeatServiceProvider:P},z){const de=Nn(O,z),We=Me(O,z),pt=P.getImmediate({optional:!0});if(pt){const sr=yield pt.getHeartbeatsHeader();sr&&We.append("x-firebase-client",sr)}const rn={method:"POST",headers:We,body:JSON.stringify({installation:{sdkVersion:ye,appId:O.appId}})},Rn=yield Ge(()=>fetch(de,rn));if(Rn.ok)return Dt(yield Rn.json());throw yield Ot("Generate Auth Token",Rn)})).apply(this,arguments)}function Nn(O,{fid:P}){return`${at(O)}/${P}/authTokens:generate`}function Zr(O){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,Z.Z)(function*(O,P=!1){let z;const de=yield gt(O.appConfig,pt=>{if(!an(pt))throw ht.create("not-registered");const Pt=pt.authToken;if(!P&&Ce(Pt))return pt;if(1===Pt.requestStatus)return z=jt(O,P),pt;{if(!navigator.onLine)throw ht.create("app-offline");const rn=Te(pt);return z=wn(O,rn),rn}});return z?yield z:de.authToken})).apply(this,arguments)}function jt(O,P){return vt.apply(this,arguments)}function vt(){return(vt=(0,Z.Z)(function*(O,P){let z=yield Gt(O.appConfig);for(;1===z.authToken.requestStatus;)yield tt(100),z=yield Gt(O.appConfig);const de=z.authToken;return 0===de.requestStatus?Zr(O,P):de})).apply(this,arguments)}function Gt(O){return gt(O,P=>{if(!an(P))throw ht.create("not-registered");return function lt(O){return 1===O.requestStatus&&O.requestTime+1e4<Date.now()}(P.authToken)?Object.assign(Object.assign({},P),{authToken:{requestStatus:0}}):P})}function wn(O,P){return In.apply(this,arguments)}function In(){return(In=(0,Z.Z)(function*(O,P){try{const z=yield Vn(O,P),de=Object.assign(Object.assign({},P),{authToken:z});return yield bt(O.appConfig,de),z}catch(z){if(!rt(z)||401!==z.customData.serverCode&&404!==z.customData.serverCode){const de=Object.assign(Object.assign({},P),{authToken:{requestStatus:0}});yield bt(O.appConfig,de)}else yield Bt(O.appConfig);throw z}})).apply(this,arguments)}function an(O){return void 0!==O&&2===O.registrationStatus}function Ce(O){return 2===O.requestStatus&&!function Ie(O){const P=Date.now();return P<O.creationTime||O.creationTime+O.expiresIn<P+36e5}(O)}function Te(O){const P={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},O),{authToken:P})}function Qt(){return(Qt=(0,Z.Z)(function*(O){const P=O,{installationEntry:z,registrationPromise:de}=yield Un(P);return de?de.catch(console.error):Zr(P).catch(console.error),z.fid})).apply(this,arguments)}function nn(){return(nn=(0,Z.Z)(function*(O,P=!1){const z=O;return yield Zn(z),(yield Zr(z,P)).token})).apply(this,arguments)}function Zn(O){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,Z.Z)(function*(O){const{registrationPromise:P}=yield Un(O);P&&(yield P)})).apply(this,arguments)}function Hn(O){return ht.create("missing-app-config-values",{valueName:O})}const ur="installations",ai=O=>{const P=O.getProvider("app").getImmediate(),z=function or(O){if(!O||!O.options)throw Hn("App Configuration");if(!O.name)throw Hn("App Name");const P=["projectId","apiKey","appId"];for(const z of P)if(!O.options[z])throw Hn(z);return{appName:O.name,projectId:O.options.projectId,apiKey:O.options.apiKey,appId:O.options.appId}}(P);return{app:P,appConfig:z,heartbeatServiceProvider:(0,Pe.qX)(P,"heartbeat"),_delete:()=>Promise.resolve()}},jr=O=>{const P=O.getProvider("app").getImmediate(),z=(0,Pe.qX)(P,ur).getImmediate();return{getId:()=>function et(O){return Qt.apply(this,arguments)}(z),getToken:We=>function Dn(O){return nn.apply(this,arguments)}(z,We)}};(function Cn(){(0,Pe.Xd)(new re.wA(ur,ai,"PUBLIC")),(0,Pe.Xd)(new re.wA("installations-internal",jr,"PRIVATE"))})(),(0,Pe.KN)(fe,te),(0,Pe.KN)(fe,te,"esm2017");const Or="@firebase/remote-config",gr=new Se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class qt{constructor(P,z,de,We){this.client=P,this.storage=z,this.storageCache=de,this.logger=We}isCachedDataFresh(P,z){if(!z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const de=Date.now()-z,We=de<=P;return this.logger.debug(`Config fetch cache check. Cache age millis: ${de}. Cache max age millis (minimumFetchIntervalMillis setting): ${P}. Is cache hit: ${We}.`),We}fetch(P){var z=this;return(0,Z.Z)(function*(){const[de,We]=yield Promise.all([z.storage.getLastSuccessfulFetchTimestampMillis(),z.storage.getLastSuccessfulFetchResponse()]);if(We&&z.isCachedDataFresh(P.cacheMaxAgeMillis,de))return We;P.eTag=We&&We.eTag;const pt=yield z.client.fetch(P),Pt=[z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===pt.status&&Pt.push(z.storage.setLastSuccessfulFetchResponse(pt)),yield Promise.all(Pt),pt})()}}function gn(O=navigator){return O.languages&&O.languages[0]||O.language}class mr{constructor(P,z,de,We,pt,Pt){this.firebaseInstallations=P,this.sdkVersion=z,this.namespace=de,this.projectId=We,this.apiKey=pt,this.appId=Pt}fetch(P){var z=this;return(0,Z.Z)(function*(){var de,We,pt;const[Pt,rn]=yield Promise.all([z.firebaseInstallations.getId(),z.firebaseInstallations.getToken()]),sr=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${z.projectId}/namespaces/${z.namespace}:fetch?key=${z.apiKey}`,Qn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":P.eTag||"*"},Gn={sdk_version:z.sdkVersion,app_instance_id:Pt,app_instance_id_token:rn,app_id:z.appId,language_code:gn()},Vi={method:"POST",headers:Qn,body:JSON.stringify(Gn)},Ds=fetch(sr,Vi),hu=new Promise((bo,Io)=>{P.signal.addEventListener(()=>{const wa=new Error("The operation was aborted.");wa.name="AbortError",Io(wa)})});let Po;try{yield Promise.race([Ds,hu]),Po=yield Ds}catch(bo){let Io="fetch-client-network";throw"AbortError"===(null===(de=bo)||void 0===de?void 0:de.name)&&(Io="fetch-timeout"),gr.create(Io,{originalErrorMessage:null===(We=bo)||void 0===We?void 0:We.message})}let Xi=Po.status;const Qa=Po.headers.get("ETag")||void 0;let $a,Va;if(200===Po.status){let bo;try{bo=yield Po.json()}catch(Io){throw gr.create("fetch-client-parse",{originalErrorMessage:null===(pt=Io)||void 0===pt?void 0:pt.message})}$a=bo.entries,Va=bo.state}if("INSTANCE_STATE_UNSPECIFIED"===Va?Xi=500:"NO_CHANGE"===Va?Xi=304:("NO_TEMPLATE"===Va||"EMPTY_CONFIG"===Va)&&($a={}),304!==Xi&&200!==Xi)throw gr.create("fetch-status",{httpStatus:Xi});return{status:Xi,eTag:Qa,config:$a}})()}}class kr{constructor(P,z){this.client=P,this.storage=z}fetch(P){var z=this;return(0,Z.Z)(function*(){const de=(yield z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return z.attemptFetch(P,de)})()}attemptFetch(P,{throttleEndTimeMillis:z,backoffCount:de}){var We=this;return(0,Z.Z)(function*(){yield function yr(O,P){return new Promise((z,de)=>{const We=Math.max(P-Date.now(),0),pt=setTimeout(z,We);O.addEventListener(()=>{clearTimeout(pt),de(gr.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(P.signal,z);try{const pt=yield We.client.fetch(P);return yield We.storage.deleteThrottleMetadata(),pt}catch(pt){if(!function ui(O){if(!(O instanceof Se.ZR&&O.customData))return!1;const P=Number(O.customData.httpStatus);return 429===P||500===P||503===P||504===P}(pt))throw pt;const Pt={throttleEndTimeMillis:Date.now()+(0,Se.$s)(de),backoffCount:de+1};return yield We.storage.setThrottleMetadata(Pt),We.attemptFetch(P,Pt)}})()}}class ls{constructor(P,z,de,We,pt){this.app=P,this._client=z,this._storageCache=de,this._storage=We,this._logger=pt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function so(O,P){var z;const de=O.target.error||void 0;return gr.create(P,{originalErrorMessage:de&&(null===(z=de)||void 0===z?void 0:z.message)})}const Ii="app_namespace_store";class As{constructor(P,z,de,We=function Do(){return new Promise((O,P)=>{var z;try{const de=indexedDB.open("firebase_remote_config",1);de.onerror=We=>{P(so(We,"storage-open"))},de.onsuccess=We=>{O(We.target.result)},de.onupgradeneeded=We=>{0===We.oldVersion&&We.target.result.createObjectStore(Ii,{keyPath:"compositeKey"})}}catch(de){P(gr.create("storage-open",{originalErrorMessage:null===(z=de)||void 0===z?void 0:z.message}))}})}()){this.appId=P,this.appName=z,this.namespace=de,this.openDbPromise=We}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(P){return this.set("last_fetch_status",P)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(P){return this.set("last_successful_fetch_timestamp_millis",P)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(P){return this.set("last_successful_fetch_response",P)}getActiveConfig(){return this.get("active_config")}setActiveConfig(P){return this.set("active_config",P)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(P){return this.set("active_config_etag",P)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(P){return this.set("throttle_metadata",P)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(P){var z=this;return(0,Z.Z)(function*(){const de=yield z.openDbPromise;return new Promise((We,pt)=>{var Pt;const Rn=de.transaction([Ii],"readonly").objectStore(Ii),sr=z.createCompositeKey(P);try{const Qn=Rn.get(sr);Qn.onerror=Gn=>{pt(so(Gn,"storage-get"))},Qn.onsuccess=Gn=>{const Vi=Gn.target.result;We(Vi?Vi.value:void 0)}}catch(Qn){pt(gr.create("storage-get",{originalErrorMessage:null===(Pt=Qn)||void 0===Pt?void 0:Pt.message}))}})})()}set(P,z){var de=this;return(0,Z.Z)(function*(){const We=yield de.openDbPromise;return new Promise((pt,Pt)=>{var rn;const sr=We.transaction([Ii],"readwrite").objectStore(Ii),Qn=de.createCompositeKey(P);try{const Gn=sr.put({compositeKey:Qn,value:z});Gn.onerror=Vi=>{Pt(so(Vi,"storage-set"))},Gn.onsuccess=()=>{pt()}}catch(Gn){Pt(gr.create("storage-set",{originalErrorMessage:null===(rn=Gn)||void 0===rn?void 0:rn.message}))}})})()}delete(P){var z=this;return(0,Z.Z)(function*(){const de=yield z.openDbPromise;return new Promise((We,pt)=>{var Pt;const Rn=de.transaction([Ii],"readwrite").objectStore(Ii),sr=z.createCompositeKey(P);try{const Qn=Rn.delete(sr);Qn.onerror=Gn=>{pt(so(Gn,"storage-delete"))},Qn.onsuccess=()=>{We()}}catch(Qn){pt(gr.create("storage-delete",{originalErrorMessage:null===(Pt=Qn)||void 0===Pt?void 0:Pt.message}))}})})()}createCompositeKey(P){return[this.appId,this.appName,this.namespace,P].join()}}class Ls{constructor(P){this.storage=P}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var P=this;return(0,Z.Z)(function*(){const z=P.storage.getLastFetchStatus(),de=P.storage.getLastSuccessfulFetchTimestampMillis(),We=P.storage.getActiveConfig(),pt=yield z;pt&&(P.lastFetchStatus=pt);const Pt=yield de;Pt&&(P.lastSuccessfulFetchTimestampMillis=Pt);const rn=yield We;rn&&(P.activeConfig=rn)})()}setLastFetchStatus(P){return this.lastFetchStatus=P,this.storage.setLastFetchStatus(P)}setLastSuccessfulFetchTimestampMillis(P){return this.lastSuccessfulFetchTimestampMillis=P,this.storage.setLastSuccessfulFetchTimestampMillis(P)}setActiveConfig(P){return this.activeConfig=P,this.storage.setActiveConfig(P)}}function Hi(){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,Z.Z)(function*(){if(!(0,Se.hl)())return!1;try{return yield(0,Se.eu)()}catch{return!1}})).apply(this,arguments)}!function ds(){(0,Pe.Xd)(new re.wA("remote-config",function O(P,{instanceIdentifier:z}){const de=P.getProvider("app").getImmediate(),We=P.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw gr.create("registration-window");if(!(0,Se.hl)())throw gr.create("indexed-db-unavailable");const{projectId:pt,apiKey:Pt,appId:rn}=de.options;if(!pt)throw gr.create("registration-project-id");if(!Pt)throw gr.create("registration-api-key");if(!rn)throw gr.create("registration-app-id");const Rn=new As(rn,de.name,z=z||"firebase"),sr=new Ls(Rn),Qn=new W.Yd(Or);Qn.logLevel=W.in.ERROR;const Gn=new mr(We,Pe.Jn,z,pt,Pt,rn),Vi=new kr(Gn,Rn),Ds=new qt(Vi,Rn,sr,Qn),hu=new ls(de,Ds,sr,Rn,Qn);return function U(O){const P=(0,Se.m9)(O);P._initializePromise||(P._initializePromise=P._storageCache.loadFromStorage().then(()=>{P._isInitializationComplete=!0}))}(hu),hu},"PUBLIC").setMultipleInstances(!0)),(0,Pe.KN)(Or,"0.3.15"),(0,Pe.KN)(Or,"0.3.15","esm2017")}();const $s="/firebase-messaging-sw.js",ma="/firebase-cloud-messaging-push-scope",Gi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",hs="google.c.a.c_id",ci="google.c.a.c_l",Ys="google.c.a.ts",br="google.c.a.e";var ti=(()=>{return(O=ti||(ti={})).PUSH_RECEIVED="push-received",O.NOTIFICATION_CLICKED="notification-clicked",ti;var O})();function ni(O){const P=new Uint8Array(O);return btoa(String.fromCharCode(...P)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Zo(O){const z=(O+"=".repeat((4-O.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),de=atob(z),We=new Uint8Array(de.length);for(let pt=0;pt<de.length;++pt)We[pt]=de.charCodeAt(pt);return We}const Ni="fcm_token_details_db",ri="fcm_token_object_Store";function Ks(O){return Vs.apply(this,arguments)}function Vs(){return Vs=(0,Z.Z)(function*(O){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(pt=>pt.name).includes(Ni))return null;let P=null;return(yield(0,we.X3)(Ni,5,{upgrade:(de=(0,Z.Z)(function*(We,pt,Pt,rn){var Rn;if(pt<2||!We.objectStoreNames.contains(ri))return;const sr=rn.objectStore(ri),Qn=yield sr.index("fcmSenderId").get(O);if(yield sr.clear(),Qn)if(2===pt){const Gn=Qn;if(!Gn.auth||!Gn.p256dh||!Gn.endpoint)return;P={token:Gn.fcmToken,createTime:null!==(Rn=Gn.createTime)&&void 0!==Rn?Rn:Date.now(),subscriptionOptions:{auth:Gn.auth,p256dh:Gn.p256dh,endpoint:Gn.endpoint,swScope:Gn.swScope,vapidKey:"string"==typeof Gn.vapidKey?Gn.vapidKey:ni(Gn.vapidKey)}}}else if(3===pt){const Gn=Qn;P={token:Gn.fcmToken,createTime:Gn.createTime,subscriptionOptions:{auth:ni(Gn.auth),p256dh:ni(Gn.p256dh),endpoint:Gn.endpoint,swScope:Gn.swScope,vapidKey:ni(Gn.vapidKey)}}}else if(4===pt){const Gn=Qn;P={token:Gn.fcmToken,createTime:Gn.createTime,subscriptionOptions:{auth:ni(Gn.auth),p256dh:ni(Gn.p256dh),endpoint:Gn.endpoint,swScope:Gn.swScope,vapidKey:ni(Gn.vapidKey)}}}}),function(pt,Pt,rn,Rn){return de.apply(this,arguments)})})).close(),yield(0,we.Lj)(Ni),yield(0,we.Lj)("fcm_vapid_details_db"),yield(0,we.Lj)("undefined"),li(P)?P:null;var de}),Vs.apply(this,arguments)}function li(O){if(!O||!O.subscriptionOptions)return!1;const{subscriptionOptions:P}=O;return"number"==typeof O.createTime&&O.createTime>0&&"string"==typeof O.token&&O.token.length>0&&"string"==typeof P.auth&&P.auth.length>0&&"string"==typeof P.p256dh&&P.p256dh.length>0&&"string"==typeof P.endpoint&&P.endpoint.length>0&&"string"==typeof P.swScope&&P.swScope.length>0&&"string"==typeof P.vapidKey&&P.vapidKey.length>0}const vr="firebase-messaging-store";let Is=null;function di(){return Is||(Is=(0,we.X3)("firebase-messaging-database",1,{upgrade:(O,P)=>{0===P&&O.createObjectStore(vr)}})),Is}function ps(O){return Si.apply(this,arguments)}function Si(){return(Si=(0,Z.Z)(function*(O){const P=es(O),de=yield(yield di()).transaction(vr).objectStore(vr).get(P);if(de)return de;{const We=yield Ks(O.appConfig.senderId);if(We)return yield Gr(O,We),We}})).apply(this,arguments)}function Gr(O,P){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,Z.Z)(function*(O,P){const z=es(O),We=(yield di()).transaction(vr,"readwrite");return yield We.objectStore(vr).put(P,z),yield We.done,P})).apply(this,arguments)}function Ai(O){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,Z.Z)(function*(O){const P=es(O),de=(yield di()).transaction(vr,"readwrite");yield de.objectStore(vr).delete(P),yield de.done})).apply(this,arguments)}function es({appConfig:O}){return O.appId}const Jr=new Se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Fi(O,P){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,Z.Z)(function*(O,P){var z;const de=yield Us(O),We=Hs(P),pt={method:"POST",headers:de,body:JSON.stringify(We)};let Pt;try{Pt=yield(yield fetch(Ki(O.appConfig),pt)).json()}catch(rn){throw Jr.create("token-subscribe-failed",{errorInfo:null===(z=rn)||void 0===z?void 0:z.toString()})}if(Pt.error)throw Jr.create("token-subscribe-failed",{errorInfo:Pt.error.message});if(!Pt.token)throw Jr.create("token-subscribe-no-token");return Pt.token})).apply(this,arguments)}function Zs(O,P){return An.apply(this,arguments)}function An(){return(An=(0,Z.Z)(function*(O,P){var z;const de=yield Us(O),We=Hs(P.subscriptionOptions),pt={method:"PATCH",headers:de,body:JSON.stringify(We)};let Pt;try{Pt=yield(yield fetch(`${Ki(O.appConfig)}/${P.token}`,pt)).json()}catch(rn){throw Jr.create("token-update-failed",{errorInfo:null===(z=rn)||void 0===z?void 0:z.toString()})}if(Pt.error)throw Jr.create("token-update-failed",{errorInfo:Pt.error.message});if(!Pt.token)throw Jr.create("token-update-no-token");return Pt.token})).apply(this,arguments)}function Xs(O,P){return ao.apply(this,arguments)}function ao(){return(ao=(0,Z.Z)(function*(O,P){var z;const We={method:"DELETE",headers:yield Us(O)};try{const Pt=yield(yield fetch(`${Ki(O.appConfig)}/${P}`,We)).json();if(Pt.error)throw Jr.create("token-unsubscribe-failed",{errorInfo:Pt.error.message})}catch(pt){throw Jr.create("token-unsubscribe-failed",{errorInfo:null===(z=pt)||void 0===z?void 0:z.toString()})}})).apply(this,arguments)}function Ki({projectId:O}){return`https://fcmregistrations.googleapis.com/v1/projects/${O}/registrations`}function Us(O){return js.apply(this,arguments)}function js(){return(js=(0,Z.Z)(function*({appConfig:O,installations:P}){const z=yield P.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O.apiKey,"x-goog-firebase-installations-auth":`FIS ${z}`})})).apply(this,arguments)}function Hs({p256dh:O,auth:P,endpoint:z,vapidKey:de}){const We={web:{endpoint:z,auth:P,p256dh:O}};return de!==Gi&&(We.web.applicationPubKey=de),We}const ts=6048e5;function Co(O){return xt.apply(this,arguments)}function xt(){return(xt=(0,Z.Z)(function*(O){const P=yield b(O.swRegistration,O.vapidKey),z={vapidKey:O.vapidKey,swScope:O.swRegistration.scope,endpoint:P.endpoint,auth:ni(P.getKey("auth")),p256dh:ni(P.getKey("p256dh"))},de=yield ps(O.firebaseDependencies);if(de){if(G(de.subscriptionOptions,z))return Date.now()>=de.createTime+ts?_(O,{token:de.token,createTime:Date.now(),subscriptionOptions:z}):de.token;try{yield Xs(O.firebaseDependencies,de.token)}catch(We){console.warn(We)}return v(O.firebaseDependencies,z)}return v(O.firebaseDependencies,z)})).apply(this,arguments)}function Tn(O){return Es.apply(this,arguments)}function Es(){return(Es=(0,Z.Z)(function*(O){const P=yield ps(O.firebaseDependencies);P&&(yield Xs(O.firebaseDependencies,P.token),yield Ai(O.firebaseDependencies));const z=yield O.swRegistration.pushManager.getSubscription();return!z||z.unsubscribe()})).apply(this,arguments)}function _(O,P){return L.apply(this,arguments)}function L(){return(L=(0,Z.Z)(function*(O,P){try{const z=yield Zs(O.firebaseDependencies,P),de=Object.assign(Object.assign({},P),{token:z,createTime:Date.now()});return yield Gr(O.firebaseDependencies,de),z}catch(z){throw yield Tn(O),z}})).apply(this,arguments)}function v(O,P){return p.apply(this,arguments)}function p(){return(p=(0,Z.Z)(function*(O,P){const de={token:yield Fi(O,P),createTime:Date.now(),subscriptionOptions:P};return yield Gr(O,de),de.token})).apply(this,arguments)}function b(O,P){return D.apply(this,arguments)}function D(){return(D=(0,Z.Z)(function*(O,P){return(yield O.pushManager.getSubscription())||O.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Zo(P)})})).apply(this,arguments)}function G(O,P){return P.vapidKey===O.vapidKey&&P.endpoint===O.endpoint&&P.auth===O.auth&&P.p256dh===O.p256dh}function je(O){const P={from:O.from,collapseKey:O.collapse_key,messageId:O.fcmMessageId};return function Tt(O,P){if(!P.notification)return;O.notification={};const z=P.notification.title;z&&(O.notification.title=z);const de=P.notification.body;de&&(O.notification.body=de);const We=P.notification.image;We&&(O.notification.image=We);const pt=P.notification.icon;pt&&(O.notification.icon=pt)}(P,O),function Pn(O,P){!P.data||(O.data=P.data)}(P,O),function Ln(O,P){var z,de,We,pt,Pt;if(!(P.fcmOptions||null!==(z=P.notification)&&void 0!==z&&z.click_action))return;O.fcmOptions={};const rn=null!==(We=null===(de=P.fcmOptions)||void 0===de?void 0:de.link)&&void 0!==We?We:null===(pt=P.notification)||void 0===pt?void 0:pt.click_action;rn&&(O.fcmOptions.link=rn);const Rn=null===(Pt=P.fcmOptions)||void 0===Pt?void 0:Pt.analytics_label;Rn&&(O.fcmOptions.analyticsLabel=Rn)}(P,O),P}function Wn(O){return"object"==typeof O&&!!O&&hs in O}function tr(O,P){const z=[];for(let de=0;de<O.length;de++)z.push(O.charAt(de)),de<P.length&&z.push(P.charAt(de));return z.join("")}function hi(O){return Jr.create("missing-app-config-values",{valueName:O})}tr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),tr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fi{constructor(P,z,de){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const We=function Ei(O){if(!O||!O.options)throw hi("App Configuration Object");if(!O.name)throw hi("App Name");const P=["projectId","apiKey","appId","messagingSenderId"],{options:z}=O;for(const de of P)if(!z[de])throw hi(de);return{appName:O.name,projectId:z.projectId,apiKey:z.apiKey,appId:z.appId,senderId:z.messagingSenderId}}(P);this.firebaseDependencies={app:P,appConfig:We,installations:z,analyticsProvider:de}}_delete(){return Promise.resolve()}}function xs(O){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,Z.Z)(function*(O){var P;try{O.swRegistration=yield navigator.serviceWorker.register($s,{scope:ma}),O.swRegistration.update().catch(()=>{})}catch(z){throw Jr.create("failed-service-worker-registration",{browserErrorMessage:null===(P=z)||void 0===P?void 0:P.message})}})).apply(this,arguments)}function Aa(O,P){return uo.apply(this,arguments)}function uo(){return(uo=(0,Z.Z)(function*(O,P){if(!P&&!O.swRegistration&&(yield xs(O)),P||!O.swRegistration){if(!(P instanceof ServiceWorkerRegistration))throw Jr.create("invalid-sw-registration");O.swRegistration=P}})).apply(this,arguments)}function ms(O,P){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,Z.Z)(function*(O,P){P?O.vapidKey=P:O.vapidKey||(O.vapidKey=Gi)})).apply(this,arguments)}function Qs(){return(Qs=(0,Z.Z)(function*(O,P){if(!navigator)throw Jr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Jr.create("permission-blocked");return yield ms(O,P?.vapidKey),yield Aa(O,P?.serviceWorkerRegistration),Co(O)})).apply(this,arguments)}function co(O,P,z){return xa.apply(this,arguments)}function xa(){return(xa=(0,Z.Z)(function*(O,P,z){const de=To(P);(yield O.firebaseDependencies.analyticsProvider.get()).logEvent(de,{message_id:z[hs],message_name:z[ci],message_time:z[Ys],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function To(O){switch(O){case ti.NOTIFICATION_CLICKED:return"notification_open";case ti.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function j(){return(j=(0,Z.Z)(function*(O,P){const z=P.data;if(!z.isFirebaseMessaging)return;O.onMessageHandler&&z.messageType===ti.PUSH_RECEIVED&&("function"==typeof O.onMessageHandler?O.onMessageHandler(je(z)):O.onMessageHandler.next(je(z)));const de=z.data;Wn(de)&&"1"===de[br]&&(yield co(O,z.messageType,de))})).apply(this,arguments)}const k="@firebase/messaging",X="0.11.0",Oe=O=>{const P=new fi(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),O.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",z=>function M(O,P){return j.apply(this,arguments)}(P,z)),P},mt=O=>{const P=O.getProvider("messaging").getImmediate();return{getToken:de=>function Jo(O,P){return Qs.apply(this,arguments)}(P,de)}};function Ht(){return xn.apply(this,arguments)}function xn(){return(xn=(0,Z.Z)(function*(){try{yield(0,Se.eu)()}catch{return!1}return typeof window<"u"&&(0,Se.hl)()&&(0,Se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function At(){(0,Pe.Xd)(new re.wA("messaging",Oe,"PUBLIC")),(0,Pe.Xd)(new re.wA("messaging-internal",mt,"PRIVATE")),(0,Pe.KN)(k,X),(0,Pe.KN)(k,X,"esm2017")}();const ns="analytics",ws="firebase_id",Ma="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wr="https://www.googletagmanager.com/gtag/js",Vr=new W.Yd("@firebase/analytics");function Js(O){return Promise.all(O.map(P=>P.catch(z=>z)))}function So(O,P){const z=document.createElement("script");z.src=`${Wr}?l=${O}&id=${P}`,z.async=!0,document.head.appendChild(z)}function Lt(O,P,z,de,We,pt){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,Z.Z)(function*(O,P,z,de,We,pt){const Pt=de[We];try{if(Pt)yield P[Pt];else{const Rn=(yield Js(z)).find(sr=>sr.measurementId===We);Rn&&(yield P[Rn.appId])}}catch(rn){Vr.error(rn)}O("config",We,pt)})).apply(this,arguments)}function na(O,P,z,de,We){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,Z.Z)(function*(O,P,z,de,We){try{let pt=[];if(We&&We.send_to){let Pt=We.send_to;Array.isArray(Pt)||(Pt=[Pt]);const rn=yield Js(z);for(const Rn of Pt){const sr=rn.find(Gn=>Gn.measurementId===Rn),Qn=sr&&P[sr.appId];if(!Qn){pt=[];break}pt.push(Qn)}}0===pt.length&&(pt=Object.values(P)),yield Promise.all(pt),O("event",de,We||{})}catch(pt){Vr.error(pt)}})).apply(this,arguments)}function Hu(O){const P=window.document.getElementsByTagName("script");for(const z of Object.values(P))if(z.src&&z.src.includes(Wr)&&z.src.includes(O))return z;return null}const ct=new Se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Gu=new class ra{constructor(P={},z=1e3){this.throttleMetadata=P,this.intervalMillis=z}getThrottleMetadata(P){return this.throttleMetadata[P]}setThrottleMetadata(P,z){this.throttleMetadata[P]=z}deleteThrottleMetadata(P){delete this.throttleMetadata[P]}};function va(O){return new Headers({Accept:"application/json","x-goog-api-key":O})}function Oa(O){return ia.apply(this,arguments)}function ia(){return(ia=(0,Z.Z)(function*(O){var P;const{appId:z,apiKey:de}=O,We={method:"GET",headers:va(de)},pt=Ma.replace("{app-id}",z),Pt=yield fetch(pt,We);if(200!==Pt.status&&304!==Pt.status){let rn="";try{const Rn=yield Pt.json();null!==(P=Rn.error)&&void 0!==P&&P.message&&(rn=Rn.error.message)}catch{}throw ct.create("config-fetch-failed",{httpStatus:Pt.status,responseMessage:rn})}return Pt.json()})).apply(this,arguments)}function Tc(O){return ka.apply(this,arguments)}function ka(){return(ka=(0,Z.Z)(function*(O,P=Gu,z){const{appId:de,apiKey:We,measurementId:pt}=O.options;if(!de)throw ct.create("no-app-id");if(!We){if(pt)return{measurementId:pt,appId:de};throw ct.create("no-api-key")}const Pt=P.getThrottleMetadata(de)||{backoffCount:0,throttleEndTimeMillis:Date.now()},rn=new Bn;return setTimeout((0,Z.Z)(function*(){rn.abort()}),void 0!==z?z:6e4),Pa({appId:de,apiKey:We,measurementId:pt},Pt,rn,P)})).apply(this,arguments)}function Pa(O,P,z){return Au.apply(this,arguments)}function Au(){return(Au=(0,Z.Z)(function*(O,{throttleEndTimeMillis:P,backoffCount:z},de,We=Gu){var pt,Pt;const{appId:rn,measurementId:Rn}=O;try{yield Br(de,P)}catch(sr){if(Rn)return Vr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Rn} provided in the "measurementId" field in the local Firebase config. [${null===(pt=sr)||void 0===pt?void 0:pt.message}]`),{appId:rn,measurementId:Rn};throw sr}try{const sr=yield Oa(O);return We.deleteThrottleMetadata(rn),sr}catch(sr){const Qn=sr;if(!xu(Qn)){if(We.deleteThrottleMetadata(rn),Rn)return Vr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Rn} provided in the "measurementId" field in the local Firebase config. [${Qn?.message}]`),{appId:rn,measurementId:Rn};throw sr}const Gn=503===Number(null===(Pt=Qn?.customData)||void 0===Pt?void 0:Pt.httpStatus)?(0,Se.$s)(z,We.intervalMillis,30):(0,Se.$s)(z,We.intervalMillis),Vi={throttleEndTimeMillis:Date.now()+Gn,backoffCount:z+1};return We.setThrottleMetadata(rn,Vi),Vr.debug(`Calling attemptFetch again in ${Gn} millis`),Pa(O,Vi,de,We)}})).apply(this,arguments)}function Br(O,P){return new Promise((z,de)=>{const We=Math.max(P-Date.now(),0),pt=setTimeout(z,We);O.addEventListener(()=>{clearTimeout(pt),de(ct.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}function xu(O){if(!(O instanceof Se.ZR&&O.customData))return!1;const P=Number(O.customData.httpStatus);return 429===P||500===P||503===P||504===P}class Bn{constructor(){this.listeners=[]}addEventListener(P){this.listeners.push(P)}abort(){this.listeners.forEach(P=>P())}}let ho,ys;function Pr(){return(Pr=(0,Z.Z)(function*(O,P,z,de,We){if(We&&We.global)O("event",z,de);else{const pt=yield P;O("event",z,Object.assign(Object.assign({},de),{send_to:pt}))}})).apply(this,arguments)}function za(O){ys=O}function fo(O){ho=O}function uu(){return vs.apply(this,arguments)}function vs(){return(vs=(0,Z.Z)(function*(){var O;if(!(0,Se.hl)())return Vr.warn(ct.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Se.eu)()}catch(P){return Vr.warn(ct.create("indexeddb-unavailable",{errorInfo:null===(O=P)||void 0===O?void 0:O.toString()}).message),!1}return!0})).apply(this,arguments)}function _a(){return(_a=(0,Z.Z)(function*(O,P,z,de,We,pt,Pt){var rn;const Rn=Tc(O);Rn.then(Ds=>{z[Ds.measurementId]=Ds.appId,O.options.measurementId&&Ds.measurementId!==O.options.measurementId&&Vr.warn(`The measurement ID in the local Firebase config (${O.options.measurementId}) does not match the measurement ID fetched from the server (${Ds.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ds=>Vr.error(Ds)),P.push(Rn);const sr=uu().then(Ds=>{if(Ds)return de.getId()}),[Qn,Gn]=yield Promise.all([Rn,sr]);Hu(pt)||So(pt,Qn.measurementId),ys&&(We("consent","default",ys),za(void 0)),We("js",new Date);const Vi=null!==(rn=Pt?.config)&&void 0!==rn?rn:{};return Vi.origin="firebase",Vi.update=!0,null!=Gn&&(Vi[ws]=Gn),We("config",Qn.measurementId,Vi),ho&&(We("set",ho),fo(void 0)),Qn.measurementId})).apply(this,arguments)}class _s{constructor(P){this.app=P}_delete(){return delete po[this.app.options.appId],Promise.resolve()}}let po={},Wa=[];const Uo={};let ot,Rs,Zi="dataLayer",rs=!1;function jo(O,P,z){!function qa(){const O=[];if((0,Se.ru)()&&O.push("This is a browser extension environment."),(0,Se.zI)()||O.push("Cookies are not available."),O.length>0){const P=O.map((de,We)=>`(${We+1}) ${de}`).join(" "),z=ct.create("invalid-analytics-context",{errorInfo:P});Vr.warn(z.message)}}();const de=O.options.appId;if(!de)throw ct.create("no-app-id");if(!O.options.apiKey){if(!O.options.measurementId)throw ct.create("no-api-key");Vr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${O.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=po[de])throw ct.create("already-exists",{id:de});if(!rs){!function ya(O){let P=[];Array.isArray(window[O])?P=window[O]:window[O]=P}(Zi);const{wrappedGtag:pt,gtagCore:Pt}=function Mn(O,P,z,de,We){let pt=function(...Pt){window[de].push(arguments)};return window[We]&&"function"==typeof window[We]&&(pt=window[We]),window[We]=function mn(O,P,z,de){function pt(){return(pt=(0,Z.Z)(function*(Pt,rn,Rn){try{"event"===Pt?yield na(O,P,z,rn,Rn):"config"===Pt?yield Lt(O,P,z,de,rn,Rn):"consent"===Pt?O("consent","update",Rn):O("set",rn)}catch(sr){Vr.error(sr)}})).apply(this,arguments)}return function We(Pt,rn,Rn){return pt.apply(this,arguments)}}(pt,O,P,z),{gtagCore:pt,wrappedGtag:window[We]}}(po,Wa,Uo,Zi,"gtag");Rs=pt,ot=Pt,rs=!0}return po[de]=function Mu(O,P,z,de,We,pt,Pt){return _a.apply(this,arguments)}(O,Wa,Uo,P,ot,Zi,z),new _s(O)}function zu(){return Na.apply(this,arguments)}function Na(){return(Na=(0,Z.Z)(function*(){if((0,Se.ru)()||!(0,Se.zI)()||!(0,Se.hl)())return!1;try{return yield(0,Se.eu)()}catch{return!1}})).apply(this,arguments)}const ii="@firebase/analytics";!function Ar(){(0,Pe.Xd)(new re.wA(ns,(P,{options:z})=>jo(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),z),"PUBLIC")),(0,Pe.Xd)(new re.wA("analytics-internal",function O(P){try{const z=P.getProvider(ns).getImmediate();return{logEvent:(de,We,pt)=>function Wu(O,P,z,de){O=(0,Se.m9)(O),function sa(O,P,z,de,We){return Pr.apply(this,arguments)}(Rs,po[O.app.options.appId],P,z,de).catch(We=>Vr.error(We))}(z,de,We,pt)}}catch(z){throw ct.create("interop-component-reg-failed",{reason:z})}},"PRIVATE")),(0,Pe.KN)(ii,"0.8.4"),(0,Pe.KN)(ii,"0.8.4","esm2017")}();var Ya=B(452),Fr=B(4426);const Di=new class go extends Fr.v{}(class ua extends Ya.o{constructor(P,z){super(P,z),this.scheduler=P,this.work=z}schedule(P,z=0){return z>0?super.schedule(P,z):(this.delay=z,this.state=P,this.scheduler.flush(this),this)}execute(P,z){return z>0||this.closed?super.execute(P,z):this._execute(P,z)}requestAsyncId(P,z,de=0){return null!==de&&de>0||null===de&&this.delay>0?super.requestAsyncId(P,z,de):P.flush(this)}});var $i=B(3094),Lr=B(96),Ho=B(2045);let du=1;const Ka=Promise.resolve(),Go={};function Mo(O){return O in Go&&(delete Go[O],!0)}const bi={setImmediate(O){const P=du++;return Go[P]=!0,Ka.then(()=>Mo(P)&&O()),P},clearImmediate(O){Mo(O)}},Oo=new class qu extends Fr.v{flush(P){this.active=!0,this.scheduled=void 0;const{actions:z}=this;let de,We=-1,pt=z.length;P=P||z.shift();do{if(de=P.execute(P.state,P.delay))break}while(++We<pt&&(P=z.shift()));if(this.active=!1,de){for(;++We<pt&&(P=z.shift());)P.unsubscribe();throw de}}}(class to extends Ya.o{constructor(P,z){super(P,z),this.scheduler=P,this.work=z}requestAsyncId(P,z,de=0){return null!==de&&de>0?super.requestAsyncId(P,z,de):(P.actions.push(this),P.scheduled||(P.scheduled=bi.setImmediate(P.flush.bind(P,null))))}recycleAsyncId(P,z,de=0){if(null!==de&&de>0||null===de&&this.delay>0)return super.recycleAsyncId(P,z,de);0===P.actions.length&&(bi.clearImmediate(z),P.scheduled=void 0)}});var Fa=B(1092);class yo extends Lr.y{constructor(P,z=0,de=Oo){super(),this.source=P,this.delayTime=z,this.scheduler=de,(!function mo(O){return!(0,Fa.k)(O)&&O-parseFloat(O)+1>=0}(z)||z<0)&&(this.delayTime=0),(!de||"function"!=typeof de.schedule)&&(this.scheduler=Oo)}static create(P,z=0,de=Oo){return new yo(P,z,de)}static dispatch(P){const{source:z,subscriber:de}=P;return this.add(z.subscribe(de))}_subscribe(P){return this.scheduler.schedule(yo.dispatch,this.delayTime,{source:this.source,subscriber:P})}}function zo(O,P=0){return function(de){return de.lift(new Za(O,P))}}class Za{constructor(P,z){this.scheduler=P,this.delay=z}call(P,z){return new yo(z,this.delay,this.scheduler).subscribe(P)}}var ca=B(1680),vo=B(147);function ko(O,P=0){return function(de){return de.lift(new la(O,P))}}class la{constructor(P,z=0){this.scheduler=P,this.delay=z}call(P,z){return z.subscribe(new ks(P,this.scheduler,this.delay))}}class ks extends ca.L{constructor(P,z,de=0){super(P),this.scheduler=z,this.delay=de}static dispatch(P){const{notification:z,destination:de}=P;z.observe(de),this.unsubscribe()}scheduleMessage(P){this.destination.add(this.scheduler.schedule(ks.dispatch,this.delay,new Ea(P,this.destination)))}_next(P){this.scheduleMessage(vo.P.createNext(P))}_error(P){this.scheduleMessage(vo.P.createError(P)),this.unsubscribe()}_complete(){this.scheduleMessage(vo.P.createComplete()),this.unsubscribe()}}class Ea{constructor(P,z){this.notification=P,this.destination=z}}const Ru=new u.GfV("7.4.1"),da="__angularfire_symbol__analyticsIsSupportedValue",w="__angularfire_symbol__analyticsIsSupported",E="__angularfire_symbol__remoteConfigIsSupportedValue",y="__angularfire_symbol__remoteConfigIsSupported",x="__angularfire_symbol__messagingIsSupportedValue",F="__angularfire_symbol__messagingIsSupported";function Xt(O,P,z){if(P){if(1===P.length)return P[0];const pt=P.filter(Pt=>Pt.app===z);if(1===pt.length)return pt[0]}return z.container.getProvider(O).getImmediate({optional:!0})}globalThis[w]||(globalThis[w]=zu().then(O=>globalThis[da]=O).catch(()=>globalThis[da]=!1)),globalThis[F]||(globalThis[F]=Ht().then(O=>globalThis[x]=O).catch(()=>globalThis[x]=!1)),globalThis[y]||(globalThis[y]=Hi().then(O=>globalThis[E]=O).catch(()=>globalThis[E]=!1));const ir=(O,P)=>{const z=P?[P]:(0,J.C6)(),de=[];return z.forEach(We=>{We.container.getProvider(O).instances.forEach(Pt=>{de.includes(Pt)||de.push(Pt)})}),de};function Jt(){}class $r{constructor(P,z=Di){this.zone=P,this.delegate=z}now(){return this.delegate.now()}schedule(P,z,de){const We=this.zone;return this.delegate.schedule(function(Pt){We.runGuarded(()=>{P.apply(this,[Pt])})},z,de)}}class Ri{constructor(P){this.zone=P,this.task=null}call(P,z){const de=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jt,{},Jt,Jt)),z.pipe((0,Ho.b)({next:de,complete:de,error:de})).subscribe(P).add(de)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Wi=(()=>{class O{constructor(z){this.ngZone=z,this.outsideAngular=z.runOutsideAngular(()=>new $r(Zone.current)),this.insideAngular=z.run(()=>new $r(Zone.current,$i.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return O.\u0275fac=function(z){return new(z||O)(u.LFG(u.R0b))},O.\u0275prov=u.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function is(){const O=globalThis.\u0275AngularFireScheduler;if(!O)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return O}function qi(O){return is().ngZone.runOutsideAngular(()=>O())}function _o(O){return is().ngZone.run(()=>O())}function Xa(O){return is(),function Sc(O){return function(z){return(z=z.lift(new Ri(O.ngZone))).pipe(zo(O.outsideAngular),ko(O.insideAngular))}}(is())(O)}const Ac=(O,P)=>function(){const de=arguments;return P&&setTimeout(()=>{"scheduled"===P.state&&P.invoke()},10),_o(()=>O.apply(void 0,de))},xc=(O,P)=>function(){let z;const de=arguments;for(let pt=0;pt<arguments.length;pt++)"function"==typeof de[pt]&&(P&&(z||(z=_o(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jt,{},Jt,Jt)))),de[pt]=Ac(de[pt],z));const We=qi(()=>O.apply(this,de));if(!P){if(We instanceof Lr.y){const pt=is();return We.pipe(zo(pt.outsideAngular),ko(pt.insideAngular))}return _o(()=>We)}return We instanceof Lr.y?We.pipe(Xa):We instanceof Promise?_o(()=>new Promise((pt,Pt)=>We.then(rn=>_o(()=>pt(rn)),rn=>_o(()=>Pt(rn))))):"function"==typeof We&&z?function(){return setTimeout(()=>{z&&"scheduled"===z.state&&z.invoke()},10),We.apply(this,arguments)}:_o(()=>We)}},9330:(en,st,B)=>{"use strict";B.d(st,{$s:()=>Gt,BH:()=>Ee,G6:()=>Ot,L:()=>we,LL:()=>Ve,P0:()=>tt,Pz:()=>nt,Sg:()=>He,US:()=>re,ZR:()=>Be,aH:()=>wt,b$:()=>be,eu:()=>Ye,hl:()=>Ke,m9:()=>an,ne:()=>_r,q4:()=>Xe,ru:()=>$e,tV:()=>fe,uI:()=>pe,vZ:()=>bt,w1:()=>rt,xO:()=>on,xb:()=>Ct,z$:()=>ae,zI:()=>Me});const Pe=function(Ce){const Ie=[];let Te=0;for(let lt=0;lt<Ce.length;lt++){let et=Ce.charCodeAt(lt);et<128?Ie[Te++]=et:et<2048?(Ie[Te++]=et>>6|192,Ie[Te++]=63&et|128):55296==(64512&et)&&lt+1<Ce.length&&56320==(64512&Ce.charCodeAt(lt+1))?(et=65536+((1023&et)<<10)+(1023&Ce.charCodeAt(++lt)),Ie[Te++]=et>>18|240,Ie[Te++]=et>>12&63|128,Ie[Te++]=et>>6&63|128,Ie[Te++]=63&et|128):(Ie[Te++]=et>>12|224,Ie[Te++]=et>>6&63|128,Ie[Te++]=63&et|128)}return Ie},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ce,Ie){if(!Array.isArray(Ce))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Te=Ie?this.byteToCharMapWebSafe_:this.byteToCharMap_,lt=[];for(let et=0;et<Ce.length;et+=3){const Qt=Ce[et],Dn=et+1<Ce.length,nn=Dn?Ce[et+1]:0,Zn=et+2<Ce.length,Kn=Zn?Ce[et+2]:0;let me=(15&nn)<<2|Kn>>6,_e=63&Kn;Zn||(_e=64,Dn||(me=64)),lt.push(Te[Qt>>2],Te[(3&Qt)<<4|nn>>4],Te[me],Te[_e])}return lt.join("")},encodeString(Ce,Ie){return this.HAS_NATIVE_SUPPORT&&!Ie?btoa(Ce):this.encodeByteArray(Pe(Ce),Ie)},decodeString(Ce,Ie){return this.HAS_NATIVE_SUPPORT&&!Ie?atob(Ce):function(Ce){const Ie=[];let Te=0,lt=0;for(;Te<Ce.length;){const et=Ce[Te++];if(et<128)Ie[lt++]=String.fromCharCode(et);else if(et>191&&et<224){const Qt=Ce[Te++];Ie[lt++]=String.fromCharCode((31&et)<<6|63&Qt)}else if(et>239&&et<365){const Zn=((7&et)<<18|(63&Ce[Te++])<<12|(63&Ce[Te++])<<6|63&Ce[Te++])-65536;Ie[lt++]=String.fromCharCode(55296+(Zn>>10)),Ie[lt++]=String.fromCharCode(56320+(1023&Zn))}else{const Qt=Ce[Te++],Dn=Ce[Te++];Ie[lt++]=String.fromCharCode((15&et)<<12|(63&Qt)<<6|63&Dn)}}return Ie.join("")}(this.decodeStringToByteArray(Ce,Ie))},decodeStringToByteArray(Ce,Ie){this.init_();const Te=Ie?this.charToByteMapWebSafe_:this.charToByteMap_,lt=[];for(let et=0;et<Ce.length;){const Qt=Te[Ce.charAt(et++)],nn=et<Ce.length?Te[Ce.charAt(et)]:0;++et;const Kn=et<Ce.length?Te[Ce.charAt(et)]:64;++et;const De=et<Ce.length?Te[Ce.charAt(et)]:64;if(++et,null==Qt||null==nn||null==Kn||null==De)throw Error();lt.push(Qt<<2|nn>>4),64!==Kn&&(lt.push(nn<<4&240|Kn>>2),64!==De&&lt.push(Kn<<6&192|De))}return lt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ce=0;Ce<this.ENCODED_VALS.length;Ce++)this.byteToCharMap_[Ce]=this.ENCODED_VALS.charAt(Ce),this.charToByteMap_[this.byteToCharMap_[Ce]]=Ce,this.byteToCharMapWebSafe_[Ce]=this.ENCODED_VALS_WEBSAFE.charAt(Ce),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ce]]=Ce,Ce>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ce)]=Ce,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ce)]=Ce)}}},we=function(Ce){return function(Ce){const Ie=Pe(Ce);return re.encodeByteArray(Ie,!0)}(Ce).replace(/\./g,"")},fe=function(Ce){try{return re.decodeString(Ce,!0)}catch(Ie){console.error("base64Decode failed: ",Ie)}return null};function ae(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ae())}function $e(){const Ce="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ce&&void 0!==Ce.id}function be(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function rt(){const Ce=ae();return Ce.indexOf("MSIE ")>=0||Ce.indexOf("Trident/")>=0}function Ot(){return!function Fe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ke(){return"object"==typeof indexedDB}function Ye(){return new Promise((Ce,Ie)=>{try{let Te=!0;const lt="validate-browser-context-for-indexeddb-analytics-module",et=self.indexedDB.open(lt);et.onsuccess=()=>{et.result.close(),Te||self.indexedDB.deleteDatabase(lt),Ce(!0)},et.onupgradeneeded=()=>{Te=!1},et.onerror=()=>{var Qt;Ie((null===(Qt=et.error)||void 0===Qt?void 0:Qt.message)||"")}}catch(Te){Ie(Te)}})}function Me(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const le=()=>{try{return function Ge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ce=process.env.__FIREBASE_DEFAULTS__;return Ce?JSON.parse(Ce):void 0})()||(()=>{if(typeof document>"u")return;let Ce;try{Ce=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Ie=Ce&&fe(Ce[1]);return Ie&&JSON.parse(Ie)})()}catch(Ce){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ce}`)}},Xe=Ce=>{var Ie,Te;return null===(Te=null===(Ie=le())||void 0===Ie?void 0:Ie.emulatorHosts)||void 0===Te?void 0:Te[Ce]},tt=Ce=>{const Ie=Xe(Ce);if(!Ie)return;const Te=Ie.lastIndexOf(":");if(Te<=0||Te+1===Ie.length)throw new Error(`Invalid host ${Ie} with no separate hostname and port!`);const lt=parseInt(Ie.substring(Te+1),10);return"["===Ie[0]?[Ie.substring(1,Te-1),lt]:[Ie.substring(0,Te),lt]},wt=()=>{var Ce;return null===(Ce=le())||void 0===Ce?void 0:Ce.config},nt=Ce=>{var Ie;return null===(Ie=le())||void 0===Ie?void 0:Ie[`_${Ce}`]};class Ee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ie,Te)=>{this.resolve=Ie,this.reject=Te})}wrapCallback(Ie){return(Te,lt)=>{Te?this.reject(Te):this.resolve(lt),"function"==typeof Ie&&(this.promise.catch(()=>{}),1===Ie.length?Ie(Te):Ie(Te,lt))}}}function He(Ce,Ie){if(Ce.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const lt=Ie||"demo-project",et=Ce.iat||0,Qt=Ce.sub||Ce.user_id;if(!Qt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Dn=Object.assign({iss:`https://securetoken.google.com/${lt}`,aud:lt,iat:et,exp:et+3600,auth_time:et,sub:Qt,user_id:Qt,firebase:{sign_in_provider:"custom",identities:{}}},Ce);return[we(JSON.stringify({alg:"none",type:"JWT"})),we(JSON.stringify(Dn)),""].join(".")}class Be extends Error{constructor(Ie,Te,lt){super(Te),this.code=Ie,this.customData=lt,this.name="FirebaseError",Object.setPrototypeOf(this,Be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ve.prototype.create)}}class Ve{constructor(Ie,Te,lt){this.service=Ie,this.serviceName=Te,this.errors=lt}create(Ie,...Te){const lt=Te[0]||{},et=`${this.service}/${Ie}`,Qt=this.errors[Ie],Dn=Qt?function It(Ce,Ie){return Ce.replace(Ut,(Te,lt)=>{const et=Ie[lt];return null!=et?String(et):`<${lt}?>`})}(Qt,lt):"Error";return new Be(et,`${this.serviceName}: ${Dn} (${et}).`,lt)}}const Ut=/\{\$([^}]+)}/g;function Ct(Ce){for(const Ie in Ce)if(Object.prototype.hasOwnProperty.call(Ce,Ie))return!1;return!0}function bt(Ce,Ie){if(Ce===Ie)return!0;const Te=Object.keys(Ce),lt=Object.keys(Ie);for(const et of Te){if(!lt.includes(et))return!1;const Qt=Ce[et],Dn=Ie[et];if(sn(Qt)&&sn(Dn)){if(!bt(Qt,Dn))return!1}else if(Qt!==Dn)return!1}for(const et of lt)if(!Te.includes(et))return!1;return!0}function sn(Ce){return null!==Ce&&"object"==typeof Ce}function on(Ce){const Ie=[];for(const[Te,lt]of Object.entries(Ce))Array.isArray(lt)?lt.forEach(et=>{Ie.push(encodeURIComponent(Te)+"="+encodeURIComponent(et))}):Ie.push(encodeURIComponent(Te)+"="+encodeURIComponent(lt));return Ie.length?"&"+Ie.join("&"):""}function _r(Ce,Ie){const Te=new qn(Ce,Ie);return Te.subscribe.bind(Te)}class qn{constructor(Ie,Te){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Te,this.task.then(()=>{Ie(this)}).catch(lt=>{this.error(lt)})}next(Ie){this.forEachObserver(Te=>{Te.next(Ie)})}error(Ie){this.forEachObserver(Te=>{Te.error(Ie)}),this.close(Ie)}complete(){this.forEachObserver(Ie=>{Ie.complete()}),this.close()}subscribe(Ie,Te,lt){let et;if(void 0===Ie&&void 0===Te&&void 0===lt)throw new Error("Missing Observer.");et=function tn(Ce,Ie){if("object"!=typeof Ce||null===Ce)return!1;for(const Te of Ie)if(Te in Ce&&"function"==typeof Ce[Te])return!0;return!1}(Ie,["next","error","complete"])?Ie:{next:Ie,error:Te,complete:lt},void 0===et.next&&(et.next=Rr),void 0===et.error&&(et.error=Rr),void 0===et.complete&&(et.complete=Rr);const Qt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?et.error(this.finalError):et.complete()}catch{}}),this.observers.push(et),Qt}unsubscribeOne(Ie){void 0===this.observers||void 0===this.observers[Ie]||(delete this.observers[Ie],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ie){if(!this.finalized)for(let Te=0;Te<this.observers.length;Te++)this.sendOne(Te,Ie)}sendOne(Ie,Te){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ie])try{Te(this.observers[Ie])}catch(lt){typeof console<"u"&&console.error&&console.error(lt)}})}close(Ie){this.finalized||(this.finalized=!0,void 0!==Ie&&(this.finalError=Ie),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rr(){}function Gt(Ce,Ie=1e3,Te=2){const lt=Ie*Math.pow(Te,Ce),et=Math.round(.5*lt*(Math.random()-.5)*2);return Math.min(144e5,lt+et)}function an(Ce){return Ce&&Ce._delegate?Ce._delegate:Ce}},8413:(en,st,B)=>{"use strict";B.d(st,{We:()=>Mr,eh:()=>Un,dr:()=>_r,yp:()=>Rr,YG:()=>En,Sm:()=>fr,PM:()=>hn,tO:()=>Nn,W2:()=>Gt,Gu:()=>et,pK:()=>Kn,Ie:()=>Ze,u8:()=>_e,IK:()=>Je,td:()=>zt,Q$:()=>un,q_:()=>or,ki:()=>Ji,X7:()=>cr,Nh:()=>Xr,oz:()=>qr,jP:()=>ri,t9:()=>N,n0:()=>U,yq:()=>Le,ZU:()=>ft,UN:()=>Vs,wd:()=>gn,sr:()=>yr,Pc:()=>Es,r4:()=>ts,SH:()=>ni,QI:()=>Ct,j9:()=>Mt});var u=B(3363),J=B(5768),Z=B(4254),Pe=B(4918),Se=B(6810),re=B(6308),W=B(4206),ye=(B(5795),B(2042),B(4437),B(9570),B(4573)),ae=B(2921),pe=B(94),Ne=(B(8345),B(178)),ht=(B(5103),B(9273),B(8650)),Ye=B(2330),Me=B(8959),Ge=B(1680);class ce{constructor(L,v){this.compare=L,this.keySelector=v}call(L,v){return v.subscribe(new ee(L,this.compare,this.keySelector))}}class ee extends Ge.L{constructor(L,v,p){super(L),this.keySelector=p,this.hasKey=!1,"function"==typeof v&&(this.compare=v)}compare(L,v){return L===v}_next(L){let v;try{const{keySelector:b}=this;v=b?b(L):L}catch(b){return this.destination.error(b)}let p=!1;if(this.hasKey)try{const{compare:b}=this;p=b(this.key,v)}catch(b){return this.destination.error(b)}else this.hasKey=!0;p||(this.key=v,this.destination.next(L))}}var le=B(1320);const tt=ye.i,Ee=["*"],He=["outlet"],ze=[[["","slot","top"]],"*"],Be=["[slot=top]","*"];function Ve(_,L){if(1&_&&(u.TgZ(0,"div",1),u.GkF(1,2),u.qZA()),2&_){const v=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",v.template)}}const Ut=_=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(_):"function"==typeof requestAnimationFrame?requestAnimationFrame(_):setTimeout(_),$t=_=>!!_.resolveComponentFactory;let yt=(()=>{class _{constructor(v,p){this.injector=v,this.el=p,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(v){this.el.nativeElement.value=this.lastValue=v??"",_n(this.el)}handleChangeEvent(v,p){v===this.el.nativeElement&&(p!==this.lastValue&&(this.lastValue=p,this.onChange(p)),_n(this.el))}_handleBlurEvent(v){v===this.el.nativeElement&&(this.onTouched(),_n(this.el))}registerOnChange(v){this.onChange=v}registerOnTouched(v){this.onTouched=v}setDisabledState(v){this.el.nativeElement.disabled=v}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let v;try{v=this.injector.get(J.a5)}catch{}if(!v)return;v.statusChanges&&(this.statusChanges=v.statusChanges.subscribe(()=>_n(this.el)));const p=v.control;p&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(D=>{if(typeof p[D]<"u"){const G=p[D].bind(p);p[D]=(...je)=>{G(...je),_n(this.el)}}})}}return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.zs3),u.Y36(u.SBq))},_.\u0275dir=u.lG2({type:_,hostBindings:function(v,p){1&v&&u.NdJ("ionBlur",function(D){return p._handleBlurEvent(D.target)})}}),_})();const _n=_=>{Ut(()=>{const L=_.nativeElement,v=null!=L.value&&L.value.toString().length>0,p=yn(L);dn(L,p);const b=L.closest("ion-item");b&&dn(b,v?[...p,"item-has-value"]:p)})},yn=_=>{const L=_.classList,v=[];for(let p=0;p<L.length;p++){const b=L.item(p);null!==b&&fn(b,"ng-")&&v.push(`ion-${b.substring(3)}`)}return v},dn=(_,L)=>{const v=_.classList;v.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),v.add(...L)},fn=(_,L)=>_.substring(0,L.length)===L;let Ct=(()=>{class _ extends yt{constructor(v,p){super(v,p)}_handleChangeEvent(v){this.handleChangeEvent(v,v.value)}}return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.zs3),u.Y36(u.SBq))},_.\u0275dir=u.lG2({type:_,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(v,p){1&v&&u.NdJ("ionChange",function(D){return p._handleChangeEvent(D.target)})},features:[u._Bn([{provide:J.JU,useExisting:_,multi:!0}]),u.qOj]}),_})(),Mt=(()=>{class _ extends yt{constructor(v,p){super(v,p)}_handleInputEvent(v){this.handleChangeEvent(v,v.value)}}return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.zs3),u.Y36(u.SBq))},_.\u0275dir=u.lG2({type:_,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(v,p){1&v&&u.NdJ("ionChange",function(D){return p._handleInputEvent(D.target)})},features:[u._Bn([{provide:J.JU,useExisting:_,multi:!0}]),u.qOj]}),_})();const bt=(_,L)=>{const v=_.prototype;L.forEach(p=>{Object.defineProperty(v,p,{get(){return this.el[p]},set(b){this.z.runOutsideAngular(()=>this.el[p]=b)}})})},sn=(_,L)=>{const v=_.prototype;L.forEach(p=>{v[p]=function(){const b=arguments;return this.z.runOutsideAngular(()=>this.el[p].apply(this.el,b))}})},Bt=(_,L,v)=>{v.forEach(p=>_[p]=(0,Pe.R)(L,p))};function gt(_){return function(v){const{defineCustomElementFn:p,inputs:b,methods:D}=_;return void 0!==p&&p(),b&&bt(v,b),D&&sn(v,D),v}}let Mr=(()=>{let _=class{constructor(v,p,b){this.z=b,v.detach(),this.el=p.nativeElement}};return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:Ee,decls:1,vars:0,template:function(v,p){1&v&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,Z.gn)([gt({defineCustomElementFn:void 0,inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],_),_})(),Un=(()=>{let _=class{constructor(v,p,b){this.z=b,v.detach(),this.el=p.nativeElement,Bt(this,this.el,["ionChange"])}};return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:Ee,decls:1,vars:0,template:function(v,p){1&v&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,Z.gn)([gt({defineCustomElementFn:void 0,inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],_),_})(),_r=(()=>{let _=class{constructor(v,p,b){this.z=b,v.detach(),this.el=p.nativeElement}};return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ion-app"]],ngContentSelectors:Ee,decls:1,vars:0,template:function(v,p){1&v&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,Z.gn)([gt({defineCustomElementFn:void 0})],_),_})(),Rr=(()=>{let _=class{constructor(v,p,b){this.z=b,v.detach(),this.el=p.nativeElement}};return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ee,decls:1,vars:0,template:function(v,p){1&v&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,Z.gn)([gt({defineCustomElementFn:void 0,inputs:["color","mode"]})],_),_})(),En=(()=>{let _=class{constructor(v,p,b){this.z=b,v.detach(),this.el=p.nativeElement,Bt(this,this.el,["ionFocus","ionBlur"])}};return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ee,decls:1,vars:0,template:function(v,p){1&v&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,Z.gn)([gt({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],_),_})(),fr=(()=>{let _=class{constructor(v,p,b){this.z=b,v.detach(),this.el=p.nativeElement}};return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Ee,decls:1,vars:0,template:function(v,p){1&v&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,Z.gn)([gt({defineCustomElementFn:void 0,inputs:["collapse"]})],_),_})(),hn=(()=>{let _=class{constructor(v,p,b){this.z=b,v.detach(),this.el=p.nativeElement}};return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Ee,decls:1,vars:0,template:function(v,p){1&v&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,Z.gn)([gt({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],_),_})(),Nn=(()=>{let _=class{constructor(v,p,b){this.z=b,v.detach(),this.el=p.nativeElement}};return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ee,decls:1,vars:0,template:function(v,p){1&v&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,Z.gn)([gt({defineCustomElementFn:void 0,inputs:["color","mode"]})],_),_})(),Gt=(()=>{let _=class{constructor(v,p,b){this.z=b,v.detach(),this.el=p.nativeElement,Bt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ee,decls:1,vars:0,template:function(v,p){1&v&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,Z.gn)([gt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],_),_})(),et=(()=>{let _=class{constructor(v,p,b){this.z=b,v.detach(),this.el=p.nativeElement}};return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ee,decls:1,vars:0,template:function(v,p){1&v&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,Z.gn)([gt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],_),_})(),Kn=(()=>{let _=class{constructor(v,p,b){this.z=b,v.detach(),this.el=p.nativeElement,Bt(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Ee,decls:1,vars:0,template:function(v,p){1&v&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,Z.gn)([gt({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],_),_})(),Ze=(()=>{let _=class{constructor(v,p,b){this.z=b,v.detach(),this.el=p.nativeElement}};return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Ee,decls:1,vars:0,template:function(v,p){1&v&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,Z.gn)([gt({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],_),_})(),_e=(()=>{let _=class{constructor(v,p,b){this.z=b,v.detach(),this.el=p.nativeElement}};return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Ee,decls:1,vars:0,template:function(v,p){1&v&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,Z.gn)([gt({defineCustomElementFn:void 0,inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],_),_})(),Je=(()=>{let _=class{constructor(v,p,b){this.z=b,v.detach(),this.el=p.nativeElement,Bt(this,this.el,["ionSwipe"])}};return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Ee,decls:1,vars:0,template:function(v,p){1&v&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,Z.gn)([gt({defineCustomElementFn:void 0,inputs:["side"]})],_),_})(),zt=(()=>{let _=class{constructor(v,p,b){this.z=b,v.detach(),this.el=p.nativeElement,Bt(this,this.el,["ionDrag"])}};return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Ee,decls:1,vars:0,template:function(v,p){1&v&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,Z.gn)([gt({defineCustomElementFn:void 0,inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],_),_})(),un=(()=>{let _=class{constructor(v,p,b){this.z=b,v.detach(),this.el=p.nativeElement}};return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ee,decls:1,vars:0,template:function(v,p){1&v&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,Z.gn)([gt({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],_),_})(),or=(()=>{let _=class{constructor(v,p,b){this.z=b,v.detach(),this.el=p.nativeElement}};return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Ee,decls:1,vars:0,template:function(v,p){1&v&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,Z.gn)([gt({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],_),_})(),cr=(()=>{let _=class{constructor(v,p,b){this.z=b,v.detach(),this.el=p.nativeElement}};return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ion-progress-bar"]],inputs:{buffer:"buffer",color:"color",mode:"mode",reversed:"reversed",type:"type",value:"value"},ngContentSelectors:Ee,decls:1,vars:0,template:function(v,p){1&v&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,Z.gn)([gt({defineCustomElementFn:void 0,inputs:["buffer","color","mode","reversed","type","value"]})],_),_})(),Xr=(()=>{let _=class{constructor(v,p,b){this.z=b,v.detach(),this.el=p.nativeElement}};return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ion-reorder"]],ngContentSelectors:Ee,decls:1,vars:0,template:function(v,p){1&v&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,Z.gn)([gt({defineCustomElementFn:void 0})],_),_})(),qr=(()=>{let _=class{constructor(v,p,b){this.z=b,v.detach(),this.el=p.nativeElement,Bt(this,this.el,["ionItemReorder"])}};return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ion-reorder-group"]],inputs:{disabled:"disabled"},ngContentSelectors:Ee,decls:1,vars:0,template:function(v,p){1&v&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,Z.gn)([gt({defineCustomElementFn:void 0,inputs:["disabled"],methods:["complete"]})],_),_})(),N=(()=>{let _=class{constructor(v,p,b){this.z=b,v.detach(),this.el=p.nativeElement,Bt(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:Ee,decls:1,vars:0,template:function(v,p){1&v&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,Z.gn)([gt({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],_),_})(),U=(()=>{let _=class{constructor(v,p,b){this.z=b,v.detach(),this.el=p.nativeElement}};return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Ee,decls:1,vars:0,template:function(v,p){1&v&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,Z.gn)([gt({defineCustomElementFn:void 0,inputs:["disabled","value"]})],_),_})(),Le=(()=>{let _=class{constructor(v,p,b){this.z=b,v.detach(),this.el=p.nativeElement}};return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Ee,decls:1,vars:0,template:function(v,p){1&v&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,Z.gn)([gt({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],_),_})(),ft=(()=>{let _=class{constructor(v,p,b){this.z=b,v.detach(),this.el=p.nativeElement}};return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Ee,decls:1,vars:0,template:function(v,p){1&v&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,Z.gn)([gt({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],_),_})(),gn=(()=>{let _=class{constructor(v,p,b){this.z=b,v.detach(),this.el=p.nativeElement}};return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ee,decls:1,vars:0,template:function(v,p){1&v&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,Z.gn)([gt({defineCustomElementFn:void 0,inputs:["color","size"]})],_),_})(),yr=(()=>{let _=class{constructor(v,p,b){this.z=b,v.detach(),this.el=p.nativeElement}};return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ee,decls:1,vars:0,template:function(v,p){1&v&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,Z.gn)([gt({defineCustomElementFn:void 0,inputs:["color","mode"]})],_),_})();class ui{constructor(L={}){this.data=L}get(L){return this.data[L]}}let kr=(()=>{class _{constructor(v,p){this.zone=v,this.appRef=p}create(v,p,b){return new Qi(v,p,b,this.appRef,this.zone)}}return _.\u0275fac=function(v){return new(v||_)(u.LFG(u.R0b),u.LFG(u.z2F))},_.\u0275prov=u.Yz7({token:_,factory:_.\u0275fac}),_})();class Qi{constructor(L,v,p,b,D){this.resolverOrInjector=L,this.injector=v,this.location=p,this.appRef=b,this.zone=D,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(L,v,p,b){return this.zone.run(()=>new Promise(D=>{D(Pi(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,L,v,p,b))}))}removeViewFromDom(L,v){return this.zone.run(()=>new Promise(p=>{const b=this.elRefMap.get(v);if(b){b.destroy(),this.elRefMap.delete(v);const D=this.elEventsMap.get(v);D&&(D(),this.elEventsMap.delete(v))}p()}))}}const Pi=(_,L,v,p,b,D,G,je,Tt,Pn,Ln)=>{let Wn;const tr=u.zs3.create({providers:oo(Pn),parent:v});if(L&&$t(L)){const xs=L.resolveComponentFactory(Tt);Wn=p?p.createComponent(xs,p.length,tr):xs.create(tr)}else{if(!p)return null;Wn=p.createComponent(Tt,{index:p.indexOf,injector:tr,environmentInjector:L})}const Ei=Wn.instance,hi=Wn.location.nativeElement;if(Pn&&Object.assign(Ei,Pn),Ln)for(const xs of Ln)hi.classList.add(xs);const fi=so(_,Ei,hi);return je.appendChild(hi),p||b.attachView(Wn.hostView),Wn.changeDetectorRef.reattach(),D.set(hi,Wn),G.set(hi,fi),hi},ls=[pe.L,pe.a,pe.b,pe.c,pe.d],so=(_,L,v)=>_.run(()=>{const p=ls.filter(b=>"function"==typeof L[b]).map(b=>{const D=G=>L[b](G.detail);return v.addEventListener(b,D),()=>v.removeEventListener(b,D)});return()=>p.forEach(b=>b())}),Ii=new u.OlP("NavParamsToken"),oo=_=>[{provide:Ii,useValue:_},{provide:ui,useFactory:Ss,deps:[Ii]}],Ss=_=>new ui(_),As=(_,L)=>((_=_.filter(v=>v.stackId!==L.stackId)).push(L),_),ji=(_,L)=>{const v=_.createUrlTree(["."],{relativeTo:L});return _.serializeUrl(v)},Hi=(_,L)=>{if(!_)return;const v=Ti(L);for(let p=0;p<v.length;p++){if(p>=_.length)return v[p];if(v[p]!==_[p])return}},Ti=_=>_.split("/").map(L=>L.trim()).filter(L=>""!==L),$s=_=>{_&&(_.ref.destroy(),_.unlistenEvents())};class ma{constructor(L,v,p,b,D,G){this.containerEl=v,this.router=p,this.navCtrl=b,this.zone=D,this.location=G,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==L?Ti(L):void 0}createView(L,v){var p;const b=ji(this.router,v),D=null===(p=L?.location)||void 0===p?void 0:p.nativeElement,G=so(this.zone,L.instance,D);return{id:this.nextId++,stackId:Hi(this.tabsPrefix,b),unlistenEvents:G,element:D,ref:L,url:b}}getExistingView(L){const v=ji(this.router,L),p=this.views.find(b=>b.url===v);return p&&p.ref.changeDetectorRef.reattach(),p}setActive(L){var v,p;const b=this.navCtrl.consumeTransition();let{direction:D,animation:G,animationBuilder:je}=b;const Tt=this.activeView,Pn=((_,L)=>!L||_.stackId!==L.stackId)(L,Tt);Pn&&(D="back",G=void 0);const Ln=this.views.slice();let Wn;const tr=this.router;tr.getCurrentNavigation?Wn=tr.getCurrentNavigation():!(null===(v=tr.navigations)||void 0===v)&&v.value&&(Wn=tr.navigations.value),null!==(p=Wn?.extras)&&void 0!==p&&p.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Ei=this.views.includes(L),hi=this.insertView(L,D);Ei||L.ref.changeDetectorRef.detectChanges();const fi=L.animationBuilder;return void 0===je&&"back"===D&&!Pn&&void 0!==fi&&(je=fi),Tt&&(Tt.animationBuilder=je),this.zone.runOutsideAngular(()=>this.wait(()=>(Tt&&Tt.ref.changeDetectorRef.detach(),L.ref.changeDetectorRef.reattach(),this.transition(L,Tt,G,this.canGoBack(1),!1,je).then(()=>Gi(L,hi,Ln,this.location,this.zone)).then(()=>({enteringView:L,direction:D,animation:G,tabSwitch:Pn})))))}canGoBack(L,v=this.getActiveStackId()){return this.getStack(v).length>L}pop(L,v=this.getActiveStackId()){return this.zone.run(()=>{var p,b;const D=this.getStack(v);if(D.length<=L)return Promise.resolve(!1);const G=D[D.length-L-1];let je=G.url;const Tt=G.savedData;if(Tt){const Ln=Tt.get("primary");null!==(b=null===(p=Ln?.route)||void 0===p?void 0:p._routerState)&&void 0!==b&&b.snapshot.url&&(je=Ln.route._routerState.snapshot.url)}const{animationBuilder:Pn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(je,Object.assign(Object.assign({},G.savedExtras),{animation:Pn})).then(()=>!0)})}startBackTransition(){const L=this.activeView;if(L){const v=this.getStack(L.stackId),p=v[v.length-2],b=p.animationBuilder;return this.wait(()=>this.transition(p,L,"back",this.canGoBack(2),!0,b))}return Promise.resolve()}endBackTransition(L){L?(this.skipTransition=!0,this.pop(1)):this.activeView&&_i(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(L){const v=this.getStack(L);return v.length>0?v[v.length-1]:void 0}getRootUrl(L){const v=this.getStack(L);return v.length>0?v[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach($s),this.activeView=void 0,this.views=[]}getStack(L){return this.views.filter(v=>v.stackId===L)}insertView(L,v){return this.activeView=L,this.views=((_,L,v)=>"root"===v?As(_,L):"forward"===v?((_,L)=>(_.indexOf(L)>=0?_=_.filter(p=>p.stackId!==L.stackId||p.id<=L.id):_.push(L),_))(_,L):((_,L)=>_.indexOf(L)>=0?_.filter(p=>p.stackId!==L.stackId||p.id<=L.id):As(_,L))(_,L))(this.views,L,v),this.views.slice()}transition(L,v,p,b,D,G){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(v===L)return Promise.resolve(!1);const je=L?L.element:void 0,Tt=v?v.element:void 0,Pn=this.containerEl;return je&&je!==Tt&&(je.classList.add("ion-page"),je.classList.add("ion-page-invisible"),je.parentElement!==Pn&&Pn.appendChild(je),Pn.commit)?Pn.commit(je,Tt,{deepWait:!0,duration:void 0===p?0:void 0,direction:p,showGoBack:b,progressAnimation:D,animationBuilder:G}):Promise.resolve(!1)}wait(L){return(0,Z.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const v=this.runningTask=L();return v.finally(()=>this.runningTask=void 0),v})}}const Gi=(_,L,v,p,b)=>"function"==typeof requestAnimationFrame?new Promise(D=>{requestAnimationFrame(()=>{_i(_,L,v,p,b),D()})}):Promise.resolve(),_i=(_,L,v,p,b)=>{b.run(()=>v.filter(D=>!L.includes(D)).forEach($s)),L.forEach(D=>{const je=p.path().split("?")[0].split("#")[0];if(D!==_&&D.url!==je){const Tt=D.element;Tt.setAttribute("aria-hidden","true"),Tt.classList.add("ion-page-hidden"),D.ref.changeDetectorRef.detach()}})};let hs=(()=>{class _{get(v,p){const b=Ys();return b?b.get(v,p):null}getBoolean(v,p){const b=Ys();return!!b&&b.getBoolean(v,p)}getNumber(v,p){const b=Ys();return b?b.getNumber(v,p):0}}return _.\u0275fac=function(v){return new(v||_)},_.\u0275prov=u.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const ci=new u.OlP("USERCONFIG"),Ys=()=>{if(typeof window<"u"){const _=window.Ionic;if(_?.config)return _.config}return null};let br=(()=>{class _{constructor(v,p){this.doc=v,this.backButton=new Se.xQ,this.keyboardDidShow=new Se.xQ,this.keyboardDidHide=new Se.xQ,this.pause=new Se.xQ,this.resume=new Se.xQ,this.resize=new Se.xQ,p.run(()=>{var b;let D;this.win=v.defaultView,this.backButton.subscribeWithPriority=function(G,je){return this.subscribe(Tt=>Tt.register(G,Pn=>p.run(()=>je(Pn))))},ti(this.pause,v,"pause"),ti(this.resume,v,"resume"),ti(this.backButton,v,"ionBackButton"),ti(this.resize,this.win,"resize"),ti(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),ti(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(G=>{D=G}),null!==(b=this.win)&&void 0!==b&&b.cordova?v.addEventListener("deviceready",()=>{D("cordova")},{once:!0}):D("dom")})}is(v){return(0,ye.a)(this.win,v)}platforms(){return(0,ye.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(v){return $o(this.win.location.href,v)}isLandscape(){return!this.isPortrait()}isPortrait(){var v,p;return null===(p=(v=this.win).matchMedia)||void 0===p?void 0:p.call(v,"(orientation: portrait)").matches}testUserAgent(v){const p=this.win.navigator;return!!(p?.userAgent&&p.userAgent.indexOf(v)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return _.\u0275fac=function(v){return new(v||_)(u.LFG(le.K0),u.LFG(u.R0b))},_.\u0275prov=u.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const $o=(_,L)=>{L=L.replace(/[[\]\\]/g,"\\$&");const p=new RegExp("[\\?&]"+L+"=([^&#]*)").exec(_);return p?decodeURIComponent(p[1].replace(/\+/g," ")):null},ti=(_,L,v)=>{L&&L.addEventListener(v,p=>{_.next(p?.detail)})};let ni=(()=>{class _{constructor(v,p,b,D){this.location=p,this.serializer=b,this.router=D,this.direction=Ni,this.animated=Vo,this.guessDirection="forward",this.lastNavId=-1,D&&D.events.subscribe(G=>{if(G instanceof W.OD){const je=G.restoredState?G.restoredState.navigationId:G.id;this.guessDirection=je<this.lastNavId?"back":"forward",this.guessAnimation=G.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?G.id:je}}),v.backButton.subscribeWithPriority(0,G=>{this.pop(),G()})}navigateForward(v,p={}){return this.setDirection("forward",p.animated,p.animationDirection,p.animation),this.navigate(v,p)}navigateBack(v,p={}){return this.setDirection("back",p.animated,p.animationDirection,p.animation),this.navigate(v,p)}navigateRoot(v,p={}){return this.setDirection("root",p.animated,p.animationDirection,p.animation),this.navigate(v,p)}back(v={animated:!0,animationDirection:"back"}){return this.setDirection("back",v.animated,v.animationDirection,v.animation),this.location.back()}pop(){return(0,Z.mG)(this,void 0,void 0,function*(){let v=this.topOutlet;for(;v&&!(yield v.pop());)v=v.parentOutlet})}setDirection(v,p,b,D){this.direction=v,this.animated=Zo(v,p,b),this.animationBuilder=D}setTopOutlet(v){this.topOutlet=v}consumeTransition(){let p,v="root";const b=this.animationBuilder;return"auto"===this.direction?(v=this.guessDirection,p=this.guessAnimation):(p=this.animated,v=this.direction),this.direction=Ni,this.animated=Vo,this.animationBuilder=void 0,{direction:v,animation:p,animationBuilder:b}}navigate(v,p){if(Array.isArray(v))return this.router.navigate(v,p);{const b=this.serializer.parse(v.toString());return void 0!==p.queryParams&&(b.queryParams=Object.assign({},p.queryParams)),void 0!==p.fragment&&(b.fragment=p.fragment),this.router.navigateByUrl(b,p)}}}return _.\u0275fac=function(v){return new(v||_)(u.LFG(br),u.LFG(le.Ye),u.LFG(W.Hx),u.LFG(W.F0,8))},_.\u0275prov=u.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Zo=(_,L,v)=>{if(!1!==L){if(void 0!==v)return v;if("forward"===_||"back"===_)return _;if("root"===_&&!0===L)return"forward"}},Ni="auto",Vo=void 0;let ri=(()=>{class _{constructor(v,p,b,D,G,je,Tt,Pn,Ln,Wn,tr,Ei,hi){this.parentContexts=v,this.location=p,this.config=G,this.navCtrl=je,this.componentFactoryResolver=Tt,this.parentOutlet=hi,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new re.X(null),this.stackEvents=new u.vpe,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.nativeEl=Ln.nativeElement,this.name=b||W.eC,this.tabsPrefix="true"===D?ji(Wn,Ei):void 0,this.stackCtrl=new ma(this.tabsPrefix,this.nativeEl,Wn,je,tr,Pn),v.onChildOutletCreated(this.name,this)}set animation(v){this.nativeEl.animation=v}set animated(v){this.nativeEl.animated=v}set swipeGesture(v){this._swipeGesture=v,this.nativeEl.swipeHandler=v?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:p=>this.stackCtrl.endBackTransition(p)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const v=this.getContext();v?.route&&this.activateWith(v.route,v.resolver||null)}new Promise(v=>(0,ae.c)(this.nativeEl,v)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(v,p){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const p=this.getContext();this.activatedView.savedData=new Map(p.children.contexts);const b=this.activatedView.savedData.get("primary");if(b&&p.route&&(b.route=Object.assign({},p.route)),this.activatedView.savedExtras={},p.route){const D=p.route.snapshot;this.activatedView.savedExtras.queryParams=D.queryParams,this.activatedView.savedExtras.fragment=D.fragment}}const v=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,p){var b;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=v;let D,G=this.stackCtrl.getExistingView(v);if(G){D=this.activated=G.ref;const je=G.savedData;je&&(this.getContext().children.contexts=je),this.updateActivatedRouteProxy(D.instance,v)}else{const je=v._futureSnapshot;if(null==je.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const Tt=this.parentContexts.getOrCreateContext(this.name).children,Pn=new re.X(null),Ln=this.createActivatedRouteProxy(Pn,v),Wn=new Ks(Ln,Tt,this.location.injector),tr=null!==(b=je.routeConfig.component)&&void 0!==b?b:je.component;if((p=p||this.componentFactoryResolver)&&$t(p)){const Ei=p.resolveComponentFactory(tr);D=this.activated=this.location.createComponent(Ei,this.location.length,Wn)}else D=this.activated=this.location.createComponent(tr,{index:this.location.length,injector:Wn,environmentInjector:p??this.environmentInjector});Pn.next(D.instance),G=this.stackCtrl.createView(this.activated,v),this.proxyMap.set(D.instance,Ln),this.currentActivatedRoute$.next({component:D.instance,activatedRoute:v})}this.activatedView=G,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(G).then(je=>{this.activateEvents.emit(D.instance),this.stackEvents.emit(je)})}canGoBack(v=1,p){return this.stackCtrl.canGoBack(v,p)}pop(v=1,p){return this.stackCtrl.pop(v,p)}getLastUrl(v){const p=this.stackCtrl.getLastUrl(v);return p?p.url:void 0}getLastRouteView(v){return this.stackCtrl.getLastUrl(v)}getRootView(v){return this.stackCtrl.getRootUrl(v)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(v,p){const b=new W.gz;return b._futureSnapshot=p._futureSnapshot,b._routerState=p._routerState,b.snapshot=p.snapshot,b.outlet=p.outlet,b.component=p.component,b._paramMap=this.proxyObservable(v,"paramMap"),b._queryParamMap=this.proxyObservable(v,"queryParamMap"),b.url=this.proxyObservable(v,"url"),b.params=this.proxyObservable(v,"params"),b.queryParams=this.proxyObservable(v,"queryParams"),b.fragment=this.proxyObservable(v,"fragment"),b.data=this.proxyObservable(v,"data"),b}proxyObservable(v,p){return v.pipe((0,Ye.h)(b=>!!b),(0,Me.w)(b=>this.currentActivatedRoute$.pipe((0,Ye.h)(D=>null!==D&&D.component===b),(0,Me.w)(D=>D&&D.activatedRoute[p]),function se(_,L){return v=>v.lift(new ce(_,L))}())))}updateActivatedRouteProxy(v,p){const b=this.proxyMap.get(v);if(!b)throw new Error("Could not find activated route proxy for view");b._futureSnapshot=p._futureSnapshot,b._routerState=p._routerState,b.snapshot=p.snapshot,b.outlet=p.outlet,b.component=p.component,this.currentActivatedRoute$.next({component:v,activatedRoute:p})}}return _.\u0275fac=function(v){return new(v||_)(u.Y36(W.y6),u.Y36(u.s_b),u.$8M("name"),u.$8M("tabs"),u.Y36(hs),u.Y36(ni),u.Y36(u._Vd,8),u.Y36(le.Ye),u.Y36(u.SBq),u.Y36(W.F0),u.Y36(u.R0b),u.Y36(W.gz),u.Y36(_,12))},_.\u0275dir=u.lG2({type:_,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),_})();class Ks{constructor(L,v,p){this.route=L,this.childContexts=v,this.parent=p}get(L,v){return L===W.gz?this.route:L===W.y6?this.childContexts:this.parent.get(L,v)}}let Vs=(()=>{class _{constructor(v){this.navCtrl=v,this.ionTabsWillChange=new u.vpe,this.ionTabsDidChange=new u.vpe}onPageSelected(v){const p=v.enteringView.stackId;v.tabSwitch&&void 0!==p&&(this.ionTabsWillChange.emit({tab:p}),this.tabBar&&(this.tabBar.selectedTab=p),this.ionTabsDidChange.emit({tab:p}))}select(v){const p="string"==typeof v,b=p?v:v.detail.tab,D=this.outlet.getActiveStackId()===b,G=`${this.outlet.tabsPrefix}/${b}`;if(p||v.stopPropagation(),D){const je=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(je)?.url===G)return;const Pn=this.outlet.getRootView(b);return this.navCtrl.navigateRoot(G,Object.assign(Object.assign({},Pn&&G===Pn.url&&Pn.savedExtras),{animated:!0,animationDirection:"back"}))}{const je=this.outlet.getLastRouteView(b),Pn=je?.savedExtras;return this.navCtrl.navigateRoot(je?.url||G,Object.assign(Object.assign({},Pn),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return _.\u0275fac=function(v){return new(v||_)(u.Y36(ni))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ion-tabs"]],contentQueries:function(v,p,b){if(1&v&&u.Suo(b,Le,5),2&v){let D;u.iGM(D=u.CRH())&&(p.tabBar=D.first)}},viewQuery:function(v,p){if(1&v&&u.Gf(He,5,ri),2&v){let b;u.iGM(b=u.CRH())&&(p.outlet=b.first)}},hostBindings:function(v,p){1&v&&u.NdJ("ionTabButtonClick",function(D){return p.select(D)})},inputs:{environmentInjector:"environmentInjector"},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:Be,decls:5,vars:1,consts:[[1,"tabs-inner"],["tabs","true",3,"environmentInjector","stackEvents"],["outlet",""]],template:function(v,p){1&v&&(u.F$t(ze),u.Hsn(0),u.TgZ(1,"div",0)(2,"ion-router-outlet",1,2),u.NdJ("stackEvents",function(D){return p.onPageSelected(D)}),u.qZA()(),u.Hsn(4,1)),2&v&&(u.xp6(2),u.Q6J("environmentInjector",p.environmentInjector))},dependencies:[ri],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),_})(),Ji=(()=>{let _=class{constructor(v,p,b){this.z=b,this.isCmpOpen=!1,this.el=p.nativeElement,this.el.addEventListener("willPresent",()=>{this.isCmpOpen=!0,v.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,v.detectChanges()}),Bt(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return _.\u0275fac=function(v){return new(v||_)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ion-modal"]],contentQueries:function(v,p,b){if(1&v&&u.Suo(b,u.Rgc,5),2&v){let D;u.iGM(D=u.CRH())&&(p.template=D.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",swipeToClose:"swipeToClose",translucent:"translucent",trigger:"trigger"},decls:1,vars:1,consts:[["class","ion-page",4,"ngIf"],[1,"ion-page"],[3,"ngTemplateOutlet"]],template:function(v,p){1&v&&u.YNc(0,Ve,2,1,"div",0),2&v&&u.Q6J("ngIf",p.isCmpOpen||p.keepContentsMounted)},dependencies:[le.O5,le.tP],encapsulation:2,changeDetection:0}),_=(0,Z.gn)([gt({inputs:["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","swipeToClose","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"]})],_),_})();class Qr{constructor(L){this.ctrl=L}create(L){return this.ctrl.create(L||{})}dismiss(L,v,p){return this.ctrl.dismiss(L,v,p)}getTop(){return this.ctrl.getTop()}}class Zs{}let An=(()=>{class _ extends Qr{constructor(v,p,b,D){super(Ne.m),this.angularDelegate=v,this.resolver=p,this.injector=b,this.environmentInjector=D}create(v){var p;return super.create(Object.assign(Object.assign({},v),{delegate:this.angularDelegate.create(null!==(p=this.resolver)&&void 0!==p?p:this.environmentInjector,this.injector)}))}}return _.\u0275fac=function(v){return new(v||_)(u.LFG(kr),u.LFG(u._Vd),u.LFG(u.zs3),u.LFG(Zs,8))},_.\u0275prov=u.Yz7({token:_,factory:_.\u0275fac}),_})(),Xs=(()=>{class _ extends Qr{constructor(v,p,b,D){super(Ne.c),this.angularDelegate=v,this.resolver=p,this.injector=b,this.environmentInjector=D}create(v){var p;return super.create(Object.assign(Object.assign({},v),{delegate:this.angularDelegate.create(null!==(p=this.resolver)&&void 0!==p?p:this.environmentInjector,this.injector)}))}}return _.\u0275fac=function(v){return new(v||_)(u.LFG(kr),u.LFG(u._Vd),u.LFG(u.zs3),u.LFG(Zs,8))},_.\u0275prov=u.Yz7({token:_,factory:_.\u0275fac}),_})();class ts{shouldDetach(L){return!1}shouldAttach(L){return!1}store(L,v){}retrieve(L){return null}shouldReuseRoute(L,v){if(L.routeConfig!==v.routeConfig)return!1;const p=L.params,b=v.params,D=Object.keys(p),G=Object.keys(b);if(D.length!==G.length)return!1;for(const je of D)if(b[je]!==p[je])return!1;return!0}}const Co=(_,L,v)=>()=>{if(L.defaultView&&typeof window<"u"){(_=>{const L=window,v=L.Ionic;v&&v.config&&"Object"!==v.config.constructor.name||(L.Ionic=L.Ionic||{},L.Ionic.config=Object.assign(Object.assign({},L.Ionic.config),_))})(Object.assign(Object.assign({},_),{_zoneGate:D=>v.run(D)}));const b="__zone_symbol__addEventListener"in L.body?"__zone_symbol__addEventListener":"addEventListener";return function Xe(){var _=[];if(typeof window<"u"){var L=window;(!L.customElements||L.Element&&(!L.Element.prototype.closest||!L.Element.prototype.matches||!L.Element.prototype.remove||!L.Element.prototype.getRootNode))&&_.push(B.e(6748).then(B.t.bind(B,7252,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||L.NodeList&&!L.NodeList.prototype.forEach||!L.fetch||!function(){try{var p=new URL("b","http://a");return p.pathname="c%20d","http://a/c%20d"===p.href&&p.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&_.push(B.e(2214).then(B.t.bind(B,1173,23)))}return Promise.all(_)}().then(()=>((_,L)=>typeof window>"u"?Promise.resolve():(0,ht.p)().then(()=>(tt(),(0,ht.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",null,[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),L))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Ut,jmp:D=>v.runOutsideAngular(D),ael(D,G,je,Tt){D[b](G,je,Tt)},rel(D,G,je,Tt){D.removeEventListener(G,je,Tt)}}))}};let Es=(()=>{class _{static forRoot(v){return{ngModule:_,providers:[{provide:ci,useValue:v},{provide:u.ip1,useFactory:Co,multi:!0,deps:[ci,le.K0,u.R0b]}]}}}return _.\u0275fac=function(v){return new(v||_)},_.\u0275mod=u.oAB({type:_}),_.\u0275inj=u.cJS({providers:[kr,An,Xs],imports:[[le.ez]]}),_})()},5795:(en,st,B)=>{"use strict";B.d(st,{c:()=>Ne});var u=B(2921),J=B(5103);let Z;const Se=$e=>$e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),re=$e=>{if(void 0===Z){const ht=void 0!==$e.style.webkitAnimationName;Z=void 0===$e.style.animationName&&ht?"-webkit-":""}return Z},W=($e,be,ht)=>{const rt=be.startsWith("animation")?re($e):"";$e.style.setProperty(rt+be,ht)},we=($e,be)=>{const ht=be.startsWith("animation")?re($e):"";$e.style.removeProperty(ht+be)},Y=[],Fe=($e=[],be)=>{if(void 0!==be){const ht=Array.isArray(be)?be:[be];return[...$e,...ht]}return $e},Ne=$e=>{let be,ht,rt,at,Dt,Ot,se,Ee,He,ze,Be,$t,yt,Ke=[],Ye=[],Me=[],Ge=!1,ce={},ee=[],le=[],Xe={},tt=0,wt=!1,nt=!1,Ve=!0,It=!1,Ut=!0,_n=!1;const yn=$e,dn=[],fn=[],Sn=[],Yn=[],ar=[],Ct=[],Mt=[],bt=[],sn=[],Bt=[],on="function"==typeof AnimationEffect||void 0!==J.w&&"function"==typeof J.w.AnimationEffect,gt="function"==typeof Element&&"function"==typeof Element.prototype.animate&&on,Un=()=>Bt,Rr=(ne,Ae)=>((Ae?.oneTimeCallback?fn:dn).push({c:ne,o:Ae}),yt),$n=()=>{if(gt)Bt.forEach(ne=>{ne.cancel()}),Bt.length=0;else{const ne=Sn.slice();(0,u.r)(()=>{ne.forEach(Ae=>{we(Ae,"animation-name"),we(Ae,"animation-duration"),we(Ae,"animation-timing-function"),we(Ae,"animation-iteration-count"),we(Ae,"animation-delay"),we(Ae,"animation-play-state"),we(Ae,"animation-fill-mode"),we(Ae,"animation-direction")})})}},En=()=>{ar.forEach(ne=>{ne?.parentNode&&ne.parentNode.removeChild(ne)}),ar.length=0},an=()=>void 0!==Dt?Dt:se?se.getFill():"both",Ce=()=>void 0!==He?He:void 0!==Ot?Ot:se?se.getDirection():"normal",Ie=()=>wt?"linear":void 0!==rt?rt:se?se.getEasing():"linear",Te=()=>nt?0:void 0!==ze?ze:void 0!==ht?ht:se?se.getDuration():0,lt=()=>void 0!==at?at:se?se.getIterations():1,et=()=>void 0!==Be?Be:void 0!==be?be:se?se.getDelay():0,ur=()=>{0!==tt&&(tt--,0===tt&&((()=>{Yr(),bt.forEach(_t=>_t()),sn.forEach(_t=>_t());const ne=Ve?1:0,Ae=ee,Le=le,ft=Xe;Sn.forEach(_t=>{const Vt=_t.classList;Ae.forEach(qt=>Vt.add(qt)),Le.forEach(qt=>Vt.remove(qt));for(const qt in ft)ft.hasOwnProperty(qt)&&W(_t,qt,ft[qt])}),dn.forEach(_t=>_t.c(ne,yt)),fn.forEach(_t=>_t.c(ne,yt)),fn.length=0,Ut=!0,Ve&&(It=!0),Ve=!0})(),se&&se.animationFinish()))},zn=(ne=!0)=>{En();const Ae=($e=>($e.forEach(be=>{for(const ht in be)if(be.hasOwnProperty(ht)){const rt=be[ht];if("easing"===ht)be["animation-timing-function"]=rt,delete be[ht];else{const at=Se(ht);at!==ht&&(be[at]=rt,delete be[ht])}}}),$e))(Ke);Sn.forEach(Le=>{if(Ae.length>0){const ft=(($e=[])=>$e.map(be=>{const ht=be.offset,rt=[];for(const at in be)be.hasOwnProperty(at)&&"offset"!==at&&rt.push(`${at}: ${be[at]};`);return`${100*ht}% { ${rt.join(" ")} }`}).join(" "))(Ae);$t=void 0!==$e?$e:($e=>{let be=Y.indexOf($e);return be<0&&(be=Y.push($e)-1),`ion-animation-${be}`})(ft);const _t=(($e,be,ht)=>{var rt;const at=($e=>{const be=void 0!==$e.getRootNode?$e.getRootNode():$e;return be.head||be})(ht),Dt=re(ht),Ot=at.querySelector("#"+$e);if(Ot)return Ot;const Ke=(null!==(rt=ht.ownerDocument)&&void 0!==rt?rt:document).createElement("style");return Ke.id=$e,Ke.textContent=`@${Dt}keyframes ${$e} { ${be} } @${Dt}keyframes ${$e}-alt { ${be} }`,at.appendChild(Ke),Ke})($t,ft,Le);ar.push(_t),W(Le,"animation-duration",`${Te()}ms`),W(Le,"animation-timing-function",Ie()),W(Le,"animation-delay",`${et()}ms`),W(Le,"animation-fill-mode",an()),W(Le,"animation-direction",Ce());const Vt=lt()===1/0?"infinite":lt().toString();W(Le,"animation-iteration-count",Vt),W(Le,"animation-play-state","paused"),ne&&W(Le,"animation-name",`${_t.id}-alt`),(0,u.r)(()=>{W(Le,"animation-name",_t.id||null)})}})},jr=(ne=!0)=>{(()=>{Ct.forEach(ft=>ft()),Mt.forEach(ft=>ft());const ne=Ye,Ae=Me,Le=ce;Sn.forEach(ft=>{const _t=ft.classList;ne.forEach(Vt=>_t.add(Vt)),Ae.forEach(Vt=>_t.remove(Vt));for(const Vt in Le)Le.hasOwnProperty(Vt)&&W(ft,Vt,Le[Vt])})})(),Ke.length>0&&(gt?(Sn.forEach(ne=>{const Ae=ne.animate(Ke,{id:yn,delay:et(),duration:Te(),easing:Ie(),iterations:lt(),fill:an(),direction:Ce()});Ae.pause(),Bt.push(Ae)}),Bt.length>0&&(Bt[0].onfinish=()=>{ur()})):zn(ne)),Ge=!0},Cn=ne=>{if(ne=Math.min(Math.max(ne,0),.9999),gt)Bt.forEach(Ae=>{Ae.currentTime=Ae.effect.getComputedTiming().delay+Te()*ne,Ae.pause()});else{const Ae=`-${Te()*ne}ms`;Sn.forEach(Le=>{Ke.length>0&&(W(Le,"animation-delay",Ae),W(Le,"animation-play-state","paused"))})}},Or=ne=>{Bt.forEach(Ae=>{Ae.effect.updateTiming({delay:et(),duration:Te(),easing:Ie(),iterations:lt(),fill:an(),direction:Ce()})}),void 0!==ne&&Cn(ne)},cr=(ne=!0,Ae)=>{(0,u.r)(()=>{Sn.forEach(Le=>{W(Le,"animation-name",$t||null),W(Le,"animation-duration",`${Te()}ms`),W(Le,"animation-timing-function",Ie()),W(Le,"animation-delay",void 0!==Ae?`-${Ae*Te()}ms`:`${et()}ms`),W(Le,"animation-fill-mode",an()||null),W(Le,"animation-direction",Ce()||null);const ft=lt()===1/0?"infinite":lt().toString();W(Le,"animation-iteration-count",ft),ne&&W(Le,"animation-name",`${$t}-alt`),(0,u.r)(()=>{W(Le,"animation-name",$t||null)})})})},Er=(ne=!1,Ae=!0,Le)=>(ne&&Yn.forEach(ft=>{ft.update(ne,Ae,Le)}),gt?Or(Le):cr(Ae,Le),yt),vi=()=>{Ge&&(gt?Bt.forEach(ne=>{ne.pause()}):Sn.forEach(ne=>{W(ne,"animation-play-state","paused")}),_n=!0)},qr=()=>{Ee=void 0,ur()},Yr=()=>{Ee&&clearTimeout(Ee)},N=ne=>new Promise(Ae=>{ne?.sync&&(nt=!0,Rr(()=>nt=!1,{oneTimeCallback:!0})),Ge||jr(),It&&(gt?(Cn(0),Or()):cr(),It=!1),Ut&&(tt=Yn.length+1,Ut=!1),Rr(()=>Ae(),{oneTimeCallback:!0}),Yn.forEach(Le=>{Le.play()}),gt?(Bt.forEach(ne=>{ne.play()}),(0===Ke.length||0===Sn.length)&&ur()):(()=>{if(Yr(),(0,u.r)(()=>{Sn.forEach(ne=>{Ke.length>0&&W(ne,"animation-play-state","running")})}),0===Ke.length||0===Sn.length)ur();else{const ne=et()||0,Ae=Te()||0,Le=lt()||1;isFinite(Le)&&(Ee=setTimeout(qr,ne+Ae*Le+100)),(($e,be)=>{let ht;const rt={passive:!0},Dt=Ot=>{$e===Ot.target&&(ht&&ht(),Yr(),(0,u.r)(()=>{Sn.forEach(ne=>{we(ne,"animation-duration"),we(ne,"animation-delay"),we(ne,"animation-play-state")}),(0,u.r)(ur)}))};$e&&($e.addEventListener("webkitAnimationEnd",Dt,rt),$e.addEventListener("animationend",Dt,rt),ht=()=>{$e.removeEventListener("webkitAnimationEnd",Dt,rt),$e.removeEventListener("animationend",Dt,rt)})})(Sn[0])}})(),_n=!1}),ie=(ne,Ae)=>{const Le=Ke[0];return void 0===Le||void 0!==Le.offset&&0!==Le.offset?Ke=[{offset:0,[ne]:Ae},...Ke]:Le[ne]=Ae,yt};return yt={parentAnimation:se,elements:Sn,childAnimations:Yn,id:yn,animationFinish:ur,from:ie,to:(ne,Ae)=>{const Le=Ke[Ke.length-1];return void 0===Le||void 0!==Le.offset&&1!==Le.offset?Ke=[...Ke,{offset:1,[ne]:Ae}]:Le[ne]=Ae,yt},fromTo:(ne,Ae,Le)=>ie(ne,Ae).to(ne,Le),parent:ne=>(se=ne,yt),play:N,pause:()=>(Yn.forEach(ne=>{ne.pause()}),vi(),yt),stop:()=>{Yn.forEach(ne=>{ne.stop()}),Ge&&($n(),Ge=!1),wt=!1,nt=!1,Ut=!0,He=void 0,ze=void 0,Be=void 0,tt=0,It=!1,Ve=!0,_n=!1},destroy:ne=>(Yn.forEach(Ae=>{Ae.destroy(ne)}),(ne=>{$n(),ne&&En()})(ne),Sn.length=0,Yn.length=0,Ke.length=0,dn.length=0,fn.length=0,Ge=!1,Ut=!0,yt),keyframes:ne=>{const Ae=Ke!==ne;return Ke=ne,Ae&&(ne=>{gt?Un().forEach(Ae=>{if(Ae.effect.setKeyframes)Ae.effect.setKeyframes(ne);else{const Le=new KeyframeEffect(Ae.effect.target,ne,Ae.effect.getTiming());Ae.effect=Le}}):zn()})(Ke),yt},addAnimation:ne=>{if(null!=ne)if(Array.isArray(ne))for(const Ae of ne)Ae.parent(yt),Yn.push(Ae);else ne.parent(yt),Yn.push(ne);return yt},addElement:ne=>{if(null!=ne)if(1===ne.nodeType)Sn.push(ne);else if(ne.length>=0)for(let Ae=0;Ae<ne.length;Ae++)Sn.push(ne[Ae]);else console.error("Invalid addElement value");return yt},update:Er,fill:ne=>(Dt=ne,Er(!0),yt),direction:ne=>(Ot=ne,Er(!0),yt),iterations:ne=>(at=ne,Er(!0),yt),duration:ne=>(!gt&&0===ne&&(ne=1),ht=ne,Er(!0),yt),easing:ne=>(rt=ne,Er(!0),yt),delay:ne=>(be=ne,Er(!0),yt),getWebAnimations:Un,getKeyframes:()=>Ke,getFill:an,getDirection:Ce,getDelay:et,getIterations:lt,getEasing:Ie,getDuration:Te,afterAddRead:ne=>(bt.push(ne),yt),afterAddWrite:ne=>(sn.push(ne),yt),afterClearStyles:(ne=[])=>{for(const Ae of ne)Xe[Ae]="";return yt},afterStyles:(ne={})=>(Xe=ne,yt),afterRemoveClass:ne=>(le=Fe(le,ne),yt),afterAddClass:ne=>(ee=Fe(ee,ne),yt),beforeAddRead:ne=>(Ct.push(ne),yt),beforeAddWrite:ne=>(Mt.push(ne),yt),beforeClearStyles:(ne=[])=>{for(const Ae of ne)ce[Ae]="";return yt},beforeStyles:(ne={})=>(ce=ne,yt),beforeRemoveClass:ne=>(Me=Fe(Me,ne),yt),beforeAddClass:ne=>(Ye=Fe(Ye,ne),yt),onFinish:Rr,isRunning:()=>0!==tt&&!_n,progressStart:(ne=!1,Ae)=>(Yn.forEach(Le=>{Le.progressStart(ne,Ae)}),vi(),wt=ne,Ge||jr(),Er(!1,!0,Ae),yt),progressStep:ne=>(Yn.forEach(Ae=>{Ae.progressStep(ne)}),Cn(ne),yt),progressEnd:(ne,Ae,Le)=>(wt=!1,Yn.forEach(ft=>{ft.progressEnd(ne,Ae,Le)}),void 0!==Le&&(ze=Le),It=!1,Ve=!0,0===ne?(He="reverse"===Ce()?"normal":"reverse","reverse"===He&&(Ve=!1),gt?(Er(),Cn(1-Ae)):(Be=(1-Ae)*Te()*-1,Er(!1,!1))):1===ne&&(gt?(Er(),Cn(Ae)):(Be=Ae*Te()*-1,Er(!1,!1))),void 0!==ne&&(Rr(()=>{ze=void 0,He=void 0,Be=void 0},{oneTimeCallback:!0}),se||N()),yt)}}},9273:(en,st,B)=>{"use strict";B.d(st,{G:()=>Se});class J{constructor(W,we,fe,te,Y){this.id=we,this.name=fe,this.disableScroll=Y,this.priority=1e6*te+we,this.ctrl=W}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const W=this.ctrl.capture(this.name,this.id,this.priority);return W&&this.disableScroll&&this.ctrl.disableScroll(this.id),W}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Z{constructor(W,we,fe,te){this.id=we,this.disable=fe,this.disableScroll=te,this.ctrl=W}block(){if(this.ctrl){if(this.disable)for(const W of this.disable)this.ctrl.disableGesture(W,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const W of this.disable)this.ctrl.enableGesture(W,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Pe="backdrop-no-scroll",Se=new class u{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(W){var we;return new J(this,this.newID(),W.name,null!==(we=W.priority)&&void 0!==we?we:0,!!W.disableScroll)}createBlocker(W={}){return new Z(this,this.newID(),W.disable,!!W.disableScroll)}start(W,we,fe){return this.canStart(W)?(this.requestedStart.set(we,fe),!0):(this.requestedStart.delete(we),!1)}capture(W,we,fe){if(!this.start(W,we,fe))return!1;const te=this.requestedStart;let Y=-1e4;if(te.forEach(ye=>{Y=Math.max(Y,ye)}),Y===fe){this.capturedId=we,te.clear();const ye=new CustomEvent("ionGestureCaptured",{detail:{gestureName:W}});return document.dispatchEvent(ye),!0}return te.delete(we),!1}release(W){this.requestedStart.delete(W),this.capturedId===W&&(this.capturedId=void 0)}disableGesture(W,we){let fe=this.disabledGestures.get(W);void 0===fe&&(fe=new Set,this.disabledGestures.set(W,fe)),fe.add(we)}enableGesture(W,we){const fe=this.disabledGestures.get(W);void 0!==fe&&fe.delete(we)}disableScroll(W){this.disabledScroll.add(W),1===this.disabledScroll.size&&document.body.classList.add(Pe)}enableScroll(W){this.disabledScroll.delete(W),0===this.disabledScroll.size&&document.body.classList.remove(Pe)}canStart(W){return!(void 0!==this.capturedId||this.isDisabled(W))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(W){const we=this.disabledGestures.get(W);return!!(we&&we.size>0)}newID(){return this.gestureId++,this.gestureId}}},4210:(en,st,B)=>{"use strict";B.r(st),B.d(st,{MENU_BACK_BUTTON_PRIORITY:()=>Se,OVERLAY_BACK_BUTTON_PRIORITY:()=>Pe,blockHardwareBackButton:()=>J,startHardwareBackButton:()=>Z});var u=B(7036);const J=()=>{document.addEventListener("backbutton",()=>{})},Z=()=>{const re=document;let W=!1;re.addEventListener("backbutton",()=>{if(W)return;let we=0,fe=[];const te=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ae,pe){fe.push({priority:ae,handler:pe,id:we++})}}});re.dispatchEvent(te);const Y=function(){var ae=(0,u.Z)(function*(pe){try{if(pe?.handler){const Fe=pe.handler(ye);null!=Fe&&(yield Fe)}}catch(Fe){console.error(Fe)}});return function(Fe){return ae.apply(this,arguments)}}(),ye=()=>{if(fe.length>0){let ae={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};fe.forEach(pe=>{pe.priority>=ae.priority&&(ae=pe)}),W=!0,fe=fe.filter(pe=>pe.id!==ae.id),Y(ae).then(()=>W=!1)}};ye()})},Pe=100,Se=99},2921:(en,st,B)=>{"use strict";B.d(st,{a:()=>W,b:()=>we,c:()=>Z,d:()=>pe,e:()=>Fe,f:()=>ae,g:()=>fe,h:()=>at,i:()=>re,j:()=>Pe,k:()=>ye,l:()=>Ne,m:()=>Y,n:()=>$e,o:()=>rt,p:()=>ht,q:()=>Dt,r:()=>te,s:()=>Ot,t:()=>u,u:()=>be});const u=(Ke,Ye=0)=>new Promise(Me=>{J(Ke,Ye,Me)}),J=(Ke,Ye=0,Me)=>{let Ge,se;const ce={passive:!0},le=()=>{Ge&&Ge()},Xe=tt=>{(void 0===tt||Ke===tt.target)&&(le(),Me(tt))};return Ke&&(Ke.addEventListener("webkitTransitionEnd",Xe,ce),Ke.addEventListener("transitionend",Xe,ce),se=setTimeout(Xe,Ye+500),Ge=()=>{se&&(clearTimeout(se),se=void 0),Ke.removeEventListener("webkitTransitionEnd",Xe,ce),Ke.removeEventListener("transitionend",Xe,ce)}),le},Z=(Ke,Ye)=>{Ke.componentOnReady?Ke.componentOnReady().then(Me=>Ye(Me)):te(()=>Ye(Ke))},Pe=(Ke,Ye=[])=>{const Me={};return Ye.forEach(Ge=>{Ke.hasAttribute(Ge)&&(null!==Ke.getAttribute(Ge)&&(Me[Ge]=Ke.getAttribute(Ge)),Ke.removeAttribute(Ge))}),Me},Se=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],re=(Ke,Ye)=>{let Me=Se;return Ye&&Ye.length>0&&(Me=Me.filter(Ge=>!Ye.includes(Ge))),Pe(Ke,Me)},W=(Ke,Ye,Me,Ge)=>{var se;if(typeof window<"u"){const ee=null===(se=window?.Ionic)||void 0===se?void 0:se.config;if(ee){const le=ee.get("_ael");if(le)return le(Ke,Ye,Me,Ge);if(ee._ael)return ee._ael(Ke,Ye,Me,Ge)}}return Ke.addEventListener(Ye,Me,Ge)},we=(Ke,Ye,Me,Ge)=>{var se;if(typeof window<"u"){const ee=null===(se=window?.Ionic)||void 0===se?void 0:se.config;if(ee){const le=ee.get("_rel");if(le)return le(Ke,Ye,Me,Ge);if(ee._rel)return ee._rel(Ke,Ye,Me,Ge)}}return Ke.removeEventListener(Ye,Me,Ge)},fe=(Ke,Ye=Ke)=>Ke.shadowRoot||Ye,te=Ke=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ke):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ke):setTimeout(Ke),Y=Ke=>!!Ke.shadowRoot&&!!Ke.attachShadow,ye=Ke=>{const Ye=Ke.closest("ion-item");return Ye?Ye.querySelector("ion-label"):null},ae=Ke=>{if(Ke.focus(),Ke.classList.contains("ion-focusable")){const Ye=Ke.closest("ion-app");Ye&&Ye.setFocus([Ke])}},pe=(Ke,Ye)=>{let Me;const Ge=Ke.getAttribute("aria-labelledby"),se=Ke.id;let ce=null!==Ge&&""!==Ge.trim()?Ge:Ye+"-lbl",ee=null!==Ge&&""!==Ge.trim()?document.getElementById(Ge):ye(Ke);return ee?(null===Ge&&(ee.id=ce),Me=ee.textContent,ee.setAttribute("aria-hidden","true")):""!==se.trim()&&(ee=document.querySelector(`label[for="${se}"]`),ee&&(""!==ee.id?ce=ee.id:ee.id=ce=`${se}-lbl`,Me=ee.textContent)),{label:ee,labelId:ce,labelText:Me}},Fe=(Ke,Ye,Me,Ge,se)=>{if(Ke||Y(Ye)){let ce=Ye.querySelector("input.aux-input");ce||(ce=Ye.ownerDocument.createElement("input"),ce.type="hidden",ce.classList.add("aux-input"),Ye.appendChild(ce)),ce.disabled=se,ce.name=Me,ce.value=Ge||""}},Ne=(Ke,Ye,Me)=>Math.max(Ke,Math.min(Ye,Me)),$e=(Ke,Ye)=>{if(!Ke){const Me="ASSERT: "+Ye;throw console.error(Me),new Error(Me)}},be=Ke=>Ke.timeStamp||Date.now(),ht=Ke=>{if(Ke){const Ye=Ke.changedTouches;if(Ye&&Ye.length>0){const Me=Ye[0];return{x:Me.clientX,y:Me.clientY}}if(void 0!==Ke.pageX)return{x:Ke.pageX,y:Ke.pageY}}return{x:0,y:0}},rt=Ke=>{const Ye="rtl"===document.dir;switch(Ke){case"start":return Ye;case"end":return!Ye;default:throw new Error(`"${Ke}" is not a valid value for [side]. Use "start" or "end" instead.`)}},at=(Ke,Ye)=>{const Me=Ke._original||Ke;return{_original:Ke,emit:Dt(Me.emit.bind(Me),Ye)}},Dt=(Ke,Ye=0)=>{let Me;return(...Ge)=>{clearTimeout(Me),Me=setTimeout(Ke,Ye,...Ge)}},Ot=(Ke,Ye)=>{if(Ke??(Ke={}),Ye??(Ye={}),Ke===Ye)return!0;const Me=Object.keys(Ke);if(Me.length!==Object.keys(Ye).length)return!1;for(const Ge of Me)if(!(Ge in Ye)||Ke[Ge]!==Ye[Ge])return!1;return!0}},5103:(en,st,B)=>{"use strict";B.d(st,{w:()=>u});const u=typeof window<"u"?window:void 0},8345:(en,st,B)=>{"use strict";B.d(st,{m:()=>Y});var u=B(7036),J=B(4210),Z=B(2921),Pe=B(4573),Se=B(5795);const re=ye=>(0,Se.c)().duration(ye?400:300),W=ye=>{let ae,pe;const Fe=ye.width+8,Ne=(0,Se.c)(),$e=(0,Se.c)();ye.isEndSide?(ae=Fe+"px",pe="0px"):(ae=-Fe+"px",pe="0px"),Ne.addElement(ye.menuInnerEl).fromTo("transform",`translateX(${ae})`,`translateX(${pe})`);const ht="ios"===(0,Pe.b)(ye),rt=ht?.2:.25;return $e.addElement(ye.backdropEl).fromTo("opacity",.01,rt),re(ht).addAnimation([Ne,$e])},we=ye=>{let ae,pe;const Fe=(0,Pe.b)(ye),Ne=ye.width;ye.isEndSide?(ae=-Ne+"px",pe=Ne+"px"):(ae=Ne+"px",pe=-Ne+"px");const $e=(0,Se.c)().addElement(ye.menuInnerEl).fromTo("transform",`translateX(${pe})`,"translateX(0px)"),be=(0,Se.c)().addElement(ye.contentEl).fromTo("transform","translateX(0px)",`translateX(${ae})`),ht=(0,Se.c)().addElement(ye.backdropEl).fromTo("opacity",.01,.32);return re("ios"===Fe).addAnimation([$e,be,ht])},fe=ye=>{const ae=(0,Pe.b)(ye),pe=ye.width*(ye.isEndSide?-1:1)+"px",Fe=(0,Se.c)().addElement(ye.contentEl).fromTo("transform","translateX(0px)",`translateX(${pe})`);return re("ios"===ae).addAnimation(Fe)},Y=(()=>{const ye=new Map,ae=[],pe=function(){var Ee=(0,u.Z)(function*(He){const ze=yield at(He);return!!ze&&ze.open()});return function(ze){return Ee.apply(this,arguments)}}(),Fe=function(){var Ee=(0,u.Z)(function*(He){const ze=yield void 0!==He?at(He):Dt();return void 0!==ze&&ze.close()});return function(ze){return Ee.apply(this,arguments)}}(),Ne=function(){var Ee=(0,u.Z)(function*(He){const ze=yield at(He);return!!ze&&ze.toggle()});return function(ze){return Ee.apply(this,arguments)}}(),$e=function(){var Ee=(0,u.Z)(function*(He,ze){const Be=yield at(ze);return Be&&(Be.disabled=!He),Be});return function(ze,Be){return Ee.apply(this,arguments)}}(),be=function(){var Ee=(0,u.Z)(function*(He,ze){const Be=yield at(ze);return Be&&(Be.swipeGesture=He),Be});return function(ze,Be){return Ee.apply(this,arguments)}}(),ht=function(){var Ee=(0,u.Z)(function*(He){if(null!=He){const ze=yield at(He);return void 0!==ze&&ze.isOpen()}return void 0!==(yield Dt())});return function(ze){return Ee.apply(this,arguments)}}(),rt=function(){var Ee=(0,u.Z)(function*(He){const ze=yield at(He);return!!ze&&!ze.disabled});return function(ze){return Ee.apply(this,arguments)}}(),at=function(){var Ee=(0,u.Z)(function*(He){return yield nt(),"start"===He||"end"===He?wt(Ve=>Ve.side===He&&!Ve.disabled)||wt(Ve=>Ve.side===He):null!=He?wt(Be=>Be.menuId===He):wt(Be=>!Be.disabled)||(ae.length>0?ae[0].el:void 0)});return function(ze){return Ee.apply(this,arguments)}}(),Dt=function(){var Ee=(0,u.Z)(function*(){return yield nt(),le()});return function(){return Ee.apply(this,arguments)}}(),Ot=function(){var Ee=(0,u.Z)(function*(){return yield nt(),Xe()});return function(){return Ee.apply(this,arguments)}}(),Ke=function(){var Ee=(0,u.Z)(function*(){return yield nt(),tt()});return function(){return Ee.apply(this,arguments)}}(),Ye=(Ee,He)=>{ye.set(Ee,He)},se=Ee=>{const He=Ee.side;ae.filter(ze=>ze.side===He&&ze!==Ee).forEach(ze=>ze.disabled=!0)},ce=function(){var Ee=(0,u.Z)(function*(He,ze,Be){if(tt())return!1;if(ze){const Ve=yield Dt();Ve&&He.el!==Ve&&(yield Ve.setOpen(!1,!1))}return He._setOpen(ze,Be)});return function(ze,Be,Ve){return Ee.apply(this,arguments)}}(),le=()=>wt(Ee=>Ee._isOpen),Xe=()=>ae.map(Ee=>Ee.el),tt=()=>ae.some(Ee=>Ee.isAnimating),wt=Ee=>{const He=ae.find(Ee);if(void 0!==He)return He.el},nt=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Ee=>new Promise(He=>(0,Z.c)(Ee,He))));return Ye("reveal",fe),Ye("push",we),Ye("overlay",W),typeof document<"u"&&document.addEventListener("ionBackButton",Ee=>{const He=le();He&&Ee.detail.register(J.MENU_BACK_BUTTON_PRIORITY,()=>He.close())}),{registerAnimation:Ye,get:at,getMenus:Ot,getOpen:Dt,isEnabled:rt,swipeGesture:be,isAnimating:Ke,isOpen:ht,enable:$e,toggle:Ne,close:Fe,open:pe,_getOpenSync:le,_createAnimation:(Ee,He)=>{const ze=ye.get(Ee);if(!ze)throw new Error("animation not registered");return ze(He)},_register:Ee=>{ae.indexOf(Ee)<0&&(Ee.disabled||se(Ee),ae.push(Ee))},_unregister:Ee=>{const He=ae.indexOf(Ee);He>-1&&ae.splice(He,1)},_setOpen:ce,_setActiveMenu:se}})()},8650:(en,st,B)=>{"use strict";B.d(st,{B:()=>qe,H:()=>Sn,a:()=>Ve,b:()=>or,c:()=>ki,e:()=>Zr,f:()=>cs,g:()=>It,h:()=>dn,i:()=>Nn,j:()=>Ce,k:()=>Hn,p:()=>Ne,r:()=>ai,s:()=>pe});var u=B(7036);let Z,Pe,Se,re=!1,W=!1,we=!1,fe=!1,te=!1;const Y=typeof window<"u"?window:{},ye=Y.document||{head:{}},ae={$flags$:0,$resourcesUrl$:"",jmp:N=>N(),raf:N=>requestAnimationFrame(N),ael:(N,U,ie,he)=>N.addEventListener(U,ie,he),rel:(N,U,ie,he)=>N.removeEventListener(U,ie,he),ce:(N,U)=>new CustomEvent(N,U)},pe=N=>{Object.assign(ae,N)},Ne=N=>Promise.resolve(N),$e=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),be=(N,U,ie,he)=>{ie&&ie.map(([ke,ne,Ae])=>{const Le=rt(N,ke),ft=ht(U,Ae),_t=at(ke);ae.ael(Le,ne,ft,_t),(U.$rmListeners$=U.$rmListeners$||[]).push(()=>ae.rel(Le,ne,ft,_t))})},ht=(N,U)=>ie=>{try{256&N.$flags$?N.$lazyInstance$[U](ie):(N.$queuedListeners$=N.$queuedListeners$||[]).push([U,ie])}catch(he){Or(he)}},rt=(N,U)=>4&U?ye:8&U?Y:16&U?ye.body:N,at=N=>0!=(2&N),Me="s-id",Ge="sty-id",ee="http://www.w3.org/1999/xlink",tt=new WeakMap,wt=(N,U,ie)=>{let he=Hr.get(N);$e&&ie?(he=he||new CSSStyleSheet,"string"==typeof he?he=U:he.replaceSync(U)):he=U,Hr.set(N,he)},nt=(N,U,ie,he)=>{let ke=He(U,ie);const ne=Hr.get(ke);if(N=11===N.nodeType?N:ye,ne)if("string"==typeof ne){let Le,Ae=tt.get(N=N.head||N);Ae||tt.set(N,Ae=new Set),Ae.has(ke)||(N.host&&(Le=N.querySelector(`[${Ge}="${ke}"]`))?Le.innerHTML=ne:(Le=ye.createElement("style"),Le.innerHTML=ne,N.insertBefore(Le,N.querySelector("link"))),Ae&&Ae.add(ke))}else N.adoptedStyleSheets.includes(ne)||(N.adoptedStyleSheets=[...N.adoptedStyleSheets,ne]);return ke},He=(N,U)=>"sc-"+(U&&32&N.$flags$?N.$tagName$+"-"+U:N.$tagName$),ze=N=>N.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Ve=N=>wr.push(N),It=N=>zn(N).$modeName$,Ut={},yn=N=>"object"==(N=typeof N)||"function"===N,dn=(N,U,...ie)=>{let he=null,ke=null,ne=null,Ae=!1,Le=!1;const ft=[],_t=qt=>{for(let gn=0;gn<qt.length;gn++)he=qt[gn],Array.isArray(he)?_t(he):null!=he&&"boolean"!=typeof he&&((Ae="function"!=typeof N&&!yn(he))&&(he=String(he)),Ae&&Le?ft[ft.length-1].$text$+=he:ft.push(Ae?fn(null,he):he),Le=Ae)};if(_t(ie),U){U.key&&(ke=U.key),U.name&&(ne=U.name);{const qt=U.className||U.class;qt&&(U.class="object"!=typeof qt?qt:Object.keys(qt).filter(gn=>qt[gn]).join(" "))}}if("function"==typeof N)return N(null===U?{}:U,ft,ar);const Vt=fn(N,null);return Vt.$attrs$=U,ft.length>0&&(Vt.$children$=ft),Vt.$key$=ke,Vt.$name$=ne,Vt},fn=(N,U)=>({$flags$:0,$tag$:N,$text$:U,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Sn={},ar={forEach:(N,U)=>N.map(Ct).forEach(U),map:(N,U)=>N.map(Ct).map(U).map(Mt)},Ct=N=>({vattrs:N.$attrs$,vchildren:N.$children$,vkey:N.$key$,vname:N.$name$,vtag:N.$tag$,vtext:N.$text$}),Mt=N=>{if("function"==typeof N.vtag){const ie=Object.assign({},N.vattrs);return N.vkey&&(ie.key=N.vkey),N.vname&&(ie.name=N.vname),dn(N.vtag,ie,...N.vchildren||[])}const U=fn(N.vtag,N.vtext);return U.$attrs$=N.vattrs,U.$children$=N.vchildren,U.$key$=N.vkey,U.$name$=N.vname,U},bt=(N,U,ie,he,ke,ne)=>{if(ie!==he){let Ae=Cn(N,U),Le=U.toLowerCase();if("class"===U){const ft=N.classList,_t=Bt(ie),Vt=Bt(he);ft.remove(..._t.filter(qt=>qt&&!Vt.includes(qt))),ft.add(...Vt.filter(qt=>qt&&!_t.includes(qt)))}else if("style"===U){for(const ft in ie)(!he||null==he[ft])&&(ft.includes("-")?N.style.removeProperty(ft):N.style[ft]="");for(const ft in he)(!ie||he[ft]!==ie[ft])&&(ft.includes("-")?N.style.setProperty(ft,he[ft]):N.style[ft]=he[ft])}else if("key"!==U)if("ref"===U)he&&he(N);else if(Ae||"o"!==U[0]||"n"!==U[1]){const ft=yn(he);if((Ae||ft&&null!==he)&&!ke)try{if(N.tagName.includes("-"))N[U]=he;else{const Vt=he??"";"list"===U?Ae=!1:(null==ie||N[U]!=Vt)&&(N[U]=Vt)}}catch{}let _t=!1;Le!==(Le=Le.replace(/^xlink\:?/,""))&&(U=Le,_t=!0),null==he||!1===he?(!1!==he||""===N.getAttribute(U))&&(_t?N.removeAttributeNS(ee,U):N.removeAttribute(U)):(!Ae||4&ne||ke)&&!ft&&(he=!0===he?"":he,_t?N.setAttributeNS(ee,U,he):N.setAttribute(U,he))}else U="-"===U[2]?U.slice(3):Cn(Y,Le)?Le.slice(2):Le[2]+U.slice(3),ie&&ae.rel(N,U,ie,!1),he&&ae.ael(N,U,he,!1)}},sn=/\s/,Bt=N=>N?N.split(sn):[],on=(N,U,ie,he)=>{const ke=11===U.$elm$.nodeType&&U.$elm$.host?U.$elm$.host:U.$elm$,ne=N&&N.$attrs$||Ut,Ae=U.$attrs$||Ut;for(he in ne)he in Ae||bt(ke,he,ne[he],void 0,ie,U.$flags$);for(he in Ae)bt(ke,he,ne[he],Ae[he],ie,U.$flags$)},gt=(N,U,ie,he)=>{const ke=U.$children$[ie];let Ae,Le,ft,ne=0;if(re||(we=!0,"slot"===ke.$tag$&&(Z&&he.classList.add(Z+"-s"),ke.$flags$|=ke.$children$?2:1)),null!==ke.$text$)Ae=ke.$elm$=ye.createTextNode(ke.$text$);else if(1&ke.$flags$)Ae=ke.$elm$=ye.createTextNode("");else{if(fe||(fe="svg"===ke.$tag$),Ae=ke.$elm$=ye.createElementNS(fe?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&ke.$flags$?"slot-fb":ke.$tag$),fe&&"foreignObject"===ke.$tag$&&(fe=!1),on(null,ke,fe),(N=>null!=N)(Z)&&Ae["s-si"]!==Z&&Ae.classList.add(Ae["s-si"]=Z),ke.$children$)for(ne=0;ne<ke.$children$.length;++ne)Le=gt(N,ke,ne,Ae),Le&&Ae.appendChild(Le);"svg"===ke.$tag$?fe=!1:"foreignObject"===Ae.tagName&&(fe=!0)}return Ae["s-hn"]=Se,3&ke.$flags$&&(Ae["s-sr"]=!0,Ae["s-cr"]=Pe,Ae["s-sn"]=ke.$name$||"",ft=N&&N.$children$&&N.$children$[ie],ft&&ft.$tag$===ke.$tag$&&N.$elm$&&Mr(N.$elm$,!1)),Ae},Mr=(N,U)=>{ae.$flags$|=1;const ie=N.childNodes;for(let he=ie.length-1;he>=0;he--){const ke=ie[he];ke["s-hn"]!==Se&&ke["s-ol"]&&(Rr(ke).insertBefore(ke,tn(ke)),ke["s-ol"].remove(),ke["s-ol"]=void 0,we=!0),U&&Mr(ke,U)}ae.$flags$&=-2},Un=(N,U,ie,he,ke,ne)=>{let Le,Ae=N["s-cr"]&&N["s-cr"].parentNode||N;for(Ae.shadowRoot&&Ae.tagName===Se&&(Ae=Ae.shadowRoot);ke<=ne;++ke)he[ke]&&(Le=gt(null,ie,ke,N),Le&&(he[ke].$elm$=Le,Ae.insertBefore(Le,tn(U))))},_r=(N,U,ie,he,ke)=>{for(;U<=ie;++U)(he=N[U])&&(ke=he.$elm$,Vn(he),W=!0,ke["s-ol"]?ke["s-ol"].remove():Mr(ke,!0),ke.remove())},Wt=(N,U)=>N.$tag$===U.$tag$&&("slot"===N.$tag$?N.$name$===U.$name$:N.$key$===U.$key$),tn=N=>N&&N["s-ol"]||N,Rr=N=>(N["s-ol"]?N["s-ol"]:N).parentNode,Cr=(N,U)=>{const ie=U.$elm$=N.$elm$,he=N.$children$,ke=U.$children$,ne=U.$tag$,Ae=U.$text$;let Le;null===Ae?(fe="svg"===ne||"foreignObject"!==ne&&fe,"slot"===ne||on(N,U,fe),null!==he&&null!==ke?((N,U,ie,he)=>{let yr,ui,ke=0,ne=0,Ae=0,Le=0,ft=U.length-1,_t=U[0],Vt=U[ft],qt=he.length-1,gn=he[0],mr=he[qt];for(;ke<=ft&&ne<=qt;)if(null==_t)_t=U[++ke];else if(null==Vt)Vt=U[--ft];else if(null==gn)gn=he[++ne];else if(null==mr)mr=he[--qt];else if(Wt(_t,gn))Cr(_t,gn),_t=U[++ke],gn=he[++ne];else if(Wt(Vt,mr))Cr(Vt,mr),Vt=U[--ft],mr=he[--qt];else if(Wt(_t,mr))("slot"===_t.$tag$||"slot"===mr.$tag$)&&Mr(_t.$elm$.parentNode,!1),Cr(_t,mr),N.insertBefore(_t.$elm$,Vt.$elm$.nextSibling),_t=U[++ke],mr=he[--qt];else if(Wt(Vt,gn))("slot"===_t.$tag$||"slot"===mr.$tag$)&&Mr(Vt.$elm$.parentNode,!1),Cr(Vt,gn),N.insertBefore(Vt.$elm$,_t.$elm$),Vt=U[--ft],gn=he[++ne];else{for(Ae=-1,Le=ke;Le<=ft;++Le)if(U[Le]&&null!==U[Le].$key$&&U[Le].$key$===gn.$key$){Ae=Le;break}Ae>=0?(ui=U[Ae],ui.$tag$!==gn.$tag$?yr=gt(U&&U[ne],ie,Ae,N):(Cr(ui,gn),U[Ae]=void 0,yr=ui.$elm$),gn=he[++ne]):(yr=gt(U&&U[ne],ie,ne,N),gn=he[++ne]),yr&&Rr(_t.$elm$).insertBefore(yr,tn(_t.$elm$))}ke>ft?Un(N,null==he[qt+1]?null:he[qt+1].$elm$,ie,he,ne,qt):ne>qt&&_r(U,ke,ft)})(ie,he,U,ke):null!==ke?(null!==N.$text$&&(ie.textContent=""),Un(ie,null,U,ke,0,ke.length-1)):null!==he&&_r(he,0,he.length-1),fe&&"svg"===ne&&(fe=!1)):(Le=ie["s-cr"])?Le.parentNode.textContent=Ae:N.$text$!==Ae&&(ie.data=Ae)},$n=N=>{const U=N.childNodes;let ie,he,ke,ne,Ae,Le;for(he=0,ke=U.length;he<ke;he++)if(ie=U[he],1===ie.nodeType){if(ie["s-sr"])for(Ae=ie["s-sn"],ie.hidden=!1,ne=0;ne<ke;ne++)if(Le=U[ne].nodeType,U[ne]["s-hn"]!==ie["s-hn"]||""!==Ae){if(1===Le&&Ae===U[ne].getAttribute("slot")){ie.hidden=!0;break}}else if(1===Le||3===Le&&""!==U[ne].textContent.trim()){ie.hidden=!0;break}$n(ie)}},En=[],fr=N=>{let U,ie,he,ke,ne,Ae,Le=0;const ft=N.childNodes,_t=ft.length;for(;Le<_t;Le++){if(U=ft[Le],U["s-sr"]&&(ie=U["s-cr"])&&ie.parentNode)for(he=ie.parentNode.childNodes,ke=U["s-sn"],Ae=he.length-1;Ae>=0;Ae--)ie=he[Ae],!ie["s-cn"]&&!ie["s-nr"]&&ie["s-hn"]!==U["s-hn"]&&(hn(ie,ke)?(ne=En.find(Vt=>Vt.$nodeToRelocate$===ie),W=!0,ie["s-sn"]=ie["s-sn"]||ke,ne?ne.$slotRefNode$=U:En.push({$slotRefNode$:U,$nodeToRelocate$:ie}),ie["s-sr"]&&En.map(Vt=>{hn(Vt.$nodeToRelocate$,ie["s-sn"])&&(ne=En.find(qt=>qt.$nodeToRelocate$===ie),ne&&!Vt.$slotRefNode$&&(Vt.$slotRefNode$=ne.$slotRefNode$))})):En.some(Vt=>Vt.$nodeToRelocate$===ie)||En.push({$nodeToRelocate$:ie}));1===U.nodeType&&fr(U)}},hn=(N,U)=>1===N.nodeType?null===N.getAttribute("slot")&&""===U||N.getAttribute("slot")===U:N["s-sn"]===U||""===U,Vn=N=>{N.$attrs$&&N.$attrs$.ref&&N.$attrs$.ref(null),N.$children$&&N.$children$.map(Vn)},Nn=N=>zn(N).$hostElement$,Zr=(N,U,ie)=>{const he=Nn(N);return{emit:ke=>Tr(he,U,{bubbles:!!(4&ie),composed:!!(2&ie),cancelable:!!(1&ie),detail:ke})}},Tr=(N,U,ie)=>{const he=ae.ce(U,ie);return N.dispatchEvent(he),he},jt=(N,U)=>{U&&!N.$onRenderResolve$&&U["s-p"]&&U["s-p"].push(new Promise(ie=>N.$onRenderResolve$=ie))},vt=(N,U)=>{if(N.$flags$|=16,!(4&N.$flags$))return jt(N,N.$ancestorComponent$),ki(()=>Gt(N,U));N.$flags$|=512},Gt=(N,U)=>{const he=N.$lazyInstance$;let ke;return U&&(N.$flags$|=256,N.$queuedListeners$&&(N.$queuedListeners$.map(([ne,Ae])=>Te(he,ne,Ae)),N.$queuedListeners$=null),ke=Te(he,"componentWillLoad")),ke=lt(ke,()=>Te(he,"componentWillRender")),lt(ke,()=>wn(N,he,U))},wn=function(){var N=(0,u.Z)(function*(U,ie,he){const ke=U.$hostElement$,Ae=ke["s-rc"];he&&(N=>{const U=N.$cmpMeta$,ie=N.$hostElement$,he=U.$flags$,ne=nt(ie.shadowRoot?ie.shadowRoot:ie.getRootNode(),U,N.$modeName$);10&he&&(ie["s-sc"]=ne,ie.classList.add(ne+"-h"),2&he&&ie.classList.add(ne+"-s"))})(U);In(U,ie),Ae&&(Ae.map(ft=>ft()),ke["s-rc"]=void 0);{const ft=ke["s-p"],_t=()=>an(U);0===ft.length?_t():(Promise.all(ft).then(_t),U.$flags$|=4,ft.length=0)}});return function(ie,he,ke){return N.apply(this,arguments)}}(),In=(N,U,ie)=>{try{U=U.render&&U.render(),N.$flags$&=-17,N.$flags$|=2,((N,U)=>{const ie=N.$hostElement$,he=N.$cmpMeta$,ke=N.$vnode$||fn(null,null),ne=(N=>N&&N.$tag$===Sn)(U)?U:dn(null,null,U);if(Se=ie.tagName,he.$attrsToReflect$&&(ne.$attrs$=ne.$attrs$||{},he.$attrsToReflect$.map(([Ae,Le])=>ne.$attrs$[Le]=ie[Ae])),ne.$tag$=null,ne.$flags$|=4,N.$vnode$=ne,ne.$elm$=ke.$elm$=ie.shadowRoot||ie,Z=ie["s-sc"],Pe=ie["s-cr"],re=0!=(1&he.$flags$),W=!1,Cr(ke,ne),ae.$flags$|=1,we){fr(ne.$elm$);let Ae,Le,ft,_t,Vt,qt,gn=0;for(;gn<En.length;gn++)Ae=En[gn],Le=Ae.$nodeToRelocate$,Le["s-ol"]||(ft=ye.createTextNode(""),ft["s-nr"]=Le,Le.parentNode.insertBefore(Le["s-ol"]=ft,Le));for(gn=0;gn<En.length;gn++)if(Ae=En[gn],Le=Ae.$nodeToRelocate$,Ae.$slotRefNode$){for(_t=Ae.$slotRefNode$.parentNode,Vt=Ae.$slotRefNode$.nextSibling,ft=Le["s-ol"];ft=ft.previousSibling;)if(qt=ft["s-nr"],qt&&qt["s-sn"]===Le["s-sn"]&&_t===qt.parentNode&&(qt=qt.nextSibling,!qt||!qt["s-nr"])){Vt=qt;break}(!Vt&&_t!==Le.parentNode||Le.nextSibling!==Vt)&&Le!==Vt&&(!Le["s-hn"]&&Le["s-ol"]&&(Le["s-hn"]=Le["s-ol"].parentNode.nodeName),_t.insertBefore(Le,Vt))}else 1===Le.nodeType&&(Le.hidden=!0)}W&&$n(ne.$elm$),ae.$flags$&=-2,En.length=0})(N,U)}catch(he){Or(he,N.$hostElement$)}return null},an=N=>{const ie=N.$hostElement$,ke=N.$lazyInstance$,ne=N.$ancestorComponent$;Te(ke,"componentDidRender"),64&N.$flags$?Te(ke,"componentDidUpdate"):(N.$flags$|=64,et(ie),Te(ke,"componentDidLoad"),N.$onReadyResolve$(ie),ne||Ie()),N.$onInstanceResolve$(ie),N.$onRenderResolve$&&(N.$onRenderResolve$(),N.$onRenderResolve$=void 0),512&N.$flags$&&Xn(()=>vt(N,!1)),N.$flags$&=-517},Ce=N=>{{const U=zn(N),ie=U.$hostElement$.isConnected;return ie&&2==(18&U.$flags$)&&vt(U,!1),ie}},Ie=N=>{et(ye.documentElement),Xn(()=>Tr(Y,"appload",{detail:{namespace:"ionic"}}))},Te=(N,U,ie)=>{if(N&&N[U])try{return N[U](ie)}catch(he){Or(he)}},lt=(N,U)=>N&&N.then?N.then(U):U(),et=N=>N.classList.add("hydrated"),Dn=(N,U,ie,he,ke,ne,Ae)=>{let Le,ft,_t,Vt;if(1===ne.nodeType){for(Le=ne.getAttribute("c-id"),Le&&(ft=Le.split("."),(ft[0]===Ae||"0"===ft[0])&&(_t={$flags$:0,$hostId$:ft[0],$nodeId$:ft[1],$depth$:ft[2],$index$:ft[3],$tag$:ne.tagName.toLowerCase(),$elm$:ne,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},U.push(_t),ne.removeAttribute("c-id"),N.$children$||(N.$children$=[]),N.$children$[_t.$index$]=_t,N=_t,he&&"0"===_t.$depth$&&(he[_t.$index$]=_t.$elm$))),Vt=ne.childNodes.length-1;Vt>=0;Vt--)Dn(N,U,ie,he,ke,ne.childNodes[Vt],Ae);if(ne.shadowRoot)for(Vt=ne.shadowRoot.childNodes.length-1;Vt>=0;Vt--)Dn(N,U,ie,he,ke,ne.shadowRoot.childNodes[Vt],Ae)}else if(8===ne.nodeType)ft=ne.nodeValue.split("."),(ft[1]===Ae||"0"===ft[1])&&(Le=ft[0],_t={$flags$:0,$hostId$:ft[1],$nodeId$:ft[2],$depth$:ft[3],$index$:ft[4],$elm$:ne,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Le?(_t.$elm$=ne.nextSibling,_t.$elm$&&3===_t.$elm$.nodeType&&(_t.$text$=_t.$elm$.textContent,U.push(_t),ne.remove(),N.$children$||(N.$children$=[]),N.$children$[_t.$index$]=_t,he&&"0"===_t.$depth$&&(he[_t.$index$]=_t.$elm$))):_t.$hostId$===Ae&&("s"===Le?(_t.$tag$="slot",ne["s-sn"]=ft[5]?_t.$name$=ft[5]:"",ne["s-sr"]=!0,he&&(_t.$elm$=ye.createElement(_t.$tag$),_t.$name$&&_t.$elm$.setAttribute("name",_t.$name$),ne.parentNode.insertBefore(_t.$elm$,ne),ne.remove(),"0"===_t.$depth$&&(he[_t.$index$]=_t.$elm$)),ie.push(_t),N.$children$||(N.$children$=[]),N.$children$[_t.$index$]=_t):"r"===Le&&(he?ne.remove():(ke["s-cr"]=ne,ne["s-cn"]=!0))));else if(N&&"style"===N.$tag$){const qt=fn(null,ne.textContent);qt.$elm$=ne,qt.$index$="0",N.$children$=[qt]}},nn=(N,U)=>{if(1===N.nodeType){let ie=0;for(;ie<N.childNodes.length;ie++)nn(N.childNodes[ie],U);if(N.shadowRoot)for(ie=0;ie<N.shadowRoot.childNodes.length;ie++)nn(N.shadowRoot.childNodes[ie],U)}else if(8===N.nodeType){const ie=N.nodeValue.split(".");"o"===ie[0]&&(U.set(ie[1]+"."+ie[2],N),N.nodeValue="",N["s-en"]=ie[3])}},De=(N,U,ie)=>{if(U.$members$){N.watchers&&(U.$watchers$=N.watchers);const he=Object.entries(U.$members$),ke=N.prototype;if(he.map(([ne,[Ae]])=>{31&Ae||2&ie&&32&Ae?Object.defineProperty(ke,ne,{get(){return((N,U)=>zn(this).$instanceValues$.get(U))(0,ne)},set(Le){((N,U,ie,he)=>{const ke=zn(N),ne=ke.$hostElement$,Ae=ke.$instanceValues$.get(U),Le=ke.$flags$,ft=ke.$lazyInstance$;ie=((N,U)=>null==N||yn(N)?N:4&U?"false"!==N&&(""===N||!!N):2&U?parseFloat(N):1&U?String(N):N)(ie,he.$members$[U][0]);const _t=Number.isNaN(Ae)&&Number.isNaN(ie);if((!(8&Le)||void 0===Ae)&&ie!==Ae&&!_t&&(ke.$instanceValues$.set(U,ie),ft)){if(he.$watchers$&&128&Le){const qt=he.$watchers$[U];qt&&qt.map(gn=>{try{ft[gn](ie,Ae,U)}catch(mr){Or(mr,ne)}})}2==(18&Le)&&vt(ke,!1)}})(this,ne,Le,U)},configurable:!0,enumerable:!0}):1&ie&&64&Ae&&Object.defineProperty(ke,ne,{value(...Le){const ft=zn(this);return ft.$onInstancePromise$.then(()=>ft.$lazyInstance$[ne](...Le))}})}),1&ie){const ne=new Map;ke.attributeChangedCallback=function(Ae,Le,ft){ae.jmp(()=>{const _t=ne.get(Ae);if(this.hasOwnProperty(_t))ft=this[_t],delete this[_t];else if(ke.hasOwnProperty(_t)&&"number"==typeof this[_t]&&this[_t]==ft)return;this[_t]=(null!==ft||"boolean"!=typeof this[_t])&&ft})},N.observedAttributes=he.filter(([Ae,Le])=>15&Le[0]).map(([Ae,Le])=>{const ft=Le[1]||Ae;return ne.set(ft,Ae),512&Le[0]&&U.$attrsToReflect$.push([Ae,ft]),ft})}}return N},me=function(){var N=(0,u.Z)(function*(U,ie,he,ke,ne){if(0==(32&ie.$flags$)){{if(ie.$flags$|=32,(ne=Er(he)).then){const _t=()=>{};ne=yield ne,_t()}ne.isProxied||(he.$watchers$=ne.watchers,De(ne,he,2),ne.isProxied=!0);const ft=()=>{};ie.$flags$|=8;try{new ne(ie)}catch(_t){Or(_t)}ie.$flags$&=-9,ie.$flags$|=128,ft(),_e(ie.$lazyInstance$)}if(ne.style){let ft=ne.style;"string"!=typeof ft&&(ft=ft[ie.$modeName$=(N=>wr.map(U=>U(N)).find(U=>!!U))(U)]);const _t=He(he,ie.$modeName$);if(!Hr.has(_t)){const Vt=()=>{};wt(_t,ft,!!(1&he.$flags$)),Vt()}}}const Ae=ie.$ancestorComponent$,Le=()=>vt(ie,!0);Ae&&Ae["s-rc"]?Ae["s-rc"].push(Le):Le()});return function(ie,he,ke,ne,Ae){return N.apply(this,arguments)}}(),_e=N=>{Te(N,"connectedCallback")},zt=N=>{const U=N["s-cr"]=ye.createComment("");U["s-cn"]=!0,N.insertBefore(U,N.firstChild)},or=(N,U={})=>{const he=[],ke=U.exclude||[],ne=Y.customElements,Ae=ye.head,Le=Ae.querySelector("meta[charset]"),ft=ye.createElement("style"),_t=[],Vt=ye.querySelectorAll(`[${Ge}]`);let qt,gn=!0,mr=0;for(Object.assign(ae,U),ae.$resourcesUrl$=new URL(U.resourcesUrl||"./",ye.baseURI).href,ae.$flags$|=2;mr<Vt.length;mr++)wt(Vt[mr].getAttribute(Ge),ze(Vt[mr].innerHTML),!0);N.map(yr=>{yr[1].map(ui=>{const kr={$flags$:ui[0],$tagName$:ui[1],$members$:ui[2],$listeners$:ui[3]};kr.$members$=ui[2],kr.$listeners$=ui[3],kr.$attrsToReflect$=[],kr.$watchers$={};const Qi=kr.$tagName$,Pi=class extends HTMLElement{constructor(ls){super(ls),jr(ls=this,kr),1&kr.$flags$&&ls.attachShadow({mode:"open",delegatesFocus:!!(16&kr.$flags$)})}connectedCallback(){qt&&(clearTimeout(qt),qt=null),gn?_t.push(this):ae.jmp(()=>(N=>{if(0==(1&ae.$flags$)){const U=zn(N),ie=U.$cmpMeta$,he=()=>{};if(1&U.$flags$)be(N,U,ie.$listeners$),_e(U.$lazyInstance$);else{let ke;if(U.$flags$|=1,ke=N.getAttribute(Me),ke){if(1&ie.$flags$){const ne=nt(N.shadowRoot,ie,N.getAttribute("s-mode"));N.classList.remove(ne+"-h",ne+"-s")}((N,U,ie,he)=>{const ne=N.shadowRoot,Ae=[],ft=ne?[]:null,_t=he.$vnode$=fn(U,null);ae.$orgLocNodes$||nn(ye.body,ae.$orgLocNodes$=new Map),N[Me]=ie,N.removeAttribute(Me),Dn(_t,Ae,[],ft,N,N,ie),Ae.map(Vt=>{const qt=Vt.$hostId$+"."+Vt.$nodeId$,gn=ae.$orgLocNodes$.get(qt),mr=Vt.$elm$;gn&&""===gn["s-en"]&&gn.parentNode.insertBefore(mr,gn.nextSibling),ne||(mr["s-hn"]=U,gn&&(mr["s-ol"]=gn,mr["s-ol"]["s-nr"]=mr)),ae.$orgLocNodes$.delete(qt)}),ne&&ft.map(Vt=>{Vt&&ne.appendChild(Vt)})})(N,ie.$tagName$,ke,U)}ke||12&ie.$flags$&&zt(N);{let ne=N;for(;ne=ne.parentNode||ne.host;)if(1===ne.nodeType&&ne.hasAttribute("s-id")&&ne["s-p"]||ne["s-p"]){jt(U,U.$ancestorComponent$=ne);break}}ie.$members$&&Object.entries(ie.$members$).map(([ne,[Ae]])=>{if(31&Ae&&N.hasOwnProperty(ne)){const Le=N[ne];delete N[ne],N[ne]=Le}}),Xn(()=>me(N,U,ie))}he()}})(this))}disconnectedCallback(){ae.jmp(()=>(N=>{if(0==(1&ae.$flags$)){const U=zn(this),ie=U.$lazyInstance$;U.$rmListeners$&&(U.$rmListeners$.map(he=>he()),U.$rmListeners$=void 0),Te(ie,"disconnectedCallback")}})())}componentOnReady(){return zn(this).$onReadyPromise$}};kr.$lazyBundleId$=yr[0],!ke.includes(Qi)&&!ne.get(Qi)&&(he.push(Qi),ne.define(Qi,De(Pi,kr,1)))})}),ft.innerHTML=he+"{visibility:hidden}.hydrated{visibility:inherit}",ft.setAttribute("data-styles",""),Ae.insertBefore(ft,Le?Le.nextSibling:Ae.firstChild),gn=!1,_t.length?_t.map(yr=>yr.connectedCallback()):ae.jmp(()=>qt=setTimeout(Ie,30))},Hn=N=>{const U=new URL(N,ae.$resourcesUrl$);return U.origin!==Y.location.origin?U.href:U.pathname},ur=new WeakMap,zn=N=>ur.get(N),ai=(N,U)=>ur.set(U.$lazyInstance$=N,U),jr=(N,U)=>{const ie={$flags$:0,$hostElement$:N,$cmpMeta$:U,$instanceValues$:new Map};return ie.$onInstancePromise$=new Promise(he=>ie.$onInstanceResolve$=he),ie.$onReadyPromise$=new Promise(he=>ie.$onReadyResolve$=he),N["s-p"]=[],N["s-rc"]=[],be(N,ie,U.$listeners$),ur.set(N,ie)},Cn=(N,U)=>U in N,Or=(N,U)=>(0,console.error)(N,U),cr=new Map,Er=(N,U,ie)=>{const he=N.$tagName$.replace(/-/g,"_"),ke=N.$lazyBundleId$,ne=cr.get(ke);return ne?ne[he]:B(5521)(`./${ke}.entry.js`).then(Ae=>(cr.set(ke,Ae),Ae[he]),Or)},Hr=new Map,wr=[],gr=[],vi=[],Xr=(N,U)=>ie=>{N.push(ie),te||(te=!0,U&&4&ae.$flags$?Xn(Yr):ae.raf(Yr))},qr=N=>{for(let U=0;U<N.length;U++)try{N[U](performance.now())}catch(ie){Or(ie)}N.length=0},Yr=()=>{qr(gr),qr(vi),(te=gr.length>0)&&ae.raf(Yr)},Xn=N=>Ne().then(N),cs=Xr(gr,!1),ki=Xr(vi,!0),qe={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},94:(en,st,B)=>{"use strict";B.d(st,{L:()=>Pe,a:()=>Se,b:()=>re,c:()=>W,d:()=>we,e:()=>Ye,g:()=>se,l:()=>Ot,s:()=>Me,t:()=>Y});var u=B(7036),J=B(8650),Z=B(2921);const Pe="ionViewWillEnter",Se="ionViewDidEnter",re="ionViewWillLeave",W="ionViewDidLeave",we="ionViewWillUnload",Y=ce=>new Promise((ee,le)=>{(0,J.c)(()=>{ye(ce),ae(ce).then(Xe=>{Xe.animation&&Xe.animation.destroy(),pe(ce),ee(Xe)},Xe=>{pe(ce),le(Xe)})})}),ye=ce=>{const ee=ce.enteringEl,le=ce.leavingEl;Ge(ee,le,ce.direction),ce.showGoBack?ee.classList.add("can-go-back"):ee.classList.remove("can-go-back"),Me(ee,!1),ee.style.setProperty("pointer-events","none"),le&&(Me(le,!1),le.style.setProperty("pointer-events","none"))},ae=function(){var ce=(0,u.Z)(function*(ee){const le=yield Fe(ee);return le&&J.B.isBrowser?Ne(le,ee):$e(ee)});return function(le){return ce.apply(this,arguments)}}(),pe=ce=>{const ee=ce.enteringEl,le=ce.leavingEl;ee.classList.remove("ion-page-invisible"),ee.style.removeProperty("pointer-events"),void 0!==le&&(le.classList.remove("ion-page-invisible"),le.style.removeProperty("pointer-events"))},Fe=function(){var ce=(0,u.Z)(function*(ee){return ee.leavingEl&&ee.animated&&0!==ee.duration?ee.animationBuilder?ee.animationBuilder:"ios"===ee.mode?(yield Promise.resolve().then(B.bind(B,2042))).iosTransitionAnimation:(yield Promise.resolve().then(B.bind(B,4437))).mdTransitionAnimation:void 0});return function(le){return ce.apply(this,arguments)}}(),Ne=function(){var ce=(0,u.Z)(function*(ee,le){yield be(le,!0);const Xe=ee(le.baseEl,le);at(le.enteringEl,le.leavingEl);const tt=yield rt(Xe,le);return le.progressCallback&&le.progressCallback(void 0),tt&&Dt(le.enteringEl,le.leavingEl),{hasCompleted:tt,animation:Xe}});return function(le,Xe){return ce.apply(this,arguments)}}(),$e=function(){var ce=(0,u.Z)(function*(ee){const le=ee.enteringEl,Xe=ee.leavingEl;return yield be(ee,!1),at(le,Xe),Dt(le,Xe),{hasCompleted:!0}});return function(le){return ce.apply(this,arguments)}}(),be=function(){var ce=(0,u.Z)(function*(ee,le){const tt=(void 0!==ee.deepWait?ee.deepWait:le)?[Ye(ee.enteringEl),Ye(ee.leavingEl)]:[Ke(ee.enteringEl),Ke(ee.leavingEl)];yield Promise.all(tt),yield ht(ee.viewIsReady,ee.enteringEl)});return function(le,Xe){return ce.apply(this,arguments)}}(),ht=function(){var ce=(0,u.Z)(function*(ee,le){ee&&(yield ee(le))});return function(le,Xe){return ce.apply(this,arguments)}}(),rt=(ce,ee)=>{const le=ee.progressCallback,Xe=new Promise(tt=>{ce.onFinish(wt=>tt(1===wt))});return le?(ce.progressStart(!0),le(ce)):ce.play(),Xe},at=(ce,ee)=>{Ot(ee,re),Ot(ce,Pe)},Dt=(ce,ee)=>{Ot(ce,Se),Ot(ee,W)},Ot=(ce,ee)=>{if(ce){const le=new CustomEvent(ee,{bubbles:!1,cancelable:!1});ce.dispatchEvent(le)}},Ke=ce=>ce?new Promise(ee=>(0,Z.c)(ce,ee)):Promise.resolve(),Ye=function(){var ce=(0,u.Z)(function*(ee){const le=ee;if(le){if(null!=le.componentOnReady){if(null!=(yield le.componentOnReady()))return}else if(null!=le.__registerHost)return void(yield new Promise(tt=>(0,Z.r)(tt)));yield Promise.all(Array.from(le.children).map(Ye))}});return function(le){return ce.apply(this,arguments)}}(),Me=(ce,ee)=>{ee?(ce.setAttribute("aria-hidden","true"),ce.classList.add("ion-page-hidden")):(ce.hidden=!1,ce.removeAttribute("aria-hidden"),ce.classList.remove("ion-page-hidden"))},Ge=(ce,ee,le)=>{void 0!==ce&&(ce.style.zIndex="back"===le?"99":"101"),void 0!==ee&&(ee.style.zIndex="100")},se=ce=>ce.classList.contains("ion-page")?ce:ce.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ce},9570:(en,st,B)=>{"use strict";B.r(st),B.d(st,{GESTURE_CONTROLLER:()=>u.G,createGesture:()=>fe});var u=B(9273);const J=(ae,pe,Fe,Ne)=>{const $e=Z(ae)?{capture:!!Ne.capture,passive:!!Ne.passive}:!!Ne.capture;let be,ht;return ae.__zone_symbol__addEventListener?(be="__zone_symbol__addEventListener",ht="__zone_symbol__removeEventListener"):(be="addEventListener",ht="removeEventListener"),ae[be](pe,Fe,$e),()=>{ae[ht](pe,Fe,$e)}},Z=ae=>{if(void 0===Pe)try{const pe=Object.defineProperty({},"passive",{get:()=>{Pe=!0}});ae.addEventListener("optsTest",()=>{},pe)}catch{Pe=!1}return!!Pe};let Pe;const W=ae=>ae instanceof Document?ae:ae.ownerDocument,fe=ae=>{let pe=!1,Fe=!1,Ne=!0,$e=!1;const be=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ae),ht=be.canStart,rt=be.onWillStart,at=be.onStart,Dt=be.onEnd,Ot=be.notCaptured,Ke=be.onMove,Ye=be.threshold,Me=be.passive,Ge=be.blurOnStart,se={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ce=((ae,pe,Fe)=>{const Ne=Fe*(Math.PI/180),$e="x"===ae,be=Math.cos(Ne),ht=pe*pe;let rt=0,at=0,Dt=!1,Ot=0;return{start(Ke,Ye){rt=Ke,at=Ye,Ot=0,Dt=!0},detect(Ke,Ye){if(!Dt)return!1;const Me=Ke-rt,Ge=Ye-at,se=Me*Me+Ge*Ge;if(se<ht)return!1;const ce=Math.sqrt(se),ee=($e?Me:Ge)/ce;return Ot=ee>be?1:ee<-be?-1:0,Dt=!1,!0},isGesture:()=>0!==Ot,getDirection:()=>Ot}})(be.direction,be.threshold,be.maxAngle),ee=u.G.createGesture({name:ae.gestureName,priority:ae.gesturePriority,disableScroll:ae.disableScroll}),tt=()=>{!pe||($e=!1,Ke&&Ke(se))},wt=()=>!!ee.capture()&&(pe=!0,Ne=!1,se.startX=se.currentX,se.startY=se.currentY,se.startTime=se.currentTime,rt?rt(se).then(Ee):Ee(),!0),Ee=()=>{Ge&&(()=>{if(typeof document<"u"){const It=document.activeElement;It?.blur&&It.blur()}})(),at&&at(se),Ne=!0},He=()=>{pe=!1,Fe=!1,$e=!1,Ne=!0,ee.release()},ze=It=>{const Ut=pe,$t=Ne;if(He(),$t){if(te(se,It),Ut)return void(Dt&&Dt(se));Ot&&Ot(se)}},Be=((ae,pe,Fe,Ne,$e)=>{let be,ht,rt,at,Dt,Ot,Ke,Ye=0;const Me=nt=>{Ye=Date.now()+2e3,pe(nt)&&(!ht&&Fe&&(ht=J(ae,"touchmove",Fe,$e)),rt||(rt=J(nt.target,"touchend",se,$e)),at||(at=J(nt.target,"touchcancel",se,$e)))},Ge=nt=>{Ye>Date.now()||!pe(nt)||(!Ot&&Fe&&(Ot=J(W(ae),"mousemove",Fe,$e)),Ke||(Ke=J(W(ae),"mouseup",ce,$e)))},se=nt=>{ee(),Ne&&Ne(nt)},ce=nt=>{le(),Ne&&Ne(nt)},ee=()=>{ht&&ht(),rt&&rt(),at&&at(),ht=rt=at=void 0},le=()=>{Ot&&Ot(),Ke&&Ke(),Ot=Ke=void 0},Xe=()=>{ee(),le()},tt=(nt=!0)=>{nt?(be||(be=J(ae,"touchstart",Me,$e)),Dt||(Dt=J(ae,"mousedown",Ge,$e))):(be&&be(),Dt&&Dt(),be=Dt=void 0,Xe())};return{enable:tt,stop:Xe,destroy:()=>{tt(!1),Ne=Fe=pe=void 0}}})(be.el,It=>{const Ut=ye(It);return!(Fe||!Ne||(Y(It,se),se.startX=se.currentX,se.startY=se.currentY,se.startTime=se.currentTime=Ut,se.velocityX=se.velocityY=se.deltaX=se.deltaY=0,se.event=It,ht&&!1===ht(se))||(ee.release(),!ee.start()))&&(Fe=!0,0===Ye?wt():(ce.start(se.startX,se.startY),!0))},It=>{pe?!$e&&Ne&&($e=!0,te(se,It),requestAnimationFrame(tt)):(te(se,It),ce.detect(se.currentX,se.currentY)&&(!ce.isGesture()||!wt())&&Ve())},ze,{capture:!1,passive:Me}),Ve=()=>{He(),Be.stop(),Ot&&Ot(se)};return{enable(It=!0){It||(pe&&ze(void 0),He()),Be.enable(It)},destroy(){ee.destroy(),Be.destroy()}}},te=(ae,pe)=>{if(!pe)return;const Fe=ae.currentX,Ne=ae.currentY,$e=ae.currentTime;Y(pe,ae);const be=ae.currentX,ht=ae.currentY,at=(ae.currentTime=ye(pe))-$e;if(at>0&&at<100){const Ot=(ht-Ne)/at;ae.velocityX=(be-Fe)/at*.7+.3*ae.velocityX,ae.velocityY=.7*Ot+.3*ae.velocityY}ae.deltaX=be-ae.startX,ae.deltaY=ht-ae.startY,ae.event=pe},Y=(ae,pe)=>{let Fe=0,Ne=0;if(ae){const $e=ae.changedTouches;if($e&&$e.length>0){const be=$e[0];Fe=be.clientX,Ne=be.clientY}else void 0!==ae.pageX&&(Fe=ae.pageX,Ne=ae.pageY)}pe.currentX=Fe,pe.currentY=Ne},ye=ae=>ae.timeStamp||Date.now()},4573:(en,st,B)=>{"use strict";B.d(st,{a:()=>Y,b:()=>tt,c:()=>Z,g:()=>te,i:()=>wt});var u=B(8650);class J{constructor(){this.m=new Map}reset(Ee){this.m=new Map(Object.entries(Ee))}get(Ee,He){const ze=this.m.get(Ee);return void 0!==ze?ze:He}getBoolean(Ee,He=!1){const ze=this.m.get(Ee);return void 0===ze?He:"string"==typeof ze?"true"===ze:!!ze}getNumber(Ee,He){const ze=parseFloat(this.m.get(Ee));return isNaN(ze)?void 0!==He?He:NaN:ze}set(Ee,He){this.m.set(Ee,He)}}const Z=new J,fe="ionic-persist-config",te=nt=>ye(nt),Y=(nt,Ee)=>("string"==typeof nt&&(Ee=nt,nt=void 0),te(nt).includes(Ee)),ye=(nt=window)=>{if(typeof nt>"u")return[];nt.Ionic=nt.Ionic||{};let Ee=nt.Ionic.platforms;return null==Ee&&(Ee=nt.Ionic.platforms=ae(nt),Ee.forEach(He=>nt.document.documentElement.classList.add(`plt-${He}`))),Ee},ae=nt=>{const Ee=Z.get("platform");return Object.keys(le).filter(He=>{const ze=Ee?.[He];return"function"==typeof ze?ze(nt):le[He](nt)})},Fe=nt=>!!(ce(nt,/iPad/i)||ce(nt,/Macintosh/i)&&Dt(nt)),be=nt=>ce(nt,/android|sink/i),Dt=nt=>ee(nt,"(any-pointer:coarse)"),Ke=nt=>Ye(nt)||Me(nt),Ye=nt=>!!(nt.cordova||nt.phonegap||nt.PhoneGap),Me=nt=>!!nt.Capacitor?.isNative,ce=(nt,Ee)=>Ee.test(nt.navigator.userAgent),ee=(nt,Ee)=>{var He;return null===(He=nt.matchMedia)||void 0===He?void 0:He.call(nt,Ee).matches},le={ipad:Fe,iphone:nt=>ce(nt,/iPhone/i),ios:nt=>ce(nt,/iPhone|iPod/i)||Fe(nt),android:be,phablet:nt=>{const Ee=nt.innerWidth,He=nt.innerHeight,ze=Math.min(Ee,He),Be=Math.max(Ee,He);return ze>390&&ze<520&&Be>620&&Be<800},tablet:nt=>{const Ee=nt.innerWidth,He=nt.innerHeight,ze=Math.min(Ee,He),Be=Math.max(Ee,He);return Fe(nt)||(nt=>be(nt)&&!ce(nt,/mobile/i))(nt)||ze>460&&ze<820&&Be>780&&Be<1400},cordova:Ye,capacitor:Me,electron:nt=>ce(nt,/electron/i),pwa:nt=>{var Ee;return!(!(null===(Ee=nt.matchMedia)||void 0===Ee?void 0:Ee.call(nt,"(display-mode: standalone)").matches)&&!nt.navigator.standalone)},mobile:Dt,mobileweb:nt=>Dt(nt)&&!Ke(nt),desktop:nt=>!Dt(nt),hybrid:Ke};let Xe;const tt=nt=>nt&&(0,u.g)(nt)||Xe,wt=(nt={})=>{if(typeof window>"u")return;const Ee=window.document,He=window,ze=He.Ionic=He.Ionic||{},Be={};nt._ael&&(Be.ael=nt._ael),nt._rel&&(Be.rel=nt._rel),nt._ce&&(Be.ce=nt._ce),(0,u.s)(Be);const Ve=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(nt=>{try{const Ee=nt.sessionStorage.getItem(fe);return null!==Ee?JSON.parse(Ee):{}}catch{return{}}})(He)),{persistConfig:!1}),ze.config),(nt=>{const Ee={};return nt.location.search.slice(1).split("&").map(He=>He.split("=")).map(([He,ze])=>[decodeURIComponent(He),decodeURIComponent(ze)]).filter(([He])=>((nt,Ee)=>nt.substr(0,Ee.length)===Ee)(He,"ionic:")).map(([He,ze])=>[He.slice("ionic:".length),ze]).forEach(([He,ze])=>{Ee[He]=ze}),Ee})(He)),nt);Z.reset(Ve),Z.getBoolean("persistConfig")&&((nt,Ee)=>{try{nt.sessionStorage.setItem(fe,JSON.stringify(Ee))}catch{return}})(He,Ve),ye(He),ze.config=Z,ze.mode=Xe=Z.get("mode",Ee.documentElement.getAttribute("mode")||(Y(He,"ios")?"ios":"md")),Z.set("mode",Xe),Ee.documentElement.setAttribute("mode",Xe),Ee.documentElement.classList.add(Xe),Z.getBoolean("_testing")&&Z.set("animated",!1);const It=$t=>{var yt;return null===(yt=$t.tagName)||void 0===yt?void 0:yt.startsWith("ION-")},Ut=$t=>["ios","md"].includes($t);(0,u.a)($t=>{for(;$t;){const yt=$t.mode||$t.getAttribute("mode");if(yt){if(Ut(yt))return yt;It($t)&&console.warn('Invalid ionic mode: "'+yt+'", expected: "ios" or "md"')}$t=$t.parentElement}return Xe})}},2042:(en,st,B)=>{"use strict";B.r(st),B.d(st,{iosTransitionAnimation:()=>ae,shadow:()=>W});var u=B(5795),J=B(94);B(5103),B(8650);const re=pe=>document.querySelector(`${pe}.ion-cloned-element`),W=pe=>pe.shadowRoot||pe,we=pe=>{const Fe="ION-TABS"===pe.tagName?pe:pe.querySelector("ion-tabs"),Ne="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Fe){const $e=Fe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=$e?$e.querySelector(Ne):null}return pe.querySelector(Ne)},fe=(pe,Fe)=>{const Ne="ION-TABS"===pe.tagName?pe:pe.querySelector("ion-tabs");let $e=[];if(null!=Ne){const be=Ne.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=be&&($e=be.querySelectorAll("ion-buttons"))}else $e=pe.querySelectorAll("ion-buttons");for(const be of $e){const ht=be.closest("ion-header"),rt=ht&&!ht.classList.contains("header-collapse-condense-inactive"),at=be.querySelector("ion-back-button"),Dt=be.classList.contains("buttons-collapse"),Ot="start"===be.slot||""===be.slot;if(null!==at&&Ot&&(Dt&&rt&&Fe||!Dt))return at}return null},Y=(pe,Fe,Ne,$e,be,ht)=>{const rt=Fe?`calc(100% - ${ht.right+4}px)`:ht.left-4+"px",at=Fe?"7px":"-7px",Dt=Fe?"-4px":"4px",Ot=Fe?"-4px":"4px",Ke=Fe?"right":"left",Ye=Fe?"left":"right",se=Ne?[{offset:0,opacity:1,transform:`translate3d(${Dt}, ${ht.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${at}, ${be.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${at}, ${be.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Dt}, ${ht.top-46}px, 0) scale(1)`}],le=Ne?[{offset:0,opacity:1,transform:`translate3d(${Ot}, ${ht.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Ot}, ${ht.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Ot}, ${ht.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ot}, ${ht.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Ot}, ${ht.top-46}px, 0) scale(1)`}],Xe=(0,u.c)(),tt=(0,u.c)(),wt=re("ion-back-button"),nt=W(wt).querySelector(".button-text"),Ee=W(wt).querySelector("ion-icon");wt.text=$e.text,wt.mode=$e.mode,wt.icon=$e.icon,wt.color=$e.color,wt.disabled=$e.disabled,wt.style.setProperty("display","block"),wt.style.setProperty("position","fixed"),tt.addElement(Ee),Xe.addElement(nt),Xe.beforeStyles({"transform-origin":`${Ke} center`}).beforeAddWrite(()=>{$e.style.setProperty("display","none"),wt.style.setProperty(Ke,rt)}).afterAddWrite(()=>{$e.style.setProperty("display",""),wt.style.setProperty("display","none"),wt.style.removeProperty(Ke)}).keyframes(se),tt.beforeStyles({"transform-origin":`${Ye} center`}).keyframes(le),pe.addAnimation([Xe,tt])},ye=(pe,Fe,Ne,$e,be,ht)=>{const rt=Fe?`calc(100% - ${be.right}px)`:`${be.left}px`,at=Fe?"-18px":"18px",Dt=Fe?"right":"left",Ye=Ne?[{offset:0,opacity:0,transform:`translate3d(${at}, ${ht.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${be.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${be.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${at}, ${ht.top-4}px, 0) scale(0.5)`}],Me=re("ion-title"),Ge=(0,u.c)();Me.innerText=$e.innerText,Me.size=$e.size,Me.color=$e.color,Ge.addElement(Me),Ge.beforeStyles({"transform-origin":`${Dt} center`,height:"46px",display:"",position:"relative",[Dt]:rt}).beforeAddWrite(()=>{$e.style.setProperty("display","none")}).afterAddWrite(()=>{$e.style.setProperty("display",""),Me.style.setProperty("display","none")}).keyframes(Ye),pe.addAnimation(Ge)},ae=(pe,Fe)=>{var Ne;try{const $e="cubic-bezier(0.32,0.72,0,1)",be="opacity",ht="transform",rt="0%",Dt="rtl"===pe.ownerDocument.dir,Ot=Dt?"-99.5%":"99.5%",Ke=Dt?"33%":"-33%",Ye=Fe.enteringEl,Me=Fe.leavingEl,Ge="back"===Fe.direction,se=Ye.querySelector(":scope > ion-content"),ce=Ye.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),ee=Ye.querySelectorAll(":scope > ion-header > ion-toolbar"),le=(0,u.c)(),Xe=(0,u.c)();if(le.addElement(Ye).duration((null!==(Ne=Fe.duration)&&void 0!==Ne?Ne:0)||540).easing(Fe.easing||$e).fill("both").beforeRemoveClass("ion-page-invisible"),Me&&null!=pe){const Ee=(0,u.c)();Ee.addElement(pe),le.addAnimation(Ee)}if(se||0!==ee.length||0!==ce.length?(Xe.addElement(se),Xe.addElement(ce)):Xe.addElement(Ye.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),le.addAnimation(Xe),Ge?Xe.beforeClearStyles([be]).fromTo("transform",`translateX(${Ke})`,`translateX(${rt})`).fromTo(be,.8,1):Xe.beforeClearStyles([be]).fromTo("transform",`translateX(${Ot})`,`translateX(${rt})`),se){const Ee=W(se).querySelector(".transition-effect");if(Ee){const He=Ee.querySelector(".transition-cover"),ze=Ee.querySelector(".transition-shadow"),Be=(0,u.c)(),Ve=(0,u.c)(),It=(0,u.c)();Be.addElement(Ee).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ve.addElement(He).beforeClearStyles([be]).fromTo(be,0,.1),It.addElement(ze).beforeClearStyles([be]).fromTo(be,.03,.7),Be.addAnimation([Ve,It]),Xe.addAnimation([Be])}}const tt=Ye.querySelector("ion-header.header-collapse-condense"),{forward:wt,backward:nt}=((pe,Fe,Ne,$e,be)=>{const ht=fe($e,Ne),rt=we(be),at=we($e),Dt=fe(be,Ne),Ot=null!==ht&&null!==rt&&!Ne,Ke=null!==at&&null!==Dt&&Ne;if(Ot){const Ye=rt.getBoundingClientRect(),Me=ht.getBoundingClientRect();ye(pe,Fe,Ne,rt,Ye,Me),Y(pe,Fe,Ne,ht,Ye,Me)}else if(Ke){const Ye=at.getBoundingClientRect(),Me=Dt.getBoundingClientRect();ye(pe,Fe,Ne,at,Ye,Me),Y(pe,Fe,Ne,Dt,Ye,Me)}return{forward:Ot,backward:Ke}})(le,Dt,Ge,Ye,Me);if(ee.forEach(Ee=>{const He=(0,u.c)();He.addElement(Ee),le.addAnimation(He);const ze=(0,u.c)();ze.addElement(Ee.querySelector("ion-title"));const Be=(0,u.c)(),Ve=Array.from(Ee.querySelectorAll("ion-buttons,[menuToggle]")),It=Ee.closest("ion-header"),Ut=It?.classList.contains("header-collapse-condense-inactive");let $t;$t=Ve.filter(Ge?fn=>{const Sn=fn.classList.contains("buttons-collapse");return Sn&&!Ut||!Sn}:fn=>!fn.classList.contains("buttons-collapse")),Be.addElement($t);const yt=(0,u.c)();yt.addElement(Ee.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const _n=(0,u.c)();_n.addElement(W(Ee).querySelector(".toolbar-background"));const yn=(0,u.c)(),dn=Ee.querySelector("ion-back-button");if(dn&&yn.addElement(dn),He.addAnimation([ze,Be,yt,_n,yn]),Be.fromTo(be,.01,1),yt.fromTo(be,.01,1),Ge)Ut||ze.fromTo("transform",`translateX(${Ke})`,`translateX(${rt})`).fromTo(be,.01,1),yt.fromTo("transform",`translateX(${Ke})`,`translateX(${rt})`),yn.fromTo(be,.01,1);else if(tt||ze.fromTo("transform",`translateX(${Ot})`,`translateX(${rt})`).fromTo(be,.01,1),yt.fromTo("transform",`translateX(${Ot})`,`translateX(${rt})`),_n.beforeClearStyles([be,"transform"]),It?.translucent?_n.fromTo("transform",Dt?"translateX(-100%)":"translateX(100%)","translateX(0px)"):_n.fromTo(be,.01,"var(--opacity)"),wt||yn.fromTo(be,.01,1),dn&&!wt){const Sn=(0,u.c)();Sn.addElement(W(dn).querySelector(".button-text")).fromTo("transform",Dt?"translateX(-100px)":"translateX(100px)","translateX(0px)"),He.addAnimation(Sn)}}),Me){const Ee=(0,u.c)(),He=Me.querySelector(":scope > ion-content"),ze=Me.querySelectorAll(":scope > ion-header > ion-toolbar"),Be=Me.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(He||0!==ze.length||0!==Be.length?(Ee.addElement(He),Ee.addElement(Be)):Ee.addElement(Me.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),le.addAnimation(Ee),Ge){Ee.beforeClearStyles([be]).fromTo("transform",`translateX(${rt})`,Dt?"translateX(-100%)":"translateX(100%)");const Ve=(0,J.g)(Me);le.afterAddWrite(()=>{"normal"===le.getDirection()&&Ve.style.setProperty("display","none")})}else Ee.fromTo("transform",`translateX(${rt})`,`translateX(${Ke})`).fromTo(be,1,.8);if(He){const Ve=W(He).querySelector(".transition-effect");if(Ve){const It=Ve.querySelector(".transition-cover"),Ut=Ve.querySelector(".transition-shadow"),$t=(0,u.c)(),yt=(0,u.c)(),_n=(0,u.c)();$t.addElement(Ve).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),yt.addElement(It).beforeClearStyles([be]).fromTo(be,.1,0),_n.addElement(Ut).beforeClearStyles([be]).fromTo(be,.7,.03),$t.addAnimation([yt,_n]),Ee.addAnimation([$t])}}ze.forEach(Ve=>{const It=(0,u.c)();It.addElement(Ve);const Ut=(0,u.c)();Ut.addElement(Ve.querySelector("ion-title"));const $t=(0,u.c)(),yt=Ve.querySelectorAll("ion-buttons,[menuToggle]"),_n=Ve.closest("ion-header"),yn=_n?.classList.contains("header-collapse-condense-inactive"),dn=Array.from(yt).filter(Mt=>{const bt=Mt.classList.contains("buttons-collapse");return bt&&!yn||!bt});$t.addElement(dn);const fn=(0,u.c)(),Sn=Ve.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Sn.length>0&&fn.addElement(Sn);const Yn=(0,u.c)();Yn.addElement(W(Ve).querySelector(".toolbar-background"));const ar=(0,u.c)(),Ct=Ve.querySelector("ion-back-button");if(Ct&&ar.addElement(Ct),It.addAnimation([Ut,$t,fn,ar,Yn]),le.addAnimation(It),ar.fromTo(be,.99,0),$t.fromTo(be,.99,0),fn.fromTo(be,.99,0),Ge){if(yn||Ut.fromTo("transform",`translateX(${rt})`,Dt?"translateX(-100%)":"translateX(100%)").fromTo(be,.99,0),fn.fromTo("transform",`translateX(${rt})`,Dt?"translateX(-100%)":"translateX(100%)"),Yn.beforeClearStyles([be,"transform"]),_n?.translucent?Yn.fromTo("transform","translateX(0px)",Dt?"translateX(-100%)":"translateX(100%)"):Yn.fromTo(be,"var(--opacity)",0),Ct&&!nt){const bt=(0,u.c)();bt.addElement(W(Ct).querySelector(".button-text")).fromTo("transform",`translateX(${rt})`,`translateX(${(Dt?-124:124)+"px"})`),It.addAnimation(bt)}}else yn||Ut.fromTo("transform",`translateX(${rt})`,`translateX(${Ke})`).fromTo(be,.99,0).afterClearStyles([ht,be]),fn.fromTo("transform",`translateX(${rt})`,`translateX(${Ke})`).afterClearStyles([ht,be]),ar.afterClearStyles([be]),Ut.afterClearStyles([be]),$t.afterClearStyles([be])})}return le}catch($e){throw $e}}},4437:(en,st,B)=>{"use strict";B.r(st),B.d(st,{mdTransitionAnimation:()=>Se});var u=B(5795),J=B(94);B(5103),B(8650);const Se=(re,W)=>{var we,fe,te;const ae="back"===W.direction,Fe=W.leavingEl,Ne=(0,J.g)(W.enteringEl),$e=Ne.querySelector("ion-toolbar"),be=(0,u.c)();if(be.addElement(Ne).fill("both").beforeRemoveClass("ion-page-invisible"),ae?be.duration((null!==(we=W.duration)&&void 0!==we?we:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):be.duration((null!==(fe=W.duration)&&void 0!==fe?fe:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),$e){const ht=(0,u.c)();ht.addElement($e),be.addAnimation(ht)}if(Fe&&ae){be.duration((null!==(te=W.duration)&&void 0!==te?te:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const ht=(0,u.c)();ht.addElement((0,J.g)(Fe)).onFinish(rt=>{1===rt&&ht.elements.length>0&&ht.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),be.addAnimation(ht)}return be}},178:(en,st,B)=>{"use strict";B.d(st,{B:()=>He,a:()=>we,b:()=>fe,c:()=>ae,d:()=>Ge,e:()=>Fe,f:()=>ce,g:()=>Xe,h:()=>re,i:()=>wt,j:()=>be,k:()=>Ye,m:()=>Y,s:()=>Ee});var u=B(7036),J=B(4573),Z=B(4210),Pe=B(2921);let Se=0;const re=new WeakMap,W=ze=>({create:Be=>Ne(ze,Be),dismiss:(Be,Ve,It)=>Ot(document,Be,Ve,ze,It),getTop:()=>(0,u.Z)(function*(){return Ye(document,ze)})()}),we=W("ion-alert"),fe=W("ion-action-sheet"),Y=W("ion-modal"),ae=W("ion-popover"),Fe=ze=>{typeof document<"u"&&Dt(document);const Be=Se++;ze.overlayIndex=Be,ze.hasAttribute("id")||(ze.id=`ion-overlay-${Be}`)},Ne=(ze,Be)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(ze).then(()=>{const Ve=document.createElement(ze);return Ve.classList.add("overlay-hidden"),Object.assign(Ve,Object.assign(Object.assign({},Be),{hasController:!0})),ee(document).appendChild(Ve),new Promise(It=>(0,Pe.c)(Ve,It))}):Promise.resolve(),$e='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',be=(ze,Be)=>{let Ve=ze.querySelector($e);const It=Ve?.shadowRoot;It&&(Ve=It.querySelector($e)||Ve),Ve?(0,Pe.f)(Ve):Be.focus()},rt=(ze,Be)=>{const Ve=Array.from(ze.querySelectorAll($e));let It=Ve.length>0?Ve[Ve.length-1]:null;const Ut=It?.shadowRoot;Ut&&(It=Ut.querySelector($e)||It),It?It.focus():Be.focus()},Dt=ze=>{0===Se&&(Se=1,ze.addEventListener("focus",Be=>{((ze,Be)=>{const Ve=Ye(Be,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),It=ze.target;Ve&&It&&!Ve.classList.contains("ion-disable-focus-trap")&&(Ve.shadowRoot?(()=>{if(Ve.contains(It))Ve.lastFocus=It;else{const yt=Ve.lastFocus;be(Ve,Ve),yt===Be.activeElement&&rt(Ve,Ve),Ve.lastFocus=Be.activeElement}})():(()=>{if(Ve===It)Ve.lastFocus=void 0;else{const yt=(0,Pe.g)(Ve);if(!yt.contains(It))return;const _n=yt.querySelector(".ion-overlay-wrapper");if(!_n)return;if(_n.contains(It))Ve.lastFocus=It;else{const yn=Ve.lastFocus;be(_n,Ve),yn===Be.activeElement&&rt(_n,Ve),Ve.lastFocus=Be.activeElement}}})())})(Be,ze)},!0),ze.addEventListener("ionBackButton",Be=>{const Ve=Ye(ze);Ve?.backdropDismiss&&Be.detail.register(Z.OVERLAY_BACK_BUTTON_PRIORITY,()=>Ve.dismiss(void 0,He))}),ze.addEventListener("keyup",Be=>{if("Escape"===Be.key){const Ve=Ye(ze);Ve?.backdropDismiss&&Ve.dismiss(void 0,He)}}))},Ot=(ze,Be,Ve,It,Ut)=>{const $t=Ye(ze,It,Ut);return $t?$t.dismiss(Be,Ve):Promise.reject("overlay does not exist")},Ye=(ze,Be,Ve)=>{const It=((ze,Be)=>(void 0===Be&&(Be="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(ze.querySelectorAll(Be)).filter(Ve=>Ve.overlayIndex>0)))(ze,Be).filter(Ut=>!(ze=>ze.classList.contains("overlay-hidden"))(Ut));return void 0===Ve?It[It.length-1]:It.find(Ut=>Ut.id===Ve)},Me=(ze=!1)=>{const Ve=ee(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!Ve||(ze?Ve.setAttribute("aria-hidden","true"):Ve.removeAttribute("aria-hidden"))},Ge=function(){var ze=(0,u.Z)(function*(Be,Ve,It,Ut,$t){var yt,_n;if(Be.presented)return;Me(!0),Be.presented=!0,Be.willPresent.emit(),null===(yt=Be.willPresentShorthand)||void 0===yt||yt.emit();const yn=(0,J.b)(Be),dn=Be.enterAnimation?Be.enterAnimation:J.c.get(Ve,"ios"===yn?It:Ut);(yield le(Be,dn,Be.el,$t))&&(Be.didPresent.emit(),null===(_n=Be.didPresentShorthand)||void 0===_n||_n.emit()),"ION-TOAST"!==Be.el.tagName&&se(Be.el),Be.keyboardClose&&(null===document.activeElement||!Be.el.contains(document.activeElement))&&Be.el.focus()});return function(Ve,It,Ut,$t,yt){return ze.apply(this,arguments)}}(),se=function(){var ze=(0,u.Z)(function*(Be){let Ve=document.activeElement;if(!Ve)return;const It=Ve?.shadowRoot;It&&(Ve=It.querySelector($e)||Ve),yield Be.onDidDismiss(),Ve.focus()});return function(Ve){return ze.apply(this,arguments)}}(),ce=function(){var ze=(0,u.Z)(function*(Be,Ve,It,Ut,$t,yt,_n){var yn,dn;if(!Be.presented)return!1;Me(!1),Be.presented=!1;try{Be.el.style.setProperty("pointer-events","none"),Be.willDismiss.emit({data:Ve,role:It}),null===(yn=Be.willDismissShorthand)||void 0===yn||yn.emit({data:Ve,role:It});const fn=(0,J.b)(Be),Sn=Be.leaveAnimation?Be.leaveAnimation:J.c.get(Ut,"ios"===fn?$t:yt);"gesture"!==It&&(yield le(Be,Sn,Be.el,_n)),Be.didDismiss.emit({data:Ve,role:It}),null===(dn=Be.didDismissShorthand)||void 0===dn||dn.emit({data:Ve,role:It}),re.delete(Be),Be.el.classList.add("overlay-hidden"),Be.el.style.removeProperty("pointer-events")}catch(fn){console.error(fn)}return Be.el.remove(),!0});return function(Ve,It,Ut,$t,yt,_n,yn){return ze.apply(this,arguments)}}(),ee=ze=>ze.querySelector("ion-app")||ze.body,le=function(){var ze=(0,u.Z)(function*(Be,Ve,It,Ut){It.classList.remove("overlay-hidden");const yt=Ve(Be.el,Ut);(!Be.animated||!J.c.getBoolean("animated",!0))&&yt.duration(0),Be.keyboardClose&&yt.beforeAddWrite(()=>{const yn=It.ownerDocument.activeElement;yn?.matches("input,ion-input, ion-textarea")&&yn.blur()});const _n=re.get(Be)||[];return re.set(Be,[..._n,yt]),yield yt.play(),!0});return function(Ve,It,Ut,$t){return ze.apply(this,arguments)}}(),Xe=(ze,Be)=>{let Ve;const It=new Promise(Ut=>Ve=Ut);return tt(ze,Be,Ut=>{Ve(Ut.detail)}),It},tt=(ze,Be,Ve)=>{const It=Ut=>{(0,Pe.b)(ze,Be,It),Ve(Ut)};(0,Pe.a)(ze,Be,It)},wt=ze=>"cancel"===ze||ze===He,nt=ze=>ze(),Ee=(ze,Be)=>{if("function"==typeof ze)return J.c.get("_zoneGate",nt)(()=>{try{return ze(Be)}catch(It){throw It}})},He="backdrop"},7121:(en,st,B)=>{"use strict";var u=B(1657),J=B(3363),Z=B(4206),Pe=B(8413);const Se=[{path:"",loadChildren:()=>Promise.all([B.e(6104),B.e(2689)]).then(B.bind(B,2689)).then(Ct=>Ct.TabsPageModule)},{path:"tab4",loadChildren:()=>Promise.all([B.e(6104),B.e(8592)]).then(B.bind(B,2039)).then(Ct=>Ct.Tab4PageModule)}];let re=(()=>{class Ct{}return Ct.\u0275fac=function(bt){return new(bt||Ct)},Ct.\u0275mod=J.oAB({type:Ct}),Ct.\u0275inj=J.cJS({imports:[Z.Bz.forRoot(Se,{preloadingStrategy:Z.wm}),Z.Bz]}),Ct})(),W=(()=>{class Ct{constructor(){}}return Ct.\u0275fac=function(bt){return new(bt||Ct)},Ct.\u0275cmp=J.Xpm({type:Ct,selectors:[["app-root"]],decls:2,vars:0,template:function(bt,sn){1&bt&&(J.TgZ(0,"ion-app"),J._UZ(1,"ion-router-outlet"),J.qZA())},dependencies:[Pe.dr,Pe.jP]}),Ct})();var we=B(3417);const fe_firebaseConfig={apiKey:"AIzaSyCspek3sCLI8TWSSRwXKeXX1t78_LJ_A8c",authDomain:"project-mmo-2.firebaseapp.com",projectId:"project-mmo-2",storageBucket:"project-mmo-2.appspot.com",messagingSenderId:"365829673835",appId:"1:365829673835:web:e4e2dab5c93cd4c4ff722e"};var te=B(3183),Y=B(1883),ye=B(1320),ae=B(6333),pe=B(2422),Fe=B(4918),Ne=B(9425),$e=B(6366),be=B(6810),ht=B(96),rt=B(8423);const at=new ht.y(rt.Z);var Ot=B(6984),Ke=B(4795),Ye=B(2330),Me=B(8959),Ge=B(9465),ce=B(53),ee=B(2045),le=B(3094),tt=B(1680),wt=B(147);class Ee{constructor(Mt,bt){this.delay=Mt,this.scheduler=bt}call(Mt,bt){return bt.subscribe(new He(Mt,this.delay,this.scheduler))}}class He extends tt.L{constructor(Mt,bt,sn){super(Mt),this.delay=bt,this.scheduler=sn,this.queue=[],this.active=!1,this.errored=!1}static dispatch(Mt){const bt=Mt.source,sn=bt.queue,Bt=Mt.scheduler,on=Mt.destination;for(;sn.length>0&&sn[0].time-Bt.now()<=0;)sn.shift().notification.observe(on);if(sn.length>0){const gt=Math.max(0,sn[0].time-Bt.now());this.schedule(Mt,gt)}else this.unsubscribe(),bt.active=!1}_schedule(Mt){this.active=!0,this.destination.add(Mt.schedule(He.dispatch,this.delay,{source:this,destination:this.destination,scheduler:Mt}))}scheduleNotification(Mt){if(!0===this.errored)return;const bt=this.scheduler,sn=new ze(bt.now()+this.delay,Mt);this.queue.push(sn),!1===this.active&&this._schedule(bt)}_next(Mt){this.scheduleNotification(wt.P.createNext(Mt))}_error(Mt){this.errored=!0,this.queue=[],this.destination.error(Mt),this.unsubscribe()}_complete(){this.scheduleNotification(wt.P.createComplete()),this.unsubscribe()}}class ze{constructor(Mt,bt){this.time=Mt,this.notification=bt}}const Be="Service workers are disabled or not supported by this browser";class It{constructor(Mt){if(this.serviceWorker=Mt,Mt){const sn=(0,Fe.R)(Mt,"controllerchange").pipe((0,Ke.U)(()=>Mt.controller)),Bt=(0,ae.P)(()=>(0,Ne.of)(Mt.controller)),on=(0,$e.z)(Bt,sn);this.worker=on.pipe((0,Ye.h)(qn=>!!qn)),this.registration=this.worker.pipe((0,Me.w)(()=>Mt.getRegistration()));const _r=(0,Fe.R)(Mt,"message").pipe((0,Ke.U)(qn=>qn.data)).pipe((0,Ye.h)(qn=>qn&&qn.type)).pipe(function se(Ct){return Ct?(0,Ge.O)(()=>new be.xQ,Ct):(0,Ge.O)(new be.xQ)}());_r.connect(),this.events=_r}else this.worker=this.events=this.registration=function Ve(Ct){return(0,ae.P)(()=>(0,pe._)(new Error(Ct)))}(Be)}postMessage(Mt,bt){return this.worker.pipe((0,ce.q)(1),(0,ee.b)(sn=>{sn.postMessage({action:Mt,...bt})})).toPromise().then(()=>{})}postMessageWithOperation(Mt,bt,sn){const Bt=this.waitForOperationCompleted(sn),on=this.postMessage(Mt,bt);return Promise.all([on,Bt]).then(([,gt])=>gt)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(Mt){let bt;return bt="string"==typeof Mt?sn=>sn.type===Mt:sn=>Mt.includes(sn.type),this.events.pipe((0,Ye.h)(bt))}nextEventOfType(Mt){return this.eventsOfType(Mt).pipe((0,ce.q)(1))}waitForOperationCompleted(Mt){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Ye.h)(bt=>bt.nonce===Mt),(0,ce.q)(1),(0,Ke.U)(bt=>{if(void 0!==bt.result)return bt.result;throw new Error(bt.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Ut=(()=>{class Ct{constructor(bt){if(this.sw=bt,this.subscriptionChanges=new be.xQ,!bt.isEnabled)return this.messages=at,this.notificationClicks=at,void(this.subscription=at);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Ke.U)(Bt=>Bt.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Ke.U)(Bt=>Bt.data)),this.pushManager=this.sw.registration.pipe((0,Ke.U)(Bt=>Bt.pushManager));const sn=this.pushManager.pipe((0,Me.w)(Bt=>Bt.getSubscription()));this.subscription=(0,Ot.T)(sn,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(bt){if(!this.sw.isEnabled)return Promise.reject(new Error(Be));const sn={userVisibleOnly:!0};let Bt=this.decodeBase64(bt.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),on=new Uint8Array(new ArrayBuffer(Bt.length));for(let gt=0;gt<Bt.length;gt++)on[gt]=Bt.charCodeAt(gt);return sn.applicationServerKey=on,this.pushManager.pipe((0,Me.w)(gt=>gt.subscribe(sn)),(0,ce.q)(1)).toPromise().then(gt=>(this.subscriptionChanges.next(gt),gt))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,ce.q)(1),(0,Me.w)(sn=>{if(null===sn)throw new Error("Not subscribed to push notifications.");return sn.unsubscribe().then(Bt=>{if(!Bt)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Be))}decodeBase64(bt){return atob(bt)}}return Ct.\u0275fac=function(bt){return new(bt||Ct)(J.LFG(It))},Ct.\u0275prov=J.Yz7({token:Ct,factory:Ct.\u0275fac}),Ct})(),$t=(()=>{class Ct{constructor(bt){if(this.sw=bt,!bt.isEnabled)return this.versionUpdates=at,this.available=at,this.activated=at,void(this.unrecoverable=at);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,Ye.h)(sn=>"VERSION_READY"===sn.type),(0,Ke.U)(sn=>({type:"UPDATE_AVAILABLE",current:sn.currentVersion,available:sn.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Be));const bt=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:bt},bt)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Be));const bt=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:bt},bt)}}return Ct.\u0275fac=function(bt){return new(bt||Ct)(J.LFG(It))},Ct.\u0275prov=J.Yz7({token:Ct,factory:Ct.\u0275fac}),Ct})();class yt{}const _n=new J.OlP("NGSW_REGISTER_SCRIPT");function yn(Ct,Mt,bt,sn){return()=>{if(!(0,ye.NF)(sn)||!("serviceWorker"in navigator)||!1===bt.enabled)return;let Bt;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof bt.registrationStrategy)Bt=bt.registrationStrategy();else{const[gt,...Mr]=(bt.registrationStrategy||"registerWhenStable:30000").split(":");switch(gt){case"registerImmediately":Bt=(0,Ne.of)(null);break;case"registerWithDelay":Bt=dn(+Mr[0]||0);break;case"registerWhenStable":Bt=Mr[0]?(0,Ot.T)(fn(Ct),dn(+Mr[0])):fn(Ct);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${bt.registrationStrategy}`)}}Ct.get(J.R0b).runOutsideAngular(()=>Bt.pipe((0,ce.q)(1)).subscribe(()=>navigator.serviceWorker.register(Mt,{scope:bt.scope}).catch(gt=>console.error("Service worker registration failed with:",gt))))}}function dn(Ct){return(0,Ne.of)(null).pipe(function nt(Ct,Mt=le.P){const sn=function Xe(Ct){return Ct instanceof Date&&!isNaN(+Ct)}(Ct)?+Ct-Mt.now():Math.abs(Ct);return Bt=>Bt.lift(new Ee(sn,Mt))}(Ct))}function fn(Ct){return Ct.get(J.z2F).isStable.pipe((0,Ye.h)(bt=>bt))}function Sn(Ct,Mt){return new It((0,ye.NF)(Mt)&&!1!==Ct.enabled?navigator.serviceWorker:void 0)}let Yn=(()=>{class Ct{static register(bt,sn={}){return{ngModule:Ct,providers:[{provide:_n,useValue:bt},{provide:yt,useValue:sn},{provide:It,useFactory:Sn,deps:[yt,J.Lbi]},{provide:J.ip1,useFactory:yn,deps:[J.zs3,_n,yt,J.Lbi],multi:!0}]}}}return Ct.\u0275fac=function(bt){return new(bt||Ct)},Ct.\u0275mod=J.oAB({type:Ct}),Ct.\u0275inj=J.cJS({providers:[Ut,$t]}),Ct})(),ar=(()=>{class Ct{}return Ct.\u0275fac=function(bt){return new(bt||Ct)},Ct.\u0275mod=J.oAB({type:Ct,bootstrap:[W]}),Ct.\u0275inj=J.cJS({providers:[{provide:Z.wN,useClass:Pe.r4}],imports:[u.b2,Pe.Pc.forRoot(),re,(0,we.hX)(()=>(0,we.ZF)(fe_firebaseConfig)),(0,Y.Cm)(()=>{const Mt=(0,Y.ad)();return(0,Y.fH)(Mt),Mt}),(0,te.AR)(()=>(0,te.v0)()),Yn.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]}),Ct})();(0,J.G48)(),u.q6().bootstrapModule(ar).catch(Ct=>console.log(Ct))},9826:(en,st,B)=>{"use strict";B.d(st,{C6:()=>u.C6,KN:()=>u.KN,Mq:()=>u.Mq,ZF:()=>u.ZF});var u=B(5875);(0,u.KN)("firebase","9.14.0","app")},6308:(en,st,B)=>{"use strict";B.d(st,{X:()=>Z});var u=B(6810),J=B(7921);class Z extends u.xQ{constructor(Se){super(),this._value=Se}get value(){return this.getValue()}_subscribe(Se){const re=super._subscribe(Se);return re&&!re.closed&&Se.next(this._value),re}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new J.N;return this._value}next(Se){super.next(this._value=Se)}}},147:(en,st,B)=>{"use strict";B.d(st,{P:()=>Se});var u=B(5763),J=B(9425),Z=B(2422);class Se{constructor(W,we,fe){this.kind=W,this.value=we,this.error=fe,this.hasValue="N"===W}observe(W){switch(this.kind){case"N":return W.next&&W.next(this.value);case"E":return W.error&&W.error(this.error);case"C":return W.complete&&W.complete()}}do(W,we,fe){switch(this.kind){case"N":return W&&W(this.value);case"E":return we&&we(this.error);case"C":return fe&&fe()}}accept(W,we,fe){return W&&"function"==typeof W.next?this.observe(W):this.do(W,we,fe)}toObservable(){switch(this.kind){case"N":return(0,J.of)(this.value);case"E":return(0,Z._)(this.error);case"C":return(0,u.c)()}throw new Error("unexpected notification kind value")}static createNext(W){return typeof W<"u"?new Se("N",W):Se.undefinedValueNotification}static createError(W){return new Se("E",void 0,W)}static createComplete(){return Se.completeNotification}}Se.completeNotification=new Se("C"),Se.undefinedValueNotification=new Se("N",void 0)},96:(en,st,B)=>{"use strict";B.d(st,{y:()=>fe});var u=B(1680),Z=B(4999),Pe=B(6435),re=B(5370),W=B(4917),we=B(1033);let fe=(()=>{class Y{constructor(ae){this._isScalar=!1,ae&&(this._subscribe=ae)}lift(ae){const pe=new Y;return pe.source=this,pe.operator=ae,pe}subscribe(ae,pe,Fe){const{operator:Ne}=this,$e=function Se(Y,ye,ae){if(Y){if(Y instanceof u.L)return Y;if(Y[Z.b])return Y[Z.b]()}return Y||ye||ae?new u.L(Y,ye,ae):new u.L(Pe.c)}(ae,pe,Fe);if($e.add(Ne?Ne.call($e,this.source):this.source||we.v.useDeprecatedSynchronousErrorHandling&&!$e.syncErrorThrowable?this._subscribe($e):this._trySubscribe($e)),we.v.useDeprecatedSynchronousErrorHandling&&$e.syncErrorThrowable&&($e.syncErrorThrowable=!1,$e.syncErrorThrown))throw $e.syncErrorValue;return $e}_trySubscribe(ae){try{return this._subscribe(ae)}catch(pe){we.v.useDeprecatedSynchronousErrorHandling&&(ae.syncErrorThrown=!0,ae.syncErrorValue=pe),function J(Y){for(;Y;){const{closed:ye,destination:ae,isStopped:pe}=Y;if(ye||pe)return!1;Y=ae&&ae instanceof u.L?ae:null}return!0}(ae)?ae.error(pe):console.warn(pe)}}forEach(ae,pe){return new(pe=te(pe))((Fe,Ne)=>{let $e;$e=this.subscribe(be=>{try{ae(be)}catch(ht){Ne(ht),$e&&$e.unsubscribe()}},Ne,Fe)})}_subscribe(ae){const{source:pe}=this;return pe&&pe.subscribe(ae)}[re.L](){return this}pipe(...ae){return 0===ae.length?this:(0,W.U)(ae)(this)}toPromise(ae){return new(ae=te(ae))((pe,Fe)=>{let Ne;this.subscribe($e=>Ne=$e,$e=>Fe($e),()=>pe(Ne))})}}return Y.create=ye=>new Y(ye),Y})();function te(Y){if(Y||(Y=we.v.Promise||Promise),!Y)throw new Error("no Promise impl found");return Y}},6435:(en,st,B)=>{"use strict";B.d(st,{c:()=>Z});var u=B(1033),J=B(729);const Z={closed:!0,next(Pe){},error(Pe){if(u.v.useDeprecatedSynchronousErrorHandling)throw Pe;(0,J.z)(Pe)},complete(){}}},6810:(en,st,B)=>{"use strict";B.d(st,{xQ:()=>we,Yc:()=>W});var u=B(96),J=B(1680),Z=B(1576),Pe=B(7921);class Se extends Z.w{constructor(Y,ye){super(),this.subject=Y,this.subscriber=ye,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Y=this.subject,ye=Y.observers;if(this.subject=null,!ye||0===ye.length||Y.isStopped||Y.closed)return;const ae=ye.indexOf(this.subscriber);-1!==ae&&ye.splice(ae,1)}}var re=B(4999);class W extends J.L{constructor(Y){super(Y),this.destination=Y}}let we=(()=>{class te extends u.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[re.b](){return new W(this)}lift(ye){const ae=new fe(this,this);return ae.operator=ye,ae}next(ye){if(this.closed)throw new Pe.N;if(!this.isStopped){const{observers:ae}=this,pe=ae.length,Fe=ae.slice();for(let Ne=0;Ne<pe;Ne++)Fe[Ne].next(ye)}}error(ye){if(this.closed)throw new Pe.N;this.hasError=!0,this.thrownError=ye,this.isStopped=!0;const{observers:ae}=this,pe=ae.length,Fe=ae.slice();for(let Ne=0;Ne<pe;Ne++)Fe[Ne].error(ye);this.observers.length=0}complete(){if(this.closed)throw new Pe.N;this.isStopped=!0;const{observers:ye}=this,ae=ye.length,pe=ye.slice();for(let Fe=0;Fe<ae;Fe++)pe[Fe].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ye){if(this.closed)throw new Pe.N;return super._trySubscribe(ye)}_subscribe(ye){if(this.closed)throw new Pe.N;return this.hasError?(ye.error(this.thrownError),Z.w.EMPTY):this.isStopped?(ye.complete(),Z.w.EMPTY):(this.observers.push(ye),new Se(this,ye))}asObservable(){const ye=new u.y;return ye.source=this,ye}}return te.create=(Y,ye)=>new fe(Y,ye),te})();class fe extends we{constructor(Y,ye){super(),this.destination=Y,this.source=ye}next(Y){const{destination:ye}=this;ye&&ye.next&&ye.next(Y)}error(Y){const{destination:ye}=this;ye&&ye.error&&this.destination.error(Y)}complete(){const{destination:Y}=this;Y&&Y.complete&&this.destination.complete()}_subscribe(Y){const{source:ye}=this;return ye?this.source.subscribe(Y):Z.w.EMPTY}}},1680:(en,st,B)=>{"use strict";B.d(st,{L:()=>W});var u=B(5843),J=B(6435),Z=B(1576),Pe=B(4999),Se=B(1033),re=B(729);class W extends Z.w{constructor(te,Y,ye){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=J.c;break;case 1:if(!te){this.destination=J.c;break}if("object"==typeof te){te instanceof W?(this.syncErrorThrowable=te.syncErrorThrowable,this.destination=te,te.add(this)):(this.syncErrorThrowable=!0,this.destination=new we(this,te));break}default:this.syncErrorThrowable=!0,this.destination=new we(this,te,Y,ye)}}[Pe.b](){return this}static create(te,Y,ye){const ae=new W(te,Y,ye);return ae.syncErrorThrowable=!1,ae}next(te){this.isStopped||this._next(te)}error(te){this.isStopped||(this.isStopped=!0,this._error(te))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(te){this.destination.next(te)}_error(te){this.destination.error(te),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:te}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=te,this}}class we extends W{constructor(te,Y,ye,ae){super(),this._parentSubscriber=te;let pe,Fe=this;(0,u.m)(Y)?pe=Y:Y&&(pe=Y.next,ye=Y.error,ae=Y.complete,Y!==J.c&&(Fe=Object.create(Y),(0,u.m)(Fe.unsubscribe)&&this.add(Fe.unsubscribe.bind(Fe)),Fe.unsubscribe=this.unsubscribe.bind(this))),this._context=Fe,this._next=pe,this._error=ye,this._complete=ae}next(te){if(!this.isStopped&&this._next){const{_parentSubscriber:Y}=this;Se.v.useDeprecatedSynchronousErrorHandling&&Y.syncErrorThrowable?this.__tryOrSetError(Y,this._next,te)&&this.unsubscribe():this.__tryOrUnsub(this._next,te)}}error(te){if(!this.isStopped){const{_parentSubscriber:Y}=this,{useDeprecatedSynchronousErrorHandling:ye}=Se.v;if(this._error)ye&&Y.syncErrorThrowable?(this.__tryOrSetError(Y,this._error,te),this.unsubscribe()):(this.__tryOrUnsub(this._error,te),this.unsubscribe());else if(Y.syncErrorThrowable)ye?(Y.syncErrorValue=te,Y.syncErrorThrown=!0):(0,re.z)(te),this.unsubscribe();else{if(this.unsubscribe(),ye)throw te;(0,re.z)(te)}}}complete(){if(!this.isStopped){const{_parentSubscriber:te}=this;if(this._complete){const Y=()=>this._complete.call(this._context);Se.v.useDeprecatedSynchronousErrorHandling&&te.syncErrorThrowable?(this.__tryOrSetError(te,Y),this.unsubscribe()):(this.__tryOrUnsub(Y),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(te,Y){try{te.call(this._context,Y)}catch(ye){if(this.unsubscribe(),Se.v.useDeprecatedSynchronousErrorHandling)throw ye;(0,re.z)(ye)}}__tryOrSetError(te,Y,ye){if(!Se.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Y.call(this._context,ye)}catch(ae){return Se.v.useDeprecatedSynchronousErrorHandling?(te.syncErrorValue=ae,te.syncErrorThrown=!0,!0):((0,re.z)(ae),!0)}return!1}_unsubscribe(){const{_parentSubscriber:te}=this;this._context=null,this._parentSubscriber=null,te.unsubscribe()}}},1576:(en,st,B)=>{"use strict";B.d(st,{w:()=>re});var u=B(1092),J=B(8660),Z=B(5843);const Se=(()=>{function we(fe){return Error.call(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map((te,Y)=>`${Y+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe,this}return we.prototype=Object.create(Error.prototype),we})();class re{constructor(fe){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,fe&&(this._ctorUnsubscribe=!0,this._unsubscribe=fe)}unsubscribe(){let fe;if(this.closed)return;let{_parentOrParents:te,_ctorUnsubscribe:Y,_unsubscribe:ye,_subscriptions:ae}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,te instanceof re)te.remove(this);else if(null!==te)for(let pe=0;pe<te.length;++pe)te[pe].remove(this);if((0,Z.m)(ye)){Y&&(this._unsubscribe=void 0);try{ye.call(this)}catch(pe){fe=pe instanceof Se?W(pe.errors):[pe]}}if((0,u.k)(ae)){let pe=-1,Fe=ae.length;for(;++pe<Fe;){const Ne=ae[pe];if((0,J.K)(Ne))try{Ne.unsubscribe()}catch($e){fe=fe||[],$e instanceof Se?fe=fe.concat(W($e.errors)):fe.push($e)}}}if(fe)throw new Se(fe)}add(fe){let te=fe;if(!fe)return re.EMPTY;switch(typeof fe){case"function":te=new re(fe);case"object":if(te===this||te.closed||"function"!=typeof te.unsubscribe)return te;if(this.closed)return te.unsubscribe(),te;if(!(te instanceof re)){const ae=te;te=new re,te._subscriptions=[ae]}break;default:throw new Error("unrecognized teardown "+fe+" added to Subscription.")}let{_parentOrParents:Y}=te;if(null===Y)te._parentOrParents=this;else if(Y instanceof re){if(Y===this)return te;te._parentOrParents=[Y,this]}else{if(-1!==Y.indexOf(this))return te;Y.push(this)}const ye=this._subscriptions;return null===ye?this._subscriptions=[te]:ye.push(te),te}remove(fe){const te=this._subscriptions;if(te){const Y=te.indexOf(fe);-1!==Y&&te.splice(Y,1)}}}var we;function W(we){return we.reduce((fe,te)=>fe.concat(te instanceof Se?te.errors:te),[])}re.EMPTY=((we=new re).closed=!0,we)},1033:(en,st,B)=>{"use strict";B.d(st,{v:()=>J});let u=!1;const J={Promise:void 0,set useDeprecatedSynchronousErrorHandling(Z){if(Z){const Pe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Pe.stack)}else u&&console.log("RxJS: Back to a better error behavior. Thank you. <3");u=Z},get useDeprecatedSynchronousErrorHandling(){return u}}},315:(en,st,B)=>{"use strict";B.d(st,{Ds:()=>re,IY:()=>Pe,ft:()=>we});var u=B(1680),J=B(96),Z=B(3804);class Pe extends u.L{constructor(te){super(),this.parent=te}_next(te){this.parent.notifyNext(te)}_error(te){this.parent.notifyError(te),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class re extends u.L{notifyNext(te){this.destination.next(te)}notifyError(te){this.destination.error(te)}notifyComplete(){this.destination.complete()}}function we(fe,te){if(te.closed)return;if(fe instanceof J.y)return fe.subscribe(te);let Y;try{Y=(0,Z.s)(fe)(te)}catch(ye){te.error(ye)}return Y}},8179:(en,st,B)=>{"use strict";B.d(st,{N:()=>re,c:()=>Se});var u=B(6810),J=B(96),Z=B(1576),Pe=B(1181);class Se extends J.y{constructor(Y,ye){super(),this.source=Y,this.subjectFactory=ye,this._refCount=0,this._isComplete=!1}_subscribe(Y){return this.getSubject().subscribe(Y)}getSubject(){const Y=this._subject;return(!Y||Y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let Y=this._connection;return Y||(this._isComplete=!1,Y=this._connection=new Z.w,Y.add(this.source.subscribe(new W(this.getSubject(),this))),Y.closed&&(this._connection=null,Y=Z.w.EMPTY)),Y}refCount(){return(0,Pe.x)()(this)}}const re=(()=>{const te=Se.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:te._subscribe},_isComplete:{value:te._isComplete,writable:!0},getSubject:{value:te.getSubject},connect:{value:te.connect},refCount:{value:te.refCount}}})();class W extends u.Yc{constructor(Y,ye){super(Y),this.connectable=ye}_error(Y){this._unsubscribe(),super._error(Y)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const Y=this.connectable;if(Y){this.connectable=null;const ye=Y._connection;Y._refCount=0,Y._subject=null,Y._connection=null,ye&&ye.unsubscribe()}}}},6366:(en,st,B)=>{"use strict";B.d(st,{z:()=>Pe});var u=B(9425),J=B(9632);function Pe(...Se){return function Z(){return(0,J.J)(1)}()((0,u.of)(...Se))}},6333:(en,st,B)=>{"use strict";B.d(st,{P:()=>Pe});var u=B(96),J=B(1327),Z=B(5763);function Pe(Se){return new u.y(re=>{let W;try{W=Se()}catch(fe){return void re.error(fe)}return(W?(0,J.D)(W):(0,Z.c)()).subscribe(re)})}},5763:(en,st,B)=>{"use strict";B.d(st,{E:()=>J,c:()=>Z});var u=B(96);const J=new u.y(Se=>Se.complete());function Z(Se){return Se?function Pe(Se){return new u.y(re=>Se.schedule(()=>re.complete()))}(Se):J}},1327:(en,st,B)=>{"use strict";B.d(st,{D:()=>Fe});var u=B(96),J=B(3804),Z=B(1576),Pe=B(5370),W=B(9152),we=B(5015),Y=B(1842),ye=B(8182);function Fe(Ne,$e){return $e?function pe(Ne,$e){if(null!=Ne){if(function te(Ne){return Ne&&"function"==typeof Ne[Pe.L]}(Ne))return function Se(Ne,$e){return new u.y(be=>{const ht=new Z.w;return ht.add($e.schedule(()=>{const rt=Ne[Pe.L]();ht.add(rt.subscribe({next(at){ht.add($e.schedule(()=>be.next(at)))},error(at){ht.add($e.schedule(()=>be.error(at)))},complete(){ht.add($e.schedule(()=>be.complete()))}}))})),ht})}(Ne,$e);if((0,Y.t)(Ne))return function re(Ne,$e){return new u.y(be=>{const ht=new Z.w;return ht.add($e.schedule(()=>Ne.then(rt=>{ht.add($e.schedule(()=>{be.next(rt),ht.add($e.schedule(()=>be.complete()))}))},rt=>{ht.add($e.schedule(()=>be.error(rt)))}))),ht})}(Ne,$e);if((0,ye.z)(Ne))return(0,W.r)(Ne,$e);if(function ae(Ne){return Ne&&"function"==typeof Ne[we.hZ]}(Ne)||"string"==typeof Ne)return function fe(Ne,$e){if(!Ne)throw new Error("Iterable cannot be null");return new u.y(be=>{const ht=new Z.w;let rt;return ht.add(()=>{rt&&"function"==typeof rt.return&&rt.return()}),ht.add($e.schedule(()=>{rt=Ne[we.hZ](),ht.add($e.schedule(function(){if(be.closed)return;let at,Dt;try{const Ot=rt.next();at=Ot.value,Dt=Ot.done}catch(Ot){return void be.error(Ot)}Dt?be.complete():(be.next(at),this.schedule())}))})),ht})}(Ne,$e)}throw new TypeError((null!==Ne&&typeof Ne||Ne)+" is not observable")}(Ne,$e):Ne instanceof u.y?Ne:new u.y((0,J.s)(Ne))}},2054:(en,st,B)=>{"use strict";B.d(st,{n:()=>Pe});var u=B(96),J=B(3919),Z=B(9152);function Pe(Se,re){return re?(0,Z.r)(Se,re):new u.y((0,J.V)(Se))}},4918:(en,st,B)=>{"use strict";B.d(st,{R:()=>re});var u=B(96),J=B(1092),Z=B(5843),Pe=B(4795);function re(Y,ye,ae,pe){return(0,Z.m)(ae)&&(pe=ae,ae=void 0),pe?re(Y,ye,ae).pipe((0,Pe.U)(Fe=>(0,J.k)(Fe)?pe(...Fe):pe(Fe))):new u.y(Fe=>{W(Y,ye,function Ne($e){Fe.next(arguments.length>1?Array.prototype.slice.call(arguments):$e)},Fe,ae)})}function W(Y,ye,ae,pe,Fe){let Ne;if(function te(Y){return Y&&"function"==typeof Y.addEventListener&&"function"==typeof Y.removeEventListener}(Y)){const $e=Y;Y.addEventListener(ye,ae,Fe),Ne=()=>$e.removeEventListener(ye,ae,Fe)}else if(function fe(Y){return Y&&"function"==typeof Y.on&&"function"==typeof Y.off}(Y)){const $e=Y;Y.on(ye,ae),Ne=()=>$e.off(ye,ae)}else if(function we(Y){return Y&&"function"==typeof Y.addListener&&"function"==typeof Y.removeListener}(Y)){const $e=Y;Y.addListener(ye,ae),Ne=()=>$e.removeListener(ye,ae)}else{if(!Y||!Y.length)throw new TypeError("Invalid event target");for(let $e=0,be=Y.length;$e<be;$e++)W(Y[$e],ye,ae,pe,Fe)}pe.add(Ne)}},6984:(en,st,B)=>{"use strict";B.d(st,{T:()=>Se});var u=B(96),J=B(6712),Z=B(9632),Pe=B(2054);function Se(...re){let W=Number.POSITIVE_INFINITY,we=null,fe=re[re.length-1];return(0,J.K)(fe)?(we=re.pop(),re.length>1&&"number"==typeof re[re.length-1]&&(W=re.pop())):"number"==typeof fe&&(W=re.pop()),null===we&&1===re.length&&re[0]instanceof u.y?re[0]:(0,Z.J)(W)((0,Pe.n)(re,we))}},9425:(en,st,B)=>{"use strict";B.d(st,{of:()=>Pe});var u=B(6712),J=B(2054),Z=B(9152);function Pe(...Se){let re=Se[Se.length-1];return(0,u.K)(re)?(Se.pop(),(0,Z.r)(Se,re)):(0,J.n)(Se)}},2422:(en,st,B)=>{"use strict";B.d(st,{_:()=>J});var u=B(96);function J(Pe,Se){return new u.y(Se?re=>Se.schedule(Z,0,{error:Pe,subscriber:re}):re=>re.error(Pe))}function Z({error:Pe,subscriber:Se}){Se.error(Pe)}},2330:(en,st,B)=>{"use strict";B.d(st,{h:()=>J});var u=B(1680);function J(Se,re){return function(we){return we.lift(new Z(Se,re))}}class Z{constructor(re,W){this.predicate=re,this.thisArg=W}call(re,W){return W.subscribe(new Pe(re,this.predicate,this.thisArg))}}class Pe extends u.L{constructor(re,W,we){super(re),this.predicate=W,this.thisArg=we,this.count=0}_next(re){let W;try{W=this.predicate.call(this.thisArg,re,this.count++)}catch(we){return void this.destination.error(we)}W&&this.destination.next(re)}}},4795:(en,st,B)=>{"use strict";B.d(st,{U:()=>J});var u=B(1680);function J(Se,re){return function(we){if("function"!=typeof Se)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return we.lift(new Z(Se,re))}}class Z{constructor(re,W){this.project=re,this.thisArg=W}call(re,W){return W.subscribe(new Pe(re,this.project,this.thisArg))}}class Pe extends u.L{constructor(re,W,we){super(re),this.project=W,this.count=0,this.thisArg=we||this}_next(re){let W;try{W=this.project.call(this.thisArg,re,this.count++)}catch(we){return void this.destination.error(we)}this.destination.next(W)}}},9632:(en,st,B)=>{"use strict";B.d(st,{J:()=>Z});var u=B(160),J=B(9142);function Z(Pe=Number.POSITIVE_INFINITY){return(0,u.zg)(J.y,Pe)}},160:(en,st,B)=>{"use strict";B.d(st,{zg:()=>Pe});var u=B(4795),J=B(1327),Z=B(315);function Pe(we,fe,te=Number.POSITIVE_INFINITY){return"function"==typeof fe?Y=>Y.pipe(Pe((ye,ae)=>(0,J.D)(we(ye,ae)).pipe((0,u.U)((pe,Fe)=>fe(ye,pe,ae,Fe))),te)):("number"==typeof fe&&(te=fe),Y=>Y.lift(new Se(we,te)))}class Se{constructor(fe,te=Number.POSITIVE_INFINITY){this.project=fe,this.concurrent=te}call(fe,te){return te.subscribe(new re(fe,this.project,this.concurrent))}}class re extends Z.Ds{constructor(fe,te,Y=Number.POSITIVE_INFINITY){super(fe),this.project=te,this.concurrent=Y,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(fe){this.active<this.concurrent?this._tryNext(fe):this.buffer.push(fe)}_tryNext(fe){let te;const Y=this.index++;try{te=this.project(fe,Y)}catch(ye){return void this.destination.error(ye)}this.active++,this._innerSub(te)}_innerSub(fe){const te=new Z.IY(this),Y=this.destination;Y.add(te);const ye=(0,Z.ft)(fe,te);ye!==te&&Y.add(ye)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(fe){this.destination.next(fe)}notifyComplete(){const fe=this.buffer;this.active--,fe.length>0?this._next(fe.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9465:(en,st,B)=>{"use strict";B.d(st,{O:()=>J});var u=B(8179);function J(Pe,Se){return function(W){let we;if(we="function"==typeof Pe?Pe:function(){return Pe},"function"==typeof Se)return W.lift(new Z(we,Se));const fe=Object.create(W,u.N);return fe.source=W,fe.subjectFactory=we,fe}}class Z{constructor(Se,re){this.subjectFactory=Se,this.selector=re}call(Se,re){const{selector:W}=this,we=this.subjectFactory(),fe=W(we).subscribe(Se);return fe.add(re.subscribe(we)),fe}}},1181:(en,st,B)=>{"use strict";B.d(st,{x:()=>J});var u=B(1680);function J(){return function(re){return re.lift(new Z(re))}}class Z{constructor(re){this.connectable=re}call(re,W){const{connectable:we}=this;we._refCount++;const fe=new Pe(re,we),te=W.subscribe(fe);return fe.closed||(fe.connection=we.connect()),te}}class Pe extends u.L{constructor(re,W){super(re),this.connectable=W}_unsubscribe(){const{connectable:re}=this;if(!re)return void(this.connection=null);this.connectable=null;const W=re._refCount;if(W<=0)return void(this.connection=null);if(re._refCount=W-1,W>1)return void(this.connection=null);const{connection:we}=this,fe=re._connection;this.connection=null,fe&&(!we||fe===we)&&fe.unsubscribe()}}},8959:(en,st,B)=>{"use strict";B.d(st,{w:()=>Pe});var u=B(4795),J=B(1327),Z=B(315);function Pe(W,we){return"function"==typeof we?fe=>fe.pipe(Pe((te,Y)=>(0,J.D)(W(te,Y)).pipe((0,u.U)((ye,ae)=>we(te,ye,Y,ae))))):fe=>fe.lift(new Se(W))}class Se{constructor(we){this.project=we}call(we,fe){return fe.subscribe(new re(we,this.project))}}class re extends Z.Ds{constructor(we,fe){super(we),this.project=fe,this.index=0}_next(we){let fe;const te=this.index++;try{fe=this.project(we,te)}catch(Y){return void this.destination.error(Y)}this._innerSub(fe)}_innerSub(we){const fe=this.innerSubscription;fe&&fe.unsubscribe();const te=new Z.IY(this),Y=this.destination;Y.add(te),this.innerSubscription=(0,Z.ft)(we,te),this.innerSubscription!==te&&Y.add(this.innerSubscription)}_complete(){const{innerSubscription:we}=this;(!we||we.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(we){this.destination.next(we)}}},53:(en,st,B)=>{"use strict";B.d(st,{q:()=>Pe});var u=B(1680),J=B(3268),Z=B(5763);function Pe(W){return we=>0===W?(0,Z.c)():we.lift(new Se(W))}class Se{constructor(we){if(this.total=we,this.total<0)throw new J.W}call(we,fe){return fe.subscribe(new re(we,this.total))}}class re extends u.L{constructor(we,fe){super(we),this.total=fe,this.count=0}_next(we){const fe=this.total,te=++this.count;te<=fe&&(this.destination.next(we),te===fe&&(this.destination.complete(),this.unsubscribe()))}}},2045:(en,st,B)=>{"use strict";B.d(st,{b:()=>Pe});var u=B(1680),J=B(8423),Z=B(5843);function Pe(W,we,fe){return function(Y){return Y.lift(new Se(W,we,fe))}}class Se{constructor(we,fe,te){this.nextOrObserver=we,this.error=fe,this.complete=te}call(we,fe){return fe.subscribe(new re(we,this.nextOrObserver,this.error,this.complete))}}class re extends u.L{constructor(we,fe,te,Y){super(we),this._tapNext=J.Z,this._tapError=J.Z,this._tapComplete=J.Z,this._tapError=te||J.Z,this._tapComplete=Y||J.Z,(0,Z.m)(fe)?(this._context=this,this._tapNext=fe):fe&&(this._context=fe,this._tapNext=fe.next||J.Z,this._tapError=fe.error||J.Z,this._tapComplete=fe.complete||J.Z)}_next(we){try{this._tapNext.call(this._context,we)}catch(fe){return void this.destination.error(fe)}this.destination.next(we)}_error(we){try{this._tapError.call(this._context,we)}catch(fe){return void this.destination.error(fe)}this.destination.error(we)}_complete(){try{this._tapComplete.call(this._context)}catch(we){return void this.destination.error(we)}return this.destination.complete()}}},9152:(en,st,B)=>{"use strict";B.d(st,{r:()=>Z});var u=B(96),J=B(1576);function Z(Pe,Se){return new u.y(re=>{const W=new J.w;let we=0;return W.add(Se.schedule(function(){we!==Pe.length?(re.next(Pe[we++]),re.closed||W.add(this.schedule())):re.complete()})),W})}},452:(en,st,B)=>{"use strict";B.d(st,{o:()=>Z});var u=B(1576);class J extends u.w{constructor(Se,re){super()}schedule(Se,re=0){return this}}class Z extends J{constructor(Se,re){super(Se,re),this.scheduler=Se,this.work=re,this.pending=!1}schedule(Se,re=0){if(this.closed)return this;this.state=Se;const W=this.id,we=this.scheduler;return null!=W&&(this.id=this.recycleAsyncId(we,W,re)),this.pending=!0,this.delay=re,this.id=this.id||this.requestAsyncId(we,this.id,re),this}requestAsyncId(Se,re,W=0){return setInterval(Se.flush.bind(Se,this),W)}recycleAsyncId(Se,re,W=0){if(null!==W&&this.delay===W&&!1===this.pending)return re;clearInterval(re)}execute(Se,re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const W=this._execute(Se,re);if(W)return W;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Se,re){let we,W=!1;try{this.work(Se)}catch(fe){W=!0,we=!!fe&&fe||new Error(fe)}if(W)return this.unsubscribe(),we}_unsubscribe(){const Se=this.id,re=this.scheduler,W=re.actions,we=W.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==we&&W.splice(we,1),null!=Se&&(this.id=this.recycleAsyncId(re,Se,null)),this.delay=null}}},4426:(en,st,B)=>{"use strict";B.d(st,{v:()=>J});let u=(()=>{class Z{constructor(Se,re=Z.now){this.SchedulerAction=Se,this.now=re}schedule(Se,re=0,W){return new this.SchedulerAction(this,Se).schedule(W,re)}}return Z.now=()=>Date.now(),Z})();class J extends u{constructor(Pe,Se=u.now){super(Pe,()=>J.delegate&&J.delegate!==this?J.delegate.now():Se()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Pe,Se=0,re){return J.delegate&&J.delegate!==this?J.delegate.schedule(Pe,Se,re):super.schedule(Pe,Se,re)}flush(Pe){const{actions:Se}=this;if(this.active)return void Se.push(Pe);let re;this.active=!0;do{if(re=Pe.execute(Pe.state,Pe.delay))break}while(Pe=Se.shift());if(this.active=!1,re){for(;Pe=Se.shift();)Pe.unsubscribe();throw re}}}},3094:(en,st,B)=>{"use strict";B.d(st,{P:()=>Pe,z:()=>Z});var u=B(452);const Z=new(B(4426).v)(u.o),Pe=Z},5015:(en,st,B)=>{"use strict";B.d(st,{hZ:()=>J});const J=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},5370:(en,st,B)=>{"use strict";B.d(st,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},4999:(en,st,B)=>{"use strict";B.d(st,{b:()=>u});const u="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},3268:(en,st,B)=>{"use strict";B.d(st,{W:()=>J});const J=(()=>{function Z(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return Z.prototype=Object.create(Error.prototype),Z})()},7921:(en,st,B)=>{"use strict";B.d(st,{N:()=>J});const J=(()=>{function Z(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return Z.prototype=Object.create(Error.prototype),Z})()},729:(en,st,B)=>{"use strict";function u(J){setTimeout(()=>{throw J},0)}B.d(st,{z:()=>u})},9142:(en,st,B)=>{"use strict";function u(J){return J}B.d(st,{y:()=>u})},1092:(en,st,B)=>{"use strict";B.d(st,{k:()=>u});const u=Array.isArray||(J=>J&&"number"==typeof J.length)},8182:(en,st,B)=>{"use strict";B.d(st,{z:()=>u});const u=J=>J&&"number"==typeof J.length&&"function"!=typeof J},5843:(en,st,B)=>{"use strict";function u(J){return"function"==typeof J}B.d(st,{m:()=>u})},8660:(en,st,B)=>{"use strict";function u(J){return null!==J&&"object"==typeof J}B.d(st,{K:()=>u})},1842:(en,st,B)=>{"use strict";function u(J){return!!J&&"function"!=typeof J.subscribe&&"function"==typeof J.then}B.d(st,{t:()=>u})},6712:(en,st,B)=>{"use strict";function u(J){return J&&"function"==typeof J.schedule}B.d(st,{K:()=>u})},8423:(en,st,B)=>{"use strict";function u(){}B.d(st,{Z:()=>u})},4917:(en,st,B)=>{"use strict";B.d(st,{U:()=>Z,z:()=>J});var u=B(9142);function J(...Pe){return Z(Pe)}function Z(Pe){return 0===Pe.length?u.y:1===Pe.length?Pe[0]:function(re){return Pe.reduce((W,we)=>we(W),re)}}},3804:(en,st,B)=>{"use strict";B.d(st,{s:()=>Y});var u=B(3919),J=B(729),Pe=B(5015),re=B(5370),we=B(8182),fe=B(1842),te=B(8660);const Y=ye=>{if(ye&&"function"==typeof ye[re.L])return(ye=>ae=>{const pe=ye[re.L]();if("function"!=typeof pe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return pe.subscribe(ae)})(ye);if((0,we.z)(ye))return(0,u.V)(ye);if((0,fe.t)(ye))return(ye=>ae=>(ye.then(pe=>{ae.closed||(ae.next(pe),ae.complete())},pe=>ae.error(pe)).then(null,J.z),ae))(ye);if(ye&&"function"==typeof ye[Pe.hZ])return(ye=>ae=>{const pe=ye[Pe.hZ]();for(;;){let Fe;try{Fe=pe.next()}catch(Ne){return ae.error(Ne),ae}if(Fe.done){ae.complete();break}if(ae.next(Fe.value),ae.closed)break}return"function"==typeof pe.return&&ae.add(()=>{pe.return&&pe.return()}),ae})(ye);{const pe=`You provided ${(0,te.K)(ye)?"an invalid object":`'${ye}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(pe)}}},3919:(en,st,B)=>{"use strict";B.d(st,{V:()=>u});const u=J=>Z=>{for(let Pe=0,Se=J.length;Pe<Se&&!Z.closed;Pe++)Z.next(J[Pe]);Z.complete()}},5521:(en,st,B)=>{var u={"./ion-accordion_2.entry.js":[7167,8592,7167],"./ion-action-sheet.entry.js":[3271,8592,3271],"./ion-alert.entry.js":[8848,8592,8848],"./ion-app_8.entry.js":[7094,8592,8866],"./ion-avatar_3.entry.js":[6037,6037],"./ion-back-button.entry.js":[6680,8592,6680],"./ion-backdrop.entry.js":[4111,4111],"./ion-breadcrumb_2.entry.js":[3181,8592,3181],"./ion-button_2.entry.js":[3148,3148],"./ion-card_5.entry.js":[1658,1658],"./ion-checkbox.entry.js":[5323,5323],"./ion-chip.entry.js":[2705,2705],"./ion-col_3.entry.js":[1104,1104],"./ion-datetime-button.entry.js":[9085,3359,9085],"./ion-datetime_3.entry.js":[7781,3359,8592,7781],"./ion-fab_3.entry.js":[9534,8592,9534],"./ion-img.entry.js":[2421,2421],"./ion-infinite-scroll_2.entry.js":[1385,8592,4160],"./ion-input.entry.js":[9305,9305],"./ion-item-option_3.entry.js":[1935,8592,7828],"./ion-item_8.entry.js":[6710,8592,6710],"./ion-loading.entry.js":[5719,8592,5719],"./ion-menu_3.entry.js":[5204,8592,5204],"./ion-modal.entry.js":[9037,8592,9037],"./ion-nav_2.entry.js":[8516,8592,8516],"./ion-picker-column-internal.entry.js":[1762,8592,1762],"./ion-picker-internal.entry.js":[6921,6921],"./ion-popover.entry.js":[2282,8592,2282],"./ion-progress-bar.entry.js":[115,115],"./ion-radio_2.entry.js":[9039,9039],"./ion-range.entry.js":[1708,8592,1708],"./ion-refresher_2.entry.js":[5992,8592,6042],"./ion-reorder_2.entry.js":[8694,8592,8506],"./ion-ripple-effect.entry.js":[6035,6035],"./ion-route_4.entry.js":[8041,8041],"./ion-searchbar.entry.js":[2412,8592,2412],"./ion-segment_2.entry.js":[1602,8592,1602],"./ion-select_3.entry.js":[1854,1854],"./ion-slide_2.entry.js":[885,885],"./ion-spinner.entry.js":[3588,8592,3588],"./ion-split-pane.entry.js":[5414,5414],"./ion-tab-bar_2.entry.js":[1703,8592,1703],"./ion-tab_2.entry.js":[6827,8592,178],"./ion-text.entry.js":[9471,9471],"./ion-textarea.entry.js":[2279,2279],"./ion-toast.entry.js":[438,8592,438],"./ion-toggle.entry.js":[3670,8592,3670],"./ion-virtual-scroll.entry.js":[1697,1697]};function J(Z){if(!B.o(u,Z))return Promise.resolve().then(()=>{var re=new Error("Cannot find module '"+Z+"'");throw re.code="MODULE_NOT_FOUND",re});var Pe=u[Z],Se=Pe[0];return Promise.all(Pe.slice(1).map(B.e)).then(()=>B(Se))}J.keys=()=>Object.keys(u),J.id=5521,en.exports=J},4254:(en,st,B)=>{"use strict";function Pe(se,ce){var ee={};for(var le in se)Object.prototype.hasOwnProperty.call(se,le)&&ce.indexOf(le)<0&&(ee[le]=se[le]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var Xe=0;for(le=Object.getOwnPropertySymbols(se);Xe<le.length;Xe++)ce.indexOf(le[Xe])<0&&Object.prototype.propertyIsEnumerable.call(se,le[Xe])&&(ee[le[Xe]]=se[le[Xe]])}return ee}function Se(se,ce,ee,le){var wt,Xe=arguments.length,tt=Xe<3?ce:null===le?le=Object.getOwnPropertyDescriptor(ce,ee):le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)tt=Reflect.decorate(se,ce,ee,le);else for(var nt=se.length-1;nt>=0;nt--)(wt=se[nt])&&(tt=(Xe<3?wt(tt):Xe>3?wt(ce,ee,tt):wt(ce,ee))||tt);return Xe>3&&tt&&Object.defineProperty(ce,ee,tt),tt}function we(se,ce,ee,le){return new(ee||(ee=Promise))(function(tt,wt){function nt(ze){try{He(le.next(ze))}catch(Be){wt(Be)}}function Ee(ze){try{He(le.throw(ze))}catch(Be){wt(Be)}}function He(ze){ze.done?tt(ze.value):function Xe(tt){return tt instanceof ee?tt:new ee(function(wt){wt(tt)})}(ze.value).then(nt,Ee)}He((le=le.apply(se,ce||[])).next())})}function Ye(se,ce,ee,le){if("a"===ee&&!le)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof ce?se!==ce||!le:!ce.has(se))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===ee?le:"a"===ee?le.call(se):le?le.value:ce.get(se)}function Me(se,ce,ee,le,Xe){if("m"===le)throw new TypeError("Private method is not writable");if("a"===le&&!Xe)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof ce?se!==ce||!Xe:!ce.has(se))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===le?Xe.call(se,ee):Xe?Xe.value=ee:ce.set(se,ee),ee}B.d(st,{Q_:()=>Ye,YH:()=>Me,_T:()=>Pe,gn:()=>Se,mG:()=>we})},1320:(en,st,B)=>{"use strict";B.d(st,{Do:()=>rt,EM:()=>Sr,HT:()=>Se,JF:()=>ps,K0:()=>W,Mx:()=>vi,NF:()=>Vo,O5:()=>U,S$:()=>$e,V_:()=>te,Ye:()=>at,b0:()=>ht,bD:()=>ti,ez:()=>$o,q:()=>Z,sg:()=>ki,tP:()=>gn,w_:()=>re});var u=B(3363);let J=null;function Z(){return J}function Se(M){J||(J=M)}class re{}const W=new u.OlP("DocumentToken");let we=(()=>{class M{historyGo(k){throw new Error("Not implemented")}}return M.\u0275fac=function(k){return new(k||M)},M.\u0275prov=u.Yz7({token:M,factory:function(){return function fe(){return(0,u.LFG)(Y)}()},providedIn:"platform"}),M})();const te=new u.OlP("Location Initialized");let Y=(()=>{class M extends we{constructor(k){super(),this._doc=k,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Z().getBaseHref(this._doc)}onPopState(k){const X=Z().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",k,!1),()=>X.removeEventListener("popstate",k)}onHashChange(k){const X=Z().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",k,!1),()=>X.removeEventListener("hashchange",k)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(k){this.location.pathname=k}pushState(k,X,Oe){ye()?this._history.pushState(k,X,Oe):this.location.hash=Oe}replaceState(k,X,Oe){ye()?this._history.replaceState(k,X,Oe):this.location.hash=Oe}forward(){this._history.forward()}back(){this._history.back()}historyGo(k=0){this._history.go(k)}getState(){return this._history.state}}return M.\u0275fac=function(k){return new(k||M)(u.LFG(W))},M.\u0275prov=u.Yz7({token:M,factory:function(){return function ae(){return new Y((0,u.LFG)(W))}()},providedIn:"platform"}),M})();function ye(){return!!window.history.pushState}function pe(M,j){if(0==M.length)return j;if(0==j.length)return M;let k=0;return M.endsWith("/")&&k++,j.startsWith("/")&&k++,2==k?M+j.substring(1):1==k?M+j:M+"/"+j}function Fe(M){const j=M.match(/#|\?|$/),k=j&&j.index||M.length;return M.slice(0,k-("/"===M[k-1]?1:0))+M.slice(k)}function Ne(M){return M&&"?"!==M[0]?"?"+M:M}let $e=(()=>{class M{historyGo(k){throw new Error("Not implemented")}}return M.\u0275fac=function(k){return new(k||M)},M.\u0275prov=u.Yz7({token:M,factory:function(){return(0,u.f3M)(ht)},providedIn:"root"}),M})();const be=new u.OlP("appBaseHref");let ht=(()=>{class M extends $e{constructor(k,X){super(),this._platformLocation=k,this._removeListenerFns=[],this._baseHref=X??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(W).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}prepareExternalUrl(k){return pe(this._baseHref,k)}path(k=!1){const X=this._platformLocation.pathname+Ne(this._platformLocation.search),Oe=this._platformLocation.hash;return Oe&&k?`${X}${Oe}`:X}pushState(k,X,Oe,mt){const At=this.prepareExternalUrl(Oe+Ne(mt));this._platformLocation.pushState(k,X,At)}replaceState(k,X,Oe,mt){const At=this.prepareExternalUrl(Oe+Ne(mt));this._platformLocation.replaceState(k,X,At)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){this._platformLocation.historyGo?.(k)}}return M.\u0275fac=function(k){return new(k||M)(u.LFG(we),u.LFG(be,8))},M.\u0275prov=u.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),rt=(()=>{class M extends $e{constructor(k,X){super(),this._platformLocation=k,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}path(k=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl(k){const X=pe(this._baseHref,k);return X.length>0?"#"+X:X}pushState(k,X,Oe,mt){let At=this.prepareExternalUrl(Oe+Ne(mt));0==At.length&&(At=this._platformLocation.pathname),this._platformLocation.pushState(k,X,At)}replaceState(k,X,Oe,mt){let At=this.prepareExternalUrl(Oe+Ne(mt));0==At.length&&(At=this._platformLocation.pathname),this._platformLocation.replaceState(k,X,At)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){this._platformLocation.historyGo?.(k)}}return M.\u0275fac=function(k){return new(k||M)(u.LFG(we),u.LFG(be,8))},M.\u0275prov=u.Yz7({token:M,factory:M.\u0275fac}),M})(),at=(()=>{class M{constructor(k){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=k;const X=this._locationStrategy.getBaseHref();this._baseHref=Fe(Ke(X)),this._locationStrategy.onPopState(Oe=>{this._subject.emit({url:this.path(!0),pop:!0,state:Oe.state,type:Oe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(k=!1){return this.normalize(this._locationStrategy.path(k))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(k,X=""){return this.path()==this.normalize(k+Ne(X))}normalize(k){return M.stripTrailingSlash(function Ot(M,j){return M&&j.startsWith(M)?j.substring(M.length):j}(this._baseHref,Ke(k)))}prepareExternalUrl(k){return k&&"/"!==k[0]&&(k="/"+k),this._locationStrategy.prepareExternalUrl(k)}go(k,X="",Oe=null){this._locationStrategy.pushState(Oe,"",k,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+Ne(X)),Oe)}replaceState(k,X="",Oe=null){this._locationStrategy.replaceState(Oe,"",k,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+Ne(X)),Oe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(k=0){this._locationStrategy.historyGo?.(k)}onUrlChange(k){return this._urlChangeListeners.push(k),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)})),()=>{const X=this._urlChangeListeners.indexOf(k);this._urlChangeListeners.splice(X,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(k="",X){this._urlChangeListeners.forEach(Oe=>Oe(k,X))}subscribe(k,X,Oe){return this._subject.subscribe({next:k,error:X,complete:Oe})}}return M.normalizeQueryParams=Ne,M.joinWithSlash=pe,M.stripTrailingSlash=Fe,M.\u0275fac=function(k){return new(k||M)(u.LFG($e))},M.\u0275prov=u.Yz7({token:M,factory:function(){return function Dt(){return new at((0,u.LFG)($e))}()},providedIn:"root"}),M})();function Ke(M){return M.replace(/\/index.html$/,"")}function vi(M,j){j=encodeURIComponent(j);for(const k of M.split(";")){const X=k.indexOf("="),[Oe,mt]=-1==X?[k,""]:[k.slice(0,X),k.slice(X+1)];if(Oe.trim()===j)return decodeURIComponent(mt)}return null}class cs{constructor(j,k,X,Oe){this.$implicit=j,this.ngForOf=k,this.index=X,this.count=Oe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ki=(()=>{class M{constructor(k,X,Oe){this._viewContainer=k,this._template=X,this._differs=Oe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(k){this._ngForOf=k,this._ngForOfDirty=!0}set ngForTrackBy(k){this._trackByFn=k}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(k){k&&(this._template=k)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const k=this._ngForOf;!this._differ&&k&&(this._differ=this._differs.find(k).create(this.ngForTrackBy))}if(this._differ){const k=this._differ.diff(this._ngForOf);k&&this._applyChanges(k)}}_applyChanges(k){const X=this._viewContainer;k.forEachOperation((Oe,mt,At)=>{if(null==Oe.previousIndex)X.createEmbeddedView(this._template,new cs(Oe.item,this._ngForOf,-1,-1),null===At?void 0:At);else if(null==At)X.remove(null===mt?void 0:mt);else if(null!==mt){const Ht=X.get(mt);X.move(Ht,At),qe(Ht,Oe)}});for(let Oe=0,mt=X.length;Oe<mt;Oe++){const Ht=X.get(Oe).context;Ht.index=Oe,Ht.count=mt,Ht.ngForOf=this._ngForOf}k.forEachIdentityChange(Oe=>{qe(X.get(Oe.currentIndex),Oe)})}static ngTemplateContextGuard(k,X){return!0}}return M.\u0275fac=function(k){return new(k||M)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},M.\u0275dir=u.lG2({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),M})();function qe(M,j){M.context.$implicit=j.item}let U=(()=>{class M{constructor(k,X){this._viewContainer=k,this._context=new ie,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(k){this._context.$implicit=this._context.ngIf=k,this._updateView()}set ngIfThen(k){he("ngIfThen",k),this._thenTemplateRef=k,this._thenViewRef=null,this._updateView()}set ngIfElse(k){he("ngIfElse",k),this._elseTemplateRef=k,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(k,X){return!0}}return M.\u0275fac=function(k){return new(k||M)(u.Y36(u.s_b),u.Y36(u.Rgc))},M.\u0275dir=u.lG2({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),M})();class ie{constructor(){this.$implicit=null,this.ngIf=null}}function he(M,j){if(j&&!j.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,u.AaK)(j)}'.`)}let gn=(()=>{class M{constructor(k){this._viewContainerRef=k,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(k){if(k.ngTemplateOutlet||k.ngTemplateOutletInjector){const X=this._viewContainerRef;if(this._viewRef&&X.remove(X.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Oe,ngTemplateOutletContext:mt,ngTemplateOutletInjector:At}=this;this._viewRef=X.createEmbeddedView(Oe,mt,At?{injector:At}:void 0)}else this._viewRef=null}else this._viewRef&&k.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return M.\u0275fac=function(k){return new(k||M)(u.Y36(u.s_b))},M.\u0275dir=u.lG2({type:M,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[u.TTD]}),M})(),$o=(()=>{class M{}return M.\u0275fac=function(k){return new(k||M)},M.\u0275mod=u.oAB({type:M}),M.\u0275inj=u.cJS({}),M})();const ti="browser";function Vo(M){return M===ti}let Sr=(()=>{class M{}return M.\u0275prov=(0,u.Yz7)({token:M,providedIn:"root",factory:()=>new fs((0,u.LFG)(W),window)}),M})();class fs{constructor(j,k){this.document=j,this.window=k,this.offset=()=>[0,0]}setOffset(j){this.offset=Array.isArray(j)?()=>j:j}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(j){this.supportsScrolling()&&this.window.scrollTo(j[0],j[1])}scrollToAnchor(j){if(!this.supportsScrolling())return;const k=function Is(M,j){const k=M.getElementById(j)||M.getElementsByName(j)[0];if(k)return k;if("function"==typeof M.createTreeWalker&&M.body&&(M.body.createShadowRoot||M.body.attachShadow)){const X=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let Oe=X.currentNode;for(;Oe;){const mt=Oe.shadowRoot;if(mt){const At=mt.getElementById(j)||mt.querySelector(`[name="${j}"]`);if(At)return At}Oe=X.nextNode()}}return null}(this.document,j);k&&(this.scrollToElement(k),k.focus())}setHistoryScrollRestoration(j){if(this.supportScrollRestoration()){const k=this.window.history;k&&k.scrollRestoration&&(k.scrollRestoration=j)}}scrollToElement(j){const k=j.getBoundingClientRect(),X=k.left+this.window.pageXOffset,Oe=k.top+this.window.pageYOffset,mt=this.offset();this.window.scrollTo(X-mt[0],Oe-mt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const j=vr(this.window.history)||vr(Object.getPrototypeOf(this.window.history));return!(!j||!j.writable&&!j.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function vr(M){return Object.getOwnPropertyDescriptor(M,"scrollRestoration")}class ps{}},3363:(en,st,B)=>{"use strict";B.d(st,{tb:()=>Mb,AFp:()=>Sb,ip1:()=>Tb,CZH:()=>ey,hGG:()=>kw,z2F:()=>ny,sBO:()=>yw,Sil:()=>QE,_Vd:()=>bn,EJc:()=>ZE,Xts:()=>kd,SBq:()=>no,lqb:()=>eu,qLn:()=>Pu,vpe:()=>ju,XFs:()=>on,OlP:()=>Nr,zs3:()=>gc,ZZ4:()=>A_,aQg:()=>x_,soG:()=>ty,YKP:()=>F0,h0i:()=>tf,PXZ:()=>dw,R0b:()=>au,FiY:()=>Wi,Lbi:()=>qE,g9A:()=>xb,Qsj:()=>El,FYo:()=>Il,JOm:()=>Ba,tp0:()=>qi,Rgc:()=>Wp,dDg:()=>aw,eoX:()=>Lb,q4F:()=>wl,GfV:()=>Fc,s_b:()=>Xm,ifc:()=>$n,MMx:()=>r_,Lck:()=>$I,eFA:()=>Bb,G48:()=>mw,Gpc:()=>pe,f3M:()=>xe,_c5:()=>Ow,c2e:()=>YE,zSh:()=>vl,wAp:()=>er,vHH:()=>be,lri:()=>Nb,rWj:()=>Fb,D6c:()=>Pw,cg1:()=>Vp,kL8:()=>Vv,dqk:()=>En,Z0I:()=>fn,sIi:()=>el,CqO:()=>Mm,QGY:()=>Hh,QP$:()=>Ze,F4k:()=>Cp,RDi:()=>$a,AaK:()=>Y,qOj:()=>Oh,TTD:()=>ci,_Bn:()=>N0,jDz:()=>$0,xp6:()=>Pg,uIk:()=>Nh,ekj:()=>Lm,Suo:()=>rb,Xpm:()=>In,lG2:()=>Qt,Yz7:()=>yt,cJS:()=>yn,oAB:()=>Te,Yjl:()=>Dn,Y36:()=>Wc,_UZ:()=>ol,GkF:()=>Dp,qZA:()=>Bh,TgZ:()=>sl,EpF:()=>md,n5z:()=>_a,LFG:()=>q,$8M:()=>Uo,$Z:()=>gh,NdJ:()=>Tp,CRH:()=>ib,oxw:()=>Qy,Hsn:()=>ev,F$t:()=>Jy,Q6J:()=>$h,iGM:()=>tb,KtG:()=>_,CHM:()=>Es,LSH:()=>rc,YNc:()=>Ep,_uU:()=>Um,Oqu:()=>vd,hij:()=>Kh,AsE:()=>Fp,lnq:()=>Zh,Gf:()=>nb});var u=B(6810),J=B(1576),Z=B(96),Pe=B(6984),Se=B(9465),re=B(1181);function W(){return new u.xQ}function fe(n){for(let r in n)if(n[r]===fe)return r;throw Error("Could not find renamed property on target object.")}function te(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function Y(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Y).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function ye(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ae=fe({__forward_ref__:fe});function pe(n){return n.__forward_ref__=pe,n.toString=function(){return Y(this())},n}function Fe(n){return Ne(n)?n():n}function Ne(n){return"function"==typeof n&&n.hasOwnProperty(ae)&&n.__forward_ref__===pe}class be extends Error{constructor(r,s){super(function ht(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function rt(n){return"string"==typeof n?n:null==n?"":String(n)}function Ye(n,r){throw new be(-201,!1)}function Be(n,r){null==n&&function Ve(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function yt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function yn(n){return{providers:n.providers||[],imports:n.imports||[]}}function dn(n){return Sn(n,Mt)||Sn(n,sn)}function fn(n){return null!==dn(n)}function Sn(n,r){return n.hasOwnProperty(r)?n[r]:null}function Ct(n){return n&&(n.hasOwnProperty(bt)||n.hasOwnProperty(Bt))?n[bt]:null}const Mt=fe({\u0275prov:fe}),bt=fe({\u0275inj:fe}),sn=fe({ngInjectableDef:fe}),Bt=fe({ngInjectorDef:fe});var on=(()=>((on=on||{})[on.Default=0]="Default",on[on.Host=1]="Host",on[on.Self=2]="Self",on[on.SkipSelf=4]="SkipSelf",on[on.Optional=8]="Optional",on))();let gt;function Un(n){const r=gt;return gt=n,r}function _r(n,r,s){const a=dn(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&on.Optional?null:void 0!==r?r:void Ye(Y(n))}function Wt(n){return{toString:n}.toString()}var tn=(()=>((tn=tn||{})[tn.OnPush=0]="OnPush",tn[tn.Default=1]="Default",tn))(),$n=(()=>{return(n=$n||($n={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",$n;var n})();const En=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Vn={},jn=[],Nn=fe({\u0275cmp:fe}),Zr=fe({\u0275dir:fe}),Tr=fe({\u0275pipe:fe}),jt=fe({\u0275mod:fe}),vt=fe({\u0275fac:fe}),Gt=fe({__NG_ELEMENT_ID__:fe});let wn=0;function In(n){return Wt(()=>{const s=!0===n.standalone,a={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===tn.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||jn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||$n.Emulated,id:"c"+wn++,styles:n.styles||jn,_:null,setInput:null,schemas:n.schemas||null,tView:null},h=n.dependencies,I=n.features;return l.inputs=et(n.inputs,a),l.outputs=et(n.outputs),I&&I.forEach(T=>T(l)),l.directiveDefs=h?()=>("function"==typeof h?h():h).map(Ce).filter(Ie):null,l.pipeDefs=h?()=>("function"==typeof h?h():h).map(Kn).filter(Ie):null,l})}function Ce(n){return nn(n)||Zn(n)}function Ie(n){return null!==n}function Te(n){return Wt(()=>({type:n.type,bootstrap:n.bootstrap||jn,declarations:n.declarations||jn,imports:n.imports||jn,exports:n.exports||jn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function et(n,r){if(null==n)return Vn;const s={};for(const a in n)if(n.hasOwnProperty(a)){let l=n[a],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),s[l]=a,r&&(r[l]=h)}return s}const Qt=In;function Dn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function nn(n){return n[Nn]||null}function Zn(n){return n[Zr]||null}function Kn(n){return n[Tr]||null}function Ze(n){const r=nn(n)||Zn(n)||Kn(n);return null!==r&&r.standalone}function De(n,r){const s=n[jt]||null;if(!s&&!0===r)throw new Error(`Type ${Y(n)} does not have '\u0275mod' property.`);return s}function Ae(n){return Array.isArray(n)&&"object"==typeof n[1]}function Le(n){return Array.isArray(n)&&!0===n[1]}function ft(n){return 0!=(8&n.flags)}function _t(n){return 2==(2&n.flags)}function Vt(n){return 1==(1&n.flags)}function qt(n){return null!==n.template}function gn(n){return 0!=(256&n[2])}function _i(n,r){return n.hasOwnProperty(vt)?n[vt]:null}class hs{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function ci(){return Ys}function Ys(n){return n.type.prototype.ngOnChanges&&(n.setInput=$o),br}function br(){const n=ni(this),r=n?.current;if(r){const s=n.previous;if(s===Vn)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function $o(n,r,s,a){const l=ni(n)||function Zo(n,r){return n[ti]=r}(n,{previous:Vn,current:null}),h=l.current||(l.current={}),I=l.previous,T=this.declaredInputs[s],R=I[T];h[T]=new hs(R&&R.currentValue,r,I===Vn),n[a]=r}ci.ngInherit=!0;const ti="__ngSimpleChanges__";function ni(n){return n[ti]||null}function vr(n){for(;Array.isArray(n);)n=n[0];return n}function ps(n,r){return vr(r[n])}function Si(n,r){return vr(r[n.index])}function Ji(n,r){return n.data[r]}function Qr(n,r){const s=r[n];return Ae(s)?s:s[0]}function gs(n){return 64==(64&n[2])}function Fi(n,r){return null==r?null:n[r]}function Bs(n){n[18]=0}function Zs(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const An={lFrame:j(null),bindingsEnabled:!0};function Hs(){return An.bindingsEnabled}function xt(){return An.lFrame.lView}function Tn(){return An.lFrame.tView}function Es(n){return An.lFrame.contextLView=n,n[8]}function _(n){return An.lFrame.contextLView=null,n}function L(){let n=v();for(;null!==n&&64===n.type;)n=n.parent;return n}function v(){return An.lFrame.currentTNode}function b(n,r){const s=An.lFrame;s.currentTNode=n,s.isParent=r}function D(){return An.lFrame.isParent}function G(){An.lFrame.isParent=!1}function tr(){return An.lFrame.bindingIndex}function hi(){return An.lFrame.bindingIndex++}function fi(n){const r=An.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function Aa(n,r){const s=An.lFrame;s.bindingIndex=s.bindingRootIndex=n,ms(r)}function ms(n){An.lFrame.currentDirectiveIndex=n}function Jo(){return An.lFrame.currentQueryIndex}function Qs(n){An.lFrame.currentQueryIndex=n}function co(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function xa(n,r,s){if(s&on.SkipSelf){let l=r,h=n;for(;!(l=l.parent,null!==l||s&on.Host||(l=co(h),null===l||(h=h[15],10&l.type))););if(null===l)return!1;r=l,n=h}const a=An.lFrame=M();return a.currentTNode=r,a.lView=n,!0}function To(n){const r=M(),s=n[1];An.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function M(){const n=An.lFrame,r=null===n?null:n.child;return null===r?j(n):r}function j(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function k(){const n=An.lFrame;return An.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const X=k;function Oe(){const n=k();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ht(){return An.lFrame.selectedIndex}function xn(n){An.lFrame.selectedIndex=n}function On(){const n=An.lFrame;return Ji(n.tView,n.selectedIndex)}function Ms(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const h=n.data[s].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:T,ngAfterViewInit:R,ngAfterViewChecked:V,ngOnDestroy:Q}=h;I&&(n.contentHooks||(n.contentHooks=[])).push(-s,I),T&&((n.contentHooks||(n.contentHooks=[])).push(s,T),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,T)),R&&(n.viewHooks||(n.viewHooks=[])).push(-s,R),V&&((n.viewHooks||(n.viewHooks=[])).push(s,V),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,V)),null!=Q&&(n.destroyHooks||(n.destroyHooks=[])).push(s,Q)}}function ns(n,r,s){ta(n,r,3,s)}function ws(n,r,s,a){(3&n[2])===s&&ta(n,r,s,a)}function lo(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function ta(n,r,s,a){const h=a??-1,I=r.length-1;let T=0;for(let R=void 0!==a?65535&n[18]:0;R<I;R++)if("number"==typeof r[R+1]){if(T=r[R],null!=a&&T>=a)break}else r[R]<0&&(n[18]+=65536),(T<h||-1==h)&&(Ma(n,s,r,R),n[18]=(4294901760&n[18])+R+2),R++}function Ma(n,r,s,a){const l=s[a]<0,h=s[a+1],T=n[l?-s[a]:s[a]];if(l){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{h.call(T)}finally{}}}else try{h.call(T)}finally{}}class Vr{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Mn(n,r,s){let a=0;for(;a<s.length;){const l=s[a];if("number"==typeof l){if(0!==l)break;a++;const h=s[a++],I=s[a++],T=s[a++];n.setAttribute(r,I,T,h)}else{const h=l,I=s[++a];Yt(h)?n.setProperty(r,h,I):n.setAttribute(r,h,I),a++}}return a}function Hu(n){return 3===n||4===n||6===n}function Yt(n){return 64===n.charCodeAt(0)}function ct(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?s=l:0===s||Nt(n,s,l,null,-1===s||2===s?r[++a]:null)}}return n}function Nt(n,r,s,a,l){let h=0,I=n.length;if(-1===r)I=-1;else for(;h<n.length;){const T=n[h++];if("number"==typeof T){if(T===r){I=-1;break}if(T>r){I=h-1;break}}}for(;h<n.length;){const T=n[h];if("number"==typeof T)break;if(T===s){if(null===a)return void(null!==l&&(n[h+1]=l));if(a===n[h+1])return void(n[h+2]=l)}h++,null!==a&&h++,null!==l&&h++}-1!==I&&(n.splice(I,0,r),h=I+1),n.splice(h++,0,s),null!==a&&n.splice(h++,0,a),null!==l&&n.splice(h++,0,l)}function Mi(n){return-1!==n}function ra(n){return 32767&n}function va(n,r){let s=function Gu(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let Oa=!0;function ia(n){const r=Oa;return Oa=n,r}let Au=0;const Br={};function Bn(n,r){const s=sa(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,ho(a.data,n),ho(r,null),ho(a.blueprint,null));const l=Pr(n,r),h=n.injectorIndex;if(Mi(l)){const I=ra(l),T=va(l,r),R=T[1].data;for(let V=0;V<8;V++)r[h+V]=T[I+V]|R[I+V]}return r[h+8]=l,h}function ho(n,r){n.push(0,0,0,0,0,0,0,0,r)}function sa(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Pr(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,l=r;for(;null!==l;){if(a=Wa(l),null===a)return-1;if(s++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function Fn(n,r,s){!function xu(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Gt)&&(a=s[Gt]),null==a&&(a=s[Gt]=Au++);const l=255&a;r.data[n+(l>>5)]|=1<<l}(n,r,s)}function pr(n,r,s){if(s&on.Optional||void 0!==n)return n;Ye()}function oa(n,r,s,a){if(s&on.Optional&&void 0===a&&(a=null),0==(s&(on.Self|on.Host))){const l=n[9],h=Un(void 0);try{return l?l.get(r,a,s&on.Optional):_r(r,a,s&on.Optional)}finally{Un(h)}}return pr(a,0,s)}function gi(n,r,s,a=on.Default,l){if(null!==n){if(1024&r[2]){const I=function po(n,r,s,a,l){let h=n,I=r;for(;null!==h&&null!==I&&1024&I[2]&&!(256&I[2]);){const T=Kt(h,I,s,a|on.Self,Br);if(T!==Br)return T;let R=h.parent;if(!R){const V=I[21];if(V){const Q=V.get(s,Br,a);if(Q!==Br)return Q}R=Wa(I),I=I[15]}h=R}return l}(n,r,s,a,Br);if(I!==Br)return I}const h=Kt(n,r,s,a,Br);if(h!==Br)return h}return oa(r,s,a,l)}function Kt(n,r,s,a,l){const h=function za(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Gt)?n[Gt]:void 0;return"number"==typeof r?r>=0?255&r:Mu:r}(s);if("function"==typeof h){if(!xa(r,n,a))return a&on.Host?pr(l,0,a):oa(r,s,a,l);try{const I=h(a);if(null!=I||a&on.Optional)return I;Ye()}finally{X()}}else if("number"==typeof h){let I=null,T=sa(n,r),R=-1,V=a&on.Host?r[16][6]:null;for((-1===T||a&on.SkipSelf)&&(R=-1===T?Pr(n,r):r[T+8],-1!==R&&uu(a,!1)?(I=r[1],T=ra(R),r=va(R,r)):T=-1);-1!==T;){const Q=r[1];if(fo(h,T,Q.data)){const ge=aa(T,r,s,I,a,V);if(ge!==Br)return ge}R=r[T+8],-1!==R&&uu(a,r[1].data[T+8]===V)&&fo(h,T,r)?(I=Q,T=ra(R),r=va(R,r)):T=-1}}return l}function aa(n,r,s,a,l,h){const I=r[1],T=I.data[n+8],Q=Bo(T,I,s,null==a?_t(T)&&Oa:a!=I&&0!=(3&T.type),l&on.Host&&h===T);return null!==Q?ys(r,I,Q,T):Br}function Bo(n,r,s,a,l){const h=n.providerIndexes,I=r.data,T=1048575&h,R=n.directiveStart,Q=h>>20,Ue=l?T+Q:n.directiveEnd;for(let ut=a?T:T+Q;ut<Ue;ut++){const St=I[ut];if(ut<R&&s===St||ut>=R&&St.type===s)return ut}if(l){const ut=I[R];if(ut&&qt(ut)&&ut.type===s)return R}return null}function ys(n,r,s,a){let l=n[s];const h=r.data;if(function Js(n){return n instanceof Vr}(l)){const I=l;I.resolving&&function Dt(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new be(-200,`Circular dependency in DI detected for ${n}${s}`)}(function at(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():rt(n)}(h[s]));const T=ia(I.canSeeViewProviders);I.resolving=!0;const R=I.injectImpl?Un(I.injectImpl):null;xa(n,a,on.Default);try{l=n[s]=I.factory(void 0,h,n,a),r.firstCreatePass&&s>=a.directiveStart&&function ea(n,r,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:h}=r.type.prototype;if(a){const I=Ys(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,I),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,I)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,l),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,h))}(s,h[s],r)}finally{null!==R&&Un(R),ia(T),I.resolving=!1,X()}}return l}function fo(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function uu(n,r){return!(n&on.Self||n&on.Host&&r)}class vs{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return gi(this._tNode,this._lView,r,a,s)}}function Mu(){return new vs(L(),xt())}function _a(n){return Wt(()=>{const r=n.prototype.constructor,s=r[vt]||_s(r),a=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==a;){const h=l[vt]||_s(l);if(h&&h!==s)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function _s(n){return Ne(n)?()=>{const r=_s(Fe(n));return r&&r()}:_i(n)}function Wa(n){const r=n[1],s=r.type;return 2===s?r.declTNode:1===s?n[6]:null}function Uo(n){return function Ao(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const h=s[l];if(Hu(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(h===r)return s[l+1];l+=2}}}return null}(L(),n)}const eo="__parameters__";function xo(n,r,s){return Wt(()=>{const a=function rs(n){return function(...s){if(n){const a=n(...s);for(const l in a)this[l]=a[l]}}}(r);function l(...h){if(this instanceof l)return a.apply(this,h),this;const I=new l(...h);return T.annotation=I,T;function T(R,V,Q){const ge=R.hasOwnProperty(eo)?R[eo]:Object.defineProperty(R,eo,{value:[]})[eo];for(;ge.length<=Q;)ge.push(null);return(ge[Q]=ge[Q]||[]).push(I),R}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class Nr{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=yt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Fr(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),Fr(a,r)):r!==n&&r.push(a)}return r}function go(n,r){n.forEach(s=>Array.isArray(s)?go(s,r):r(s))}function Di(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function lu(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function $i(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}function bi(n,r,s){let a=to(n,r);return a>=0?n[1|a]=s:(a=~a,function du(n,r,s,a){let l=n.length;if(l==r)n.push(s,a);else if(1===l)n.push(a,n[0]),n[0]=s;else{for(l--,n.push(n[l-1],n[l]);l>r;)n[l]=n[l-2],l--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function Ia(n,r){const s=to(n,r);if(s>=0)return n[1|s]}function to(n,r){return function Ro(n,r,s){let a=0,l=n.length>>s;for(;l!==a;){const h=a+(l-a>>1),I=n[h<<s];if(r===I)return h<<s;I>r?l=h:a=h+1}return~(l<<s)}(n,r,1)}const la={},ks="__NG_DI_FLAG__",Ea="ngTempTokenPath",da=/\n/gm,E="__source";let y;function x(n){const r=y;return y=n,r}function F(n,r=on.Default){if(void 0===y)throw new be(-203,!1);return null===y?_r(n,void 0,r):y.get(n,r&on.Optional?null:void 0,r)}function q(n,r=on.Default){return(function Mr(){return gt}()||F)(Fe(n),r)}function xe(n,r=on.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),q(n,r)}function it(n){const r=[];for(let s=0;s<n.length;s++){const a=Fe(n[s]);if(Array.isArray(a)){if(0===a.length)throw new be(900,!1);let l,h=on.Default;for(let I=0;I<a.length;I++){const T=a[I],R=ir(T);"number"==typeof R?-1===R?l=T.token:h|=R:l=T}r.push(q(l,h))}else r.push(q(a))}return r}function Xt(n,r){return n[ks]=r,n.prototype[ks]=r,n}function ir(n){return n[ks]}const Wi=Xt(xo("Optional"),8),qi=Xt(xo("SkipSelf"),4);let Qa;function $a(n){Qa=n}class fl{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Wo(n){return n instanceof fl?n.changingThisBreaksApplicationSecurity:n}const lf=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var ss=(()=>((ss=ss||{})[ss.NONE=0]="NONE",ss[ss.HTML=1]="HTML",ss[ss.STYLE=2]="STYLE",ss[ss.SCRIPT=3]="SCRIPT",ss[ss.URL=4]="URL",ss[ss.RESOURCE_URL=5]="RESOURCE_URL",ss))();function rc(n){const r=function sc(){const n=xt();return n&&n[12]}();return r?r.sanitize(ss.URL,n)||"":function mu(n,r){const s=function uf(n){return n instanceof fl&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?Wo(n):function ec(n){return(n=String(n)).match(lf)?n:"unsafe:"+n}(rt(n))}const kd=new Nr("ENVIRONMENT_INITIALIZER"),mf=new Nr("INJECTOR",-1),yf=new Nr("INJECTOR_DEF_TYPES");class oc{get(r,s=la){if(s===la){const a=new Error(`NullInjectorError: No provider for ${Y(r)}!`);throw a.name="NullInjectorError",a}return s}}function vf(...n){return{\u0275providers:_f(0,n)}}function _f(n,...r){const s=[],a=new Set;let l;return go(r,h=>{const I=h;kc(I,s,[],a)&&(l||(l=[]),l.push(I))}),void 0!==l&&Cs(l,s),s}function Cs(n,r){for(let s=0;s<n.length;s++){const{providers:l}=n[s];go(l,h=>{r.push(h)})}}function kc(n,r,s,a){if(!(n=Fe(n)))return!1;let l=null,h=Ct(n);const I=!h&&nn(n);if(h||I){if(I&&!I.standalone)return!1;l=n}else{const R=n.ngModule;if(h=Ct(R),!h)return!1;l=R}const T=a.has(l);if(I){if(T)return!1;if(a.add(l),I.dependencies){const R="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const V of R)kc(V,r,s,a)}}else{if(!h)return!1;{if(null!=h.imports&&!T){let V;a.add(l);try{go(h.imports,Q=>{kc(Q,r,s,a)&&(V||(V=[]),V.push(Q))})}finally{}void 0!==V&&Cs(V,r)}if(!T){const V=_i(l)||(()=>new l);r.push({provide:l,useFactory:V,deps:jn},{provide:yf,useValue:l,multi:!0},{provide:kd,useValue:()=>q(l),multi:!0})}const R=h.providers;null==R||T||go(R,Q=>{r.push(Q)})}}return l!==n&&void 0!==n.providers}const Pc=fe({provide:String,useValue:fe});function ha(n){return null!==n&&"object"==typeof n&&Pc in n}function Da(n){return"function"==typeof n}const vl=new Nr("Set Injector scope."),Nc={},rg={};let Nd;function yu(){return void 0===Nd&&(Nd=new oc),Nd}class eu{}class If extends eu{constructor(r,s,a,l){super(),this.parent=s,this.source=a,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,m(r,I=>this.processProvider(I)),this.records.set(mf,ku(void 0,this)),l.has("environment")&&this.records.set(eu,ku(void 0,this));const h=this.records.get(vl);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(yf.multi,jn,on.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=x(this),a=Un(void 0);try{return r()}finally{x(s),Un(a)}}get(r,s=la,a=on.Default){this.assertNotDestroyed();const l=x(this),h=Un(void 0);try{if(!(a&on.SkipSelf)){let T=this.records.get(r);if(void 0===T){const R=function C(n){return"function"==typeof n||"object"==typeof n&&n instanceof Nr}(r)&&dn(r);T=R&&this.injectableDefInScope(R)?ku(_l(r),Nc):null,this.records.set(r,T)}if(null!=T)return this.hydrate(r,T)}return(a&on.Self?yu():this.parent).get(r,s=a&on.Optional&&s===la?null:s)}catch(I){if("NullInjectorError"===I.name){if((I[Ea]=I[Ea]||[]).unshift(Y(r)),l)throw I;return function Jt(n,r,s,a){const l=n[Ea];throw r[E]&&l.unshift(r[E]),n.message=function $r(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let l=Y(r);if(Array.isArray(r))l=r.map(Y).join(" -> ");else if("object"==typeof r){let h=[];for(let I in r)if(r.hasOwnProperty(I)){let T=r[I];h.push(I+":"+("string"==typeof T?JSON.stringify(T):Y(T)))}l=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${n.replace(da,"\n  ")}`}("\n"+n.message,l,s,a),n.ngTokenPath=l,n[Ea]=null,n}(I,r,"R3InjectorError",this.source)}throw I}finally{Un(h),x(l)}}resolveInjectorInitializers(){const r=x(this),s=Un(void 0);try{const a=this.get(kd.multi,jn,on.Self);for(const l of a)l()}finally{x(r),Un(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Y(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(r){let s=Da(r=Fe(r))?r:Fe(r&&r.provide);const a=function Ef(n){return ha(n)?ku(void 0,n.useValue):ku(wf(n),Nc)}(r);if(Da(r)||!0!==r.multi)this.records.get(s);else{let l=this.records.get(s);l||(l=ku(void 0,Nc,!0),l.factory=()=>it(l.multi),this.records.set(s,l)),s=r,l.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Nc&&(s.value=rg,s.value=s.factory()),"object"==typeof s.value&&s.value&&function sg(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Fe(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function _l(n){const r=dn(n),s=null!==r?r.factory:_i(n);if(null!==s)return s;if(n instanceof Nr)throw new be(204,!1);if(n instanceof Function)return function Fd(n){const r=n.length;if(r>0)throw $i(r,"?"),new be(204,!1);const s=function Yn(n){const r=n&&(n[Mt]||n[sn]);if(r){const s=function ar(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new be(204,!1)}function wf(n,r,s){let a;if(Da(n)){const l=Fe(n);return _i(l)||_l(l)}if(ha(n))a=()=>Fe(n.useValue);else if(function Pd(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...it(n.deps||[]));else if(function yl(n){return!(!n||!n.useExisting)}(n))a=()=>q(Fe(n.useExisting));else{const l=Fe(n&&(n.useClass||n.provide));if(!function ig(n){return!!n.deps}(n))return _i(l)||_l(l);a=()=>new l(...it(n.deps))}return a}function ku(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function f(n){return!!n.\u0275providers}function m(n,r){for(const s of n)Array.isArray(s)?m(s,r):f(s)?m(s.\u0275providers,r):r(s)}class K{}class pn{resolveComponentFactory(r){throw function ue(n){const r=Error(`No component factory found for ${Y(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let bn=(()=>{class n{}return n.NULL=new pn,n})();function hr(){return Ur(L(),xt())}function Ur(n,r){return new no(Si(n,r))}let no=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=hr,n})();function tu(n){return n instanceof no?n.nativeElement:n}class Il{}let El=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Ld(){const n=xt(),s=Qr(L().index,n);return(Ae(s)?s:n)[11]}(),n})(),$d=(()=>{class n{}return n.\u0275prov=yt({token:n,providedIn:"root",factory:()=>null}),n})();class Fc{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const wl=new Fc("14.2.8"),Lc={};function Gd(n){return n.ngOriginalError}class Pu{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Gd(r);for(;s&&Gd(s);)s=Gd(s);return s||null}}const zd=new Map;let dy=0;const Af="__ngContext__";function wo(n,r){Ae(r)?(n[Af]=r[20],function lg(n){zd.set(n[20],n)}(r)):n[Af]=r}function os(n){return n instanceof Function?n():n}var Ba=(()=>((Ba=Ba||{})[Ba.Important=1]="Important",Ba[Ba.DashCase=2]="DashCase",Ba))();function Mf(n,r){return undefined(n,r)}function Bc(n){const r=n[3];return Le(r)?r[3]:r}function Of(n){return Ol(n[13])}function kf(n){return Ol(n[4])}function Ol(n){for(;null!==n&&!Le(n);)n=n[4];return n}function Uc(n,r,s,a,l){if(null!=a){let h,I=!1;Le(a)?h=a:Ae(a)&&(I=!0,a=a[0]);const T=vr(a);0===n&&null!==s?null==l?Nl(r,s,T):fc(r,s,T,l||null,!0):1===n&&null!==s?fc(r,s,T,l||null,!0):2===n?function Lf(n,r,s){const a=jc(n,r);a&&function Tg(n,r,s,a){n.removeChild(r,s,a)}(n,a,r,s)}(r,T,I):3===n&&r.destroyNode(T),null!=h&&function Gc(n,r,s,a,l){const h=s[7];h!==vr(s)&&Uc(r,n,a,h,l);for(let T=10;T<s.length;T++){const R=s[T];Hc(R[1],R,n,r,a,h)}}(r,n,h,s,l)}}function Eu(n,r,s){return n.createElement(r,s)}function wg(n,r){const s=n[9],a=s.indexOf(r),l=r[3];512&r[2]&&(r[2]&=-513,Zs(l,-1)),s.splice(a,1)}function Pl(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const l=a[17];null!==l&&l!==n&&wg(l,a),r>0&&(n[s-1][4]=a[4]);const h=lu(n,10+r);!function kl(n,r){Hc(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const I=h[19];null!==I&&I.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function Ns(n,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&Hc(n,r,s,3,null,null),function yy(n){let r=n[13];if(!r)return Pf(n[1],n);for(;r;){let s=null;if(Ae(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)Ae(r)&&Pf(r[1],r),r=r[3];null===r&&(r=n),Ae(r)&&Pf(r[1],r),s=r&&r[4]}r=s}}(r)}}function Pf(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function by(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const l=r[s[a]];if(!(l instanceof Vr)){const h=s[a+1];if(Array.isArray(h))for(let I=0;I<h.length;I+=2){const T=l[h[I]],R=h[I+1];try{R.call(T)}finally{}}else try{h.call(l)}finally{}}}}(n,r),function _y(n,r){const s=n.cleanup,a=r[7];let l=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const I=s[h+1],T="function"==typeof I?I(r):vr(r[I]),R=a[l=s[h+2]],V=s[h+3];"boolean"==typeof V?T.removeEventListener(s[h],R,V):V>=0?a[l=V]():a[l=-V].unsubscribe(),h+=2}else{const I=a[l=s[h+1]];s[h].call(I)}if(null!==a){for(let h=l+1;h<a.length;h++)(0,a[h])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&Le(r[3])){s!==r[3]&&wg(s,r);const a=r[19];null!==a&&a.detachView(n)}!function Al(n){zd.delete(n[20])}(r)}}function Dg(n,r,s){return function Nf(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const l=n.data[a.directiveStart].encapsulation;if(l===$n.None||l===$n.Emulated)return null}return Si(a,s)}(n,r.parent,s)}function fc(n,r,s,a,l){n.insertBefore(r,s,a,l)}function Nl(n,r,s){n.appendChild(r,s)}function Cg(n,r,s,a,l){null!==a?fc(n,r,s,a,l):Nl(n,r,s)}function jc(n,r){return n.parentNode(r)}function Ll(n,r,s){return Jd(n,r,s)}let Jd=function Qd(n,r,s){return 40&n.type?Si(n,s):null};function $l(n,r,s,a){const l=Dg(n,a,r),h=r[11],T=Ll(a.parent||r[6],a,r);if(null!=l)if(Array.isArray(s))for(let R=0;R<s.length;R++)Cg(h,l,s[R],T,!1);else Cg(h,l,s,T,!1)}function Vl(n,r){if(null!==r){const s=r.type;if(3&s)return Si(r,n);if(4&s)return Ff(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return Vl(n,a);{const l=n[r.index];return Le(l)?Ff(-1,l):vr(l)}}if(32&s)return Mf(r,n)()||vr(n[r.index]);{const a=th(n,r);return null!==a?Array.isArray(a)?a[0]:Vl(Bc(n[16]),a):Vl(n,r.next)}}return null}function th(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Ff(n,r){const s=10+n+1;if(s<r.length){const a=r[s],l=a[1].firstChild;if(null!==l)return Vl(a,l)}return r[7]}function $f(n,r,s,a,l,h,I){for(;null!=s;){const T=a[s.index],R=s.type;if(I&&0===r&&(T&&wo(vr(T),a),s.flags|=4),64!=(64&s.flags))if(8&R)$f(n,r,s.child,a,l,h,!1),Uc(r,n,l,T,h);else if(32&R){const V=Mf(s,a);let Q;for(;Q=V();)Uc(r,n,l,Q,h);Uc(r,n,l,T,h)}else 16&R?pc(n,r,a,s,l,h):Uc(r,n,l,T,h);s=I?s.projectionNext:s.next}}function Hc(n,r,s,a,l,h){$f(s,a,n.firstChild,r,l,h,!1)}function pc(n,r,s,a,l,h){const I=s[16],R=I[6].projection[a.projection];if(Array.isArray(R))for(let V=0;V<R.length;V++)Uc(r,n,l,R[V],h);else $f(n,r,R,I[3],l,h,!0)}function Bl(n,r,s){n.setAttribute(r,"style",s)}function nh(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function Bf(n,r,s){let a=n.length;for(;;){const l=n.indexOf(r,s);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const h=r.length;if(l+h===a||n.charCodeAt(l+h)<=32)return l}s=l+1}}const xg="ng-template";function Uf(n,r,s){let a=0;for(;a<n.length;){let l=n[a++];if(s&&"class"===l){if(l=n[a],-1!==Bf(l.toLowerCase(),r,0))return!0}else if(1===l){for(;a<n.length&&"string"==typeof(l=n[a++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function Mg(n){return 4===n.type&&n.value!==xg}function jf(n,r,s){return r===(4!==n.type||s?n.value:xg)}function Rg(n,r,s){let a=4;const l=n.attrs||[],h=function rh(n){for(let r=0;r<n.length;r++)if(Hu(n[r]))return r;return n.length}(l);let I=!1;for(let T=0;T<r.length;T++){const R=r[T];if("number"!=typeof R){if(!I)if(4&a){if(a=2|1&a,""!==R&&!jf(n,R,s)||""===R&&1===r.length){if(Ca(a))return!1;I=!0}}else{const V=8&a?R:r[++T];if(8&a&&null!==n.attrs){if(!Uf(n.attrs,V,s)){if(Ca(a))return!1;I=!0}continue}const ge=Hf(8&a?"class":R,l,Mg(n),s);if(-1===ge){if(Ca(a))return!1;I=!0;continue}if(""!==V){let Ue;Ue=ge>h?"":l[ge+1].toLowerCase();const ut=8&a?Ue:null;if(ut&&-1!==Bf(ut,V,0)||2&a&&V!==Ue){if(Ca(a))return!1;I=!0}}}}else{if(!I&&!Ca(a)&&!Ca(R))return!1;if(I&&Ca(R))continue;I=!1,a=R|1&a}}return Ca(a)||I}function Ca(n){return 0==(1&n)}function Hf(n,r,s,a){if(null===r)return-1;let l=0;if(a||!s){let h=!1;for(;l<r.length;){const I=r[l];if(I===n)return l;if(3===I||6===I)h=!0;else{if(1===I||2===I){let T=r[++l];for(;"string"==typeof T;)T=r[++l];continue}if(4===I)break;if(0===I){l+=4;continue}}l+=h?1:2}return-1}return function Gf(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function Ul(n,r,s=!1){for(let a=0;a<r.length;a++)if(Rg(n,r[a],s))return!0;return!1}function zf(n,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(n.length===a.length){for(let l=0;l<n.length;l++)if(n[l]!==a[l])continue e;return!0}}return!1}function ih(n,r){return n?":not("+r.trim()+")":r}function Og(n){let r=n[0],s=1,a=2,l="",h=!1;for(;s<n.length;){let I=n[s];if("string"==typeof I)if(2&a){const T=n[++s];l+="["+I+(T.length>0?'="'+T+'"':"")+"]"}else 8&a?l+="."+I:4&a&&(l+=" "+I);else""!==l&&!Ca(I)&&(r+=ih(h,l),l=""),a=I,h=h||!Ca(a);s++}return""!==l&&(r+=ih(h,l)),r}const lr={};function Pg(n){Ng(Tn(),xt(),Ht()+n,!1)}function Ng(n,r,s,a){if(!a)if(3==(3&r[2])){const h=n.preOrderCheckHooks;null!==h&&ns(r,h,s)}else{const h=n.preOrderHooks;null!==h&&ws(r,h,0,s)}xn(s)}function ah(n,r=null,s=null,a){const l=$g(n,r,s,a);return l.resolveInjectorInitializers(),l}function $g(n,r=null,s=null,a,l=new Set){const h=[s||jn,vf(n)];return a=a||("object"==typeof n?void 0:Y(n)),new If(h,r||yu(),a||null,l)}let gc=(()=>{class n{static create(s,a){if(Array.isArray(s))return ah({name:""},a,s,"");{const l=s.name??"";return ah({name:l},s.parent,s.providers,l)}}}return n.THROW_IF_NOT_FOUND=la,n.NULL=new oc,n.\u0275prov=yt({token:n,providedIn:"any",factory:()=>q(mf)}),n.__NG_ELEMENT_ID__=-1,n})();function Wc(n,r=on.Default){const s=xt();return null===s?q(n,r):gi(L(),s,Fe(n),r)}function gh(){throw new Error("invalid")}function qc(n,r){return n<<17|r<<2}function Ta(n){return n>>17&32767}function ql(n){return 2|n}function Yo(n){return(131068&n)>>2}function nu(n,r){return-131069&n|r<<2}function $u(n){return 1|n}function bh(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const l=s[a],h=s[a+1];if(-1!==h){const I=n.data[h];Qs(l),I.contentQueries(2,r[h],h)}}}function Kc(n,r,s,a,l,h,I,T,R,V,Q){const ge=r.blueprint.slice();return ge[0]=l,ge[2]=76|a,(null!==Q||n&&1024&n[2])&&(ge[2]|=1024),Bs(ge),ge[3]=ge[15]=n,ge[8]=s,ge[10]=I||n&&n[10],ge[11]=T||n&&n[11],ge[12]=R||n&&n[12]||null,ge[9]=V||n&&n[9]||null,ge[6]=h,ge[20]=function cg(){return dy++}(),ge[21]=Q,ge[16]=2==r.type?n[16]:ge,ge}function Zc(n,r,s,a,l){let h=n.data[r];if(null===h)h=function nd(n,r,s,a,l){const h=v(),I=D(),R=n.data[r]=function cm(n,r,s,a,l,h){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?h:h&&h.parent,s,r,a,l);return null===n.firstChild&&(n.firstChild=R),null!==h&&(I?null==h.child&&null!==R.parent&&(h.child=R):null===h.next&&(h.next=R)),R}(n,r,s,a,l),function xs(){return An.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=a,h.attrs=l;const I=function p(){const n=An.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();h.injectorIndex=null===I?-1:I.injectorIndex}return b(h,!0),h}function Ko(n,r,s,a){if(0===s)return-1;const l=r.length;for(let h=0;h<s;h++)r.push(a),n.blueprint.push(a),n.data.push(null);return l}function rd(n,r,s){To(r);try{const a=n.viewQuery;null!==a&&hp(1,a,s);const l=n.template;null!==l&&Eh(n,r,l,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&bh(n,r),n.staticViewQueries&&hp(2,n.viewQuery,s);const h=n.components;null!==h&&function sm(n,r){for(let s=0;s<r.length;s++)K_(n,r[s])}(r,h)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,Oe()}}function Ih(n,r,s,a){const l=r[2];if(128!=(128&l)){To(r);try{Bs(r),function Ei(n){return An.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Eh(n,r,s,2,a);const I=3==(3&l);if(I){const V=n.preOrderCheckHooks;null!==V&&ns(r,V,null)}else{const V=n.preOrderHooks;null!==V&&ws(r,V,0,null),lo(r,0)}if(function Uy(n){for(let r=Of(n);null!==r;r=kf(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const l=s[a],h=l[3];0==(512&l[2])&&Zs(h,1),l[2]|=512}}}(r),function iu(n){for(let r=Of(n);null!==r;r=kf(r))for(let s=10;s<r.length;s++){const a=r[s],l=a[1];gs(a)&&Ih(l,a,l.template,a[8])}}(r),null!==n.contentQueries&&bh(n,r),I){const V=n.contentCheckHooks;null!==V&&ns(r,V)}else{const V=n.contentHooks;null!==V&&ws(r,V,1),lo(r,1)}!function ap(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)xn(~l);else{const h=l,I=s[++a],T=s[++a];Aa(I,h),T(2,r[h])}}}finally{xn(-1)}}(n,r);const T=n.components;null!==T&&function Yc(n,r){for(let s=0;s<r.length;s++)Y_(n,r[s])}(r,T);const R=n.viewQuery;if(null!==R&&hp(2,R,a),I){const V=n.viewCheckHooks;null!==V&&ns(r,V)}else{const V=n.viewHooks;null!==V&&ws(r,V,2),lo(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,Zs(r[3],-1))}finally{Oe()}}}function Eh(n,r,s,a,l){const h=Ht(),I=2&a;try{xn(-1),I&&r.length>22&&Ng(n,r,22,!1),s(a,l)}finally{xn(h)}}function om(n,r,s){if(ft(r)){const l=r.directiveEnd;for(let h=r.directiveStart;h<l;h++){const I=n.data[h];I.contentQueries&&I.contentQueries(1,s[h],h)}}}function up(n,r,s){!Hs()||(function fm(n,r,s,a){const l=s.directiveStart,h=s.directiveEnd;n.firstCreatePass||Bn(s,r),wo(a,r);const I=s.initialInputs;for(let T=l;T<h;T++){const R=n.data[T],V=qt(R);V&&ym(r,s,R);const Q=ys(r,n,T,s);wo(Q,r),null!==I&&ud(0,T-l,Q,R,0,I),V&&(Qr(s.index,r)[8]=Q)}}(n,r,s,Si(s,r)),128==(128&s.flags)&&function Vy(n,r,s){const a=s.directiveStart,l=s.directiveEnd,h=s.index,I=function uo(){return An.lFrame.currentDirectiveIndex}();try{xn(h);for(let T=a;T<l;T++){const R=n.data[T],V=r[T];ms(T),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&Th(R,V)}}finally{xn(-1),ms(I)}}(n,r,s))}function id(n,r,s=Si){const a=r.localNames;if(null!==a){let l=r.index+1;for(let h=0;h<a.length;h+=2){const I=a[h+1],T=-1===I?s(r,n):n[I];n[l++]=T}}}function am(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=sd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function sd(n,r,s,a,l,h,I,T,R,V){const Q=22+a,ge=Q+l,Ue=function Ny(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:lr);return s}(Q,ge),ut="function"==typeof V?V():V;return Ue[1]={type:n,blueprint:Ue,template:s,queries:null,viewQuery:T,declTNode:r,data:Ue.slice().fill(null,Q),bindingStartIndex:Q,expandoStartIndex:ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:R,consts:ut,incompleteFirstPass:!1}}function wh(n,r,s,a){const l=_m(r);null===s?l.push(a):(l.push(s),n.firstCreatePass&&bm(n).push(a,l.length-1))}function Dh(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const l=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,l):s[a]=[r,l]}return s}function cp(n,r){const a=r.directiveEnd,l=n.data,h=r.attrs,I=[];let T=null,R=null;for(let V=r.directiveStart;V<a;V++){const Q=l[V],ge=Q.inputs,Ue=null===h||Mg(r)?null:By(ge,h);I.push(Ue),T=Dh(ge,V,T),R=Dh(Q.outputs,V,R)}null!==T&&(T.hasOwnProperty("class")&&(r.flags|=16),T.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=I,r.inputs=T,r.outputs=R}function Ch(n,r){const s=Qr(r,n);16&s[2]||(s[2]|=32)}function od(n,r,s,a){let l=!1;if(Hs()){const h=function dp(n,r,s){const a=n.directiveRegistry;let l=null;if(a)for(let h=0;h<a.length;h++){const I=a[h];Ul(s,I.selectors,!1)&&(l||(l=[]),Fn(Bn(s,r),n,I.type),qt(I)?(pm(n,s),l.unshift(I)):l.push(I))}return l}(n,r,s),I=null===a?null:{"":-1};if(null!==h){l=!0,ad(s,n.data.length,h.length);for(let Q=0;Q<h.length;Q++){const ge=h[Q];ge.providersResolver&&ge.providersResolver(ge)}let T=!1,R=!1,V=Ko(n,r,h.length,null);for(let Q=0;Q<h.length;Q++){const ge=h[Q];s.mergedAttrs=ct(s.mergedAttrs,ge.hostAttrs),xr(n,s,r,V,ge),mm(V,ge,I),null!==ge.contentQueries&&(s.flags|=8),(null!==ge.hostBindings||null!==ge.hostAttrs||0!==ge.hostVars)&&(s.flags|=128);const Ue=ge.type.prototype;!T&&(Ue.ngOnChanges||Ue.ngOnInit||Ue.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),T=!0),!R&&(Ue.ngOnChanges||Ue.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),R=!0),V++}cp(n,s)}I&&function gm(n,r,s){if(r){const a=n.localNames=[];for(let l=0;l<r.length;l+=2){const h=s[r[l+1]];if(null==h)throw new be(-301,!1);a.push(r[l],h)}}}(s,a,I)}return s.mergedAttrs=ct(s.mergedAttrs,s.attrs),l}function dm(n,r,s,a,l,h){const I=h.hostBindings;if(I){let T=n.hostBindingOpCodes;null===T&&(T=n.hostBindingOpCodes=[]);const R=~r.index;(function hm(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(T)!=R&&T.push(R),T.push(a,l,I)}}function Th(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function pm(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function mm(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;qt(r)&&(s[""]=n)}}function ad(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function xr(n,r,s,a,l){n.data[a]=l;const h=l.factory||(l.factory=_i(l.type)),I=new Vr(h,qt(l),Wc);n.blueprint[a]=I,s[a]=I,dm(n,r,0,a,Ko(n,s,l.hostVars,lr),l)}function ym(n,r,s){const a=Si(r,n),l=am(s),h=n[10],I=cd(n,Kc(n,l,null,s.onPush?32:16,a,r,h,h.createRenderer(a,s),null,null,null));n[r.index]=I}function Ua(n,r,s,a,l,h){const I=Si(n,r);!function Sh(n,r,s,a,l,h,I){if(null==h)n.removeAttribute(r,l,s);else{const T=null==I?rt(h):I(h,a||"",l);n.setAttribute(r,l,T,s)}}(r[11],I,h,n.value,s,a,l)}function ud(n,r,s,a,l,h){const I=h[r];if(null!==I){const T=a.setInput;for(let R=0;R<I.length;){const V=I[R++],Q=I[R++],ge=I[R++];null!==T?a.setInput(s,ge,V,Q):s[Q]=ge}}}function By(n,r){let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;n.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,n[l],r[a+1])),a+=2}else a+=2;else a+=4}return s}function ro(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function Y_(n,r){const s=Qr(r,n);if(gs(s)){const a=s[1];48&s[2]?Ih(a,s,a.template,s[8]):s[5]>0&&Ah(s)}}function Ah(n){for(let a=Of(n);null!==a;a=kf(a))for(let l=10;l<a.length;l++){const h=a[l];if(gs(h))if(512&h[2]){const I=h[1];Ih(I,h,I.template,h[8])}else h[5]>0&&Ah(h)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const l=Qr(s[a],n);gs(l)&&l[5]>0&&Ah(l)}}function K_(n,r){const s=Qr(r,n),a=s[1];(function vm(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),rd(a,s,s[8])}function cd(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Xc(n){for(;n;){n[2]|=32;const r=Bc(n);if(gn(n)&&!r)return n;n=r}return null}function xh(n,r,s,a=!0){const l=r[10];l.begin&&l.begin();try{Ih(n,r,n.template,s)}catch(I){throw a&&fp(r,I),I}finally{l.end&&l.end()}}function hp(n,r,s){Qs(0),r(n,s)}function _m(n){return n[7]||(n[7]=[])}function bm(n){return n.cleanup||(n.cleanup=[])}function fp(n,r){const s=n[9],a=s?s.get(Pu,null):null;a&&a.handleError(r)}function ld(n,r,s,a,l){for(let h=0;h<s.length;){const I=s[h++],T=s[h++],R=r[I],V=n.data[I];null!==V.setInput?V.setInput(R,l,a,T):R[T]=l}}function su(n,r,s){const a=ps(r,n);!function vg(n,r,s){n.setValue(r,s)}(n[11],a,s)}function Qc(n,r,s){let a=s?n.styles:null,l=s?n.classes:null,h=0;if(null!==r)for(let I=0;I<r.length;I++){const T=r[I];"number"==typeof T?h=T:1==h?l=ye(l,T):2==h&&(a=ye(a,T+": "+r[++I]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=l:n.classesWithoutHost=l}function Jc(n,r,s,a,l=!1){for(;null!==s;){const h=r[s.index];if(null!==h&&a.push(vr(h)),Le(h))for(let T=10;T<h.length;T++){const R=h[T],V=R[1].firstChild;null!==V&&Jc(R[1],R,V,a)}const I=s.type;if(8&I)Jc(n,r,s.child,a);else if(32&I){const T=Mf(s,r);let R;for(;R=T();)a.push(R)}else if(16&I){const T=th(r,s);if(Array.isArray(T))a.push(...T);else{const R=Bc(r[16]);Jc(R[1],R,T,a,!0)}}s=l?s.projectionNext:s.next}return a}class yc{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return Jc(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Le(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Pl(r,a),lu(s,a))}this._attachedToViewContainer=!1}Ns(this._lView[1],this._lView)}onDestroy(r){wh(this._lView[1],this._lView,null,r)}markForCheck(){Xc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){xh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ig(n,r){Hc(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=r}}class Mh extends yc{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;xh(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class dd extends bn{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=nn(r);return new vc(s,this.ngModule)}}function pp(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class gp{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const l=this.injector.get(r,Lc,a);return l!==Lc||s===Lc?l:this.parentInjector.get(r,s,a)}}class vc extends K{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function wy(n){return n.map(Og).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return pp(this.componentDef.inputs)}get outputs(){return pp(this.componentDef.outputs)}create(r,s,a,l){let h=(l=l||this.ngModule)instanceof eu?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const I=h?new gp(r,h):r,T=I.get(Il,null);if(null===T)throw new be(407,!1);const R=I.get($d,null),V=T.createRenderer(null,this.componentDef),Q=this.componentDef.selectors[0][0]||"div",ge=a?function Fy(n,r,s){return n.selectRootElement(r,s===$n.ShadowDom)}(V,a,this.componentDef.encapsulation):Eu(T.createRenderer(null,this.componentDef),Q,function Rh(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Q)),Ue=this.componentDef.onPush?288:272,ut=sd(0,null,null,1,0,null,null,null,null,null),St=Kc(null,ut,null,Ue,null,null,T,V,R,I,null);let Zt,cn;To(St);try{const kn=function jy(n,r,s,a,l,h){const I=s[1];s[22]=n;const R=Zc(I,22,2,"#host",null),V=R.mergedAttrs=r.hostAttrs;null!==V&&(Qc(R,V,!0),null!==n&&(Mn(l,n,V),null!==R.classes&&nh(l,n,R.classes),null!==R.styles&&Bl(l,n,R.styles)));const Q=a.createRenderer(n,r),ge=Kc(s,am(r),null,r.onPush?32:16,s[22],R,a,Q,h||null,null,null);return I.firstCreatePass&&(Fn(Bn(R,s),I,r.type),pm(I,R),ad(R,s.length,1)),cd(s,ge),s[22]=ge}(ge,this.componentDef,St,T,V);if(ge)if(a)Mn(V,ge,["ng-version",wl.full]);else{const{attrs:Jn,classes:Ft}=function kg(n){const r=[],s=[];let a=1,l=2;for(;a<n.length;){let h=n[a];if("string"==typeof h)2===l?""!==h&&r.push(h,n[++a]):8===l&&s.push(h);else{if(!Ca(l))break;l=h}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Jn&&Mn(V,ge,Jn),Ft&&Ft.length>0&&nh(V,ge,Ft.join(" "))}if(cn=Ji(ut,22),void 0!==s){const Jn=cn.projection=[];for(let Ft=0;Ft<this.ngContentSelectors.length;Ft++){const rr=s[Ft];Jn.push(null!=rr?Array.from(rr):null)}}Zt=function Hy(n,r,s,a){const l=s[1],h=function lp(n,r,s){const a=L();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),xr(n,a,r,Ko(n,r,1,null),s),cp(n,a));const l=ys(r,n,a.directiveStart,a);wo(l,r);const h=Si(a,r);return h&&wo(h,r),l}(l,s,r);if(n[8]=s[8]=h,null!==a)for(const T of a)T(h,r);if(r.contentQueries){const T=L();r.contentQueries(1,h,T.directiveStart)}const I=L();return!l.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(xn(I.index),dm(s[1],I,0,I.directiveStart,I.directiveEnd,r),Th(r,h)),h}(kn,this.componentDef,St,[wm]),rd(ut,St,null)}finally{Oe()}return new mp(this.componentType,Zt,Ur(cn,St),St,cn)}}class mp extends class A{}{constructor(r,s,a,l,h){super(),this.location=a,this._rootLView=l,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new Mh(l),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let l;if(null!==a&&(l=a[r])){const h=this._rootLView;ld(h[1],h,l,r,s),Ch(h,this._tNode.index)}}get injector(){return new vs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function wm(){const n=L();Ms(xt()[1],n)}function Oh(n){let r=function Dm(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let l;if(qt(n))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new be(903,!1);l=r.\u0275dir}if(l){if(s){a.push(l);const I=n;I.inputs=yp(n.inputs),I.declaredInputs=yp(n.declaredInputs),I.outputs=yp(n.outputs);const T=l.hostBindings;T&&vp(n,T);const R=l.viewQuery,V=l.contentQueries;if(R&&zy(n,R),V&&Wy(n,V),te(n.inputs,l.inputs),te(n.declaredInputs,l.declaredInputs),te(n.outputs,l.outputs),qt(l)&&l.data.animation){const Q=n.data;Q.animation=(Q.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let I=0;I<h.length;I++){const T=h[I];T&&T.ngInherit&&T(n),T===Oh&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Gy(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const l=n[a];l.hostVars=r+=l.hostVars,l.hostAttrs=ct(l.hostAttrs,s=ct(s,l.hostAttrs))}}(a)}function yp(n){return n===Vn?{}:n===jn?[]:n}function zy(n,r){const s=n.viewQuery;n.viewQuery=s?(a,l)=>{r(a,l),s(a,l)}:r}function Wy(n,r){const s=n.contentQueries;n.contentQueries=s?(a,l,h)=>{r(a,l,h),s(a,l,h)}:r}function vp(n,r){const s=n.hostBindings;n.hostBindings=s?(a,l)=>{r(a,l),s(a,l)}:r}let _p=null;function _c(){if(!_p){const n=En.Symbol;if(n&&n.iterator)_p=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(_p=a)}}}return _p}function el(n){return!!kh(n)&&(Array.isArray(n)||!(n instanceof Map)&&_c()in n)}function kh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Lo(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function tl(n,r,s,a){const l=Lo(n,r,s);return Lo(n,r+1,a)||l}function Nh(n,r,s,a){const l=xt();return Lo(l,hi(),r)&&(Tn(),Ua(On(),l,n,r,s,a)),Nh}function Vu(n,r,s,a,l,h,I,T){const V=function bp(n,r,s,a,l){const h=tl(n,r,s,a);return Lo(n,r+2,l)||h}(n,tr(),s,l,I);return fi(3),V?r+rt(s)+a+rt(l)+h+rt(I)+T:lr}function Ep(n,r,s,a,l,h,I,T){const R=xt(),V=Tn(),Q=n+22,ge=V.firstCreatePass?function Am(n,r,s,a,l,h,I,T,R){const V=r.consts,Q=Zc(r,n,4,I||null,Fi(V,T));od(r,s,Q,Fi(V,R)),Ms(r,Q);const ge=Q.tViews=sd(2,Q,a,l,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,V);return null!==r.queries&&(r.queries.template(r,Q),ge.queries=r.queries.embeddedTView(Q)),Q}(Q,V,R,r,s,a,l,h,I):V.data[Q];b(ge,!1);const Ue=R[11].createComment("");$l(V,R,Ue,ge),wo(Ue,R),cd(R,R[Q]=ro(Ue,R,Ue,ge)),Vt(ge)&&up(V,R,ge),null!=I&&id(R,ge,T)}function $h(n,r,s){const a=xt();return Lo(a,hi(),r)&&function fa(n,r,s,a,l,h,I,T){const R=Si(r,s);let Q,V=r.inputs;!T&&null!=V&&(Q=V[a])?(ld(n,s,Q,a,l),_t(r)&&Ch(s,r.index)):3&r.type&&(a=function Ly(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),l=null!=I?I(l,r.value||"",a):l,h.setProperty(R,a,l))}(Tn(),On(),a,n,r,a[11],s,!1),$h}function Vh(n,r,s,a,l){const I=l?"class":"style";ld(n,s,r.inputs[I],I,a)}function sl(n,r,s,a){const l=xt(),h=Tn(),I=22+n,T=l[11],R=l[I]=Eu(T,r,function pi(){return An.lFrame.currentNamespace}()),V=h.firstCreatePass?function wp(n,r,s,a,l,h,I){const T=r.consts,V=Zc(r,n,2,l,Fi(T,h));return od(r,s,V,Fi(T,I)),null!==V.attrs&&Qc(V,V.attrs,!1),null!==V.mergedAttrs&&Qc(V,V.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,V),V}(I,h,l,0,r,s,a):h.data[I];b(V,!0);const Q=V.mergedAttrs;null!==Q&&Mn(T,R,Q);const ge=V.classes;null!==ge&&nh(T,R,ge);const Ue=V.styles;return null!==Ue&&Bl(T,R,Ue),64!=(64&V.flags)&&$l(h,l,R,V),0===function Ki(){return An.lFrame.elementDepthCount}()&&wo(R,l),function Us(){An.lFrame.elementDepthCount++}(),Vt(V)&&(up(h,l,V),om(h,V,l)),null!==a&&id(l,V),sl}function Bh(){let n=L();D()?G():(n=n.parent,b(n,!1));const r=n;!function js(){An.lFrame.elementDepthCount--}();const s=Tn();return s.firstCreatePass&&(Ms(s,n),ft(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Kr(n){return 0!=(16&n.flags)}(r)&&Vh(s,r,xt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function na(n){return 0!=(32&n.flags)}(r)&&Vh(s,r,xt(),r.stylesWithoutHost,!1),Bh}function ol(n,r,s,a){return sl(n,r,s,a),Bh(),ol}function jh(n,r,s){const a=xt(),l=Tn(),h=n+22,I=l.firstCreatePass?function Uh(n,r,s,a,l){const h=r.consts,I=Fi(h,a),T=Zc(r,n,8,"ng-container",I);return null!==I&&Qc(T,I,!0),od(r,s,T,Fi(h,l)),null!==r.queries&&r.queries.elementStart(r,T),T}(h,l,a,r,s):l.data[h];b(I,!0);const T=a[h]=a[11].createComment("");return $l(l,a,T,I),wo(T,a),Vt(I)&&(up(l,a,I),om(l,I,a)),null!=s&&id(a,I),jh}function gd(){let n=L();const r=Tn();return D()?G():(n=n.parent,b(n,!1)),r.firstCreatePass&&(Ms(r,n),ft(n)&&r.queries.elementEnd(n)),gd}function Dp(n,r,s){return jh(n,r,s),gd(),Dp}function md(){return xt()}function Hh(n){return!!n&&"function"==typeof n.then}function Cp(n){return!!n&&"function"==typeof n.subscribe}const Mm=Cp;function Tp(n,r,s,a){const l=xt(),h=Tn(),I=L();return function Om(n,r,s,a,l,h,I,T){const R=Vt(a),Q=n.firstCreatePass&&bm(n),ge=r[8],Ue=_m(r);let ut=!0;if(3&a.type||T){const cn=Si(a,r),kn=T?T(cn):cn,Jn=Ue.length,Ft=T?yi=>T(vr(yi[a.index])):a.index;let rr=null;if(!T&&R&&(rr=function Zy(n,r,s,a){const l=n.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const I=l[h];if(I===s&&l[h+1]===a){const T=r[7],R=l[h+2];return T.length>R?T[R]:null}"string"==typeof I&&(h+=2)}return null}(n,r,l,a.index)),null!==rr)(rr.__ngLastListenerFn__||rr).__ngNextListenerFn__=h,rr.__ngLastListenerFn__=h,ut=!1;else{h=Xy(a,r,ge,h,!1);const yi=s.listen(kn,l,h);Ue.push(h,yi),Q&&Q.push(l,Ft,Jn,Jn+1)}}else h=Xy(a,r,ge,h,!1);const St=a.outputs;let Zt;if(ut&&null!==St&&(Zt=St[l])){const cn=Zt.length;if(cn)for(let kn=0;kn<cn;kn+=2){const us=r[Zt[kn]][Zt[kn+1]].subscribe(h),wd=Ue.length;Ue.push(h,us),Q&&Q.push(l,a.index,wd,-(wd+1))}}}(h,l,l[11],I,n,r,0,a),Tp}function Sp(n,r,s,a){try{return!1!==s(a)}catch(l){return fp(n,l),!1}}function Xy(n,r,s,a,l){return function h(I){if(I===Function)return a;Xc(2&n.flags?Qr(n.index,r):r);let R=Sp(r,0,a,I),V=h.__ngNextListenerFn__;for(;V;)R=Sp(r,0,V,I)&&R,V=V.__ngNextListenerFn__;return l&&!1===R&&(I.preventDefault(),I.returnValue=!1),R}}function Qy(n=1){return function mt(n){return(An.lFrame.contextLView=function At(n,r){for(;n>0;)r=r[15],n--;return r}(n,An.lFrame.contextLView))[8]}(n)}function km(n,r){let s=null;const a=function jl(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let l=0;l<r.length;l++){const h=r[l];if("*"!==h){if(null===a?Ul(n,h,!0):zf(a,h))return l}else s=l}return s}function Jy(n){const r=xt()[16][6];if(!r.projection){const a=r.projection=$i(n?n.length:1,null),l=a.slice();let h=r.child;for(;null!==h;){const I=n?km(h,n):0;null!==I&&(l[I]?l[I].projectionNext=h:a[I]=h,l[I]=h),h=h.next}}}function ev(n,r=0,s){const a=xt(),l=Tn(),h=Zc(l,22+n,16,null,s||null);null===h.projection&&(h.projection=r),G(),64!=(64&h.flags)&&function Iy(n,r,s){pc(r[11],0,r,s,Dg(n,s,r),Ll(s.parent||r[6],s,r))}(l,a,h)}function Dc(n,r,s,a,l){const h=n[s+1],I=null===r;let T=a?Ta(h):Yo(h),R=!1;for(;0!==T&&(!1===R||I);){const Q=n[T+1];rv(n[T],r)&&(R=!0,n[T+1]=a?$u(Q):ql(Q)),T=a?Ta(Q):Yo(Q)}R&&(n[s+1]=a?ql(h):$u(h))}function rv(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&to(n,r)>=0}function Lm(n,r){return function Ga(n,r,s,a){const l=xt(),h=Tn(),I=fi(2);h.firstUpdatePass&&function gv(n,r,s,a){const l=n.data;if(null===l[s+1]){const h=l[Ht()],I=function pv(n,r){return r>=n.expandoStartIndex}(n,s);(function Np(n,r){return 0!=(n.flags&(r?16:32))})(h,a)&&null===r&&!I&&(r=!1),r=function r0(n,r,s,a){const l=function Qo(n){const r=An.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let h=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(s=cl(s=$m(null,n,r,s,a),r.attrs,a),h=null);else{const I=r.directiveStylingLast;if(-1===I||n[I]!==l)if(s=$m(l,n,r,s,a),null===h){let R=function s0(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Yo(a))return n[Ta(a)]}(n,r,a);void 0!==R&&Array.isArray(R)&&(R=$m(null,n,r,R[1],a),R=cl(R,r.attrs,a),function o0(n,r,s,a){n[Ta(s?r.classBindings:r.styleBindings)]=a}(n,r,a,R))}else h=function a0(n,r,s){let a;const l=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<l;h++)a=cl(a,n[h].hostAttrs,s);return cl(a,r.attrs,s)}(n,r,a)}return void 0!==h&&(a?r.residualClasses=h:r.residualStyles=h),s}(l,h,r,a),function ul(n,r,s,a,l,h){let I=h?r.classBindings:r.styleBindings,T=Ta(I),R=Yo(I);n[a]=s;let Q,V=!1;if(Array.isArray(s)){const ge=s;Q=ge[1],(null===Q||to(ge,Q)>0)&&(V=!0)}else Q=s;if(l)if(0!==R){const Ue=Ta(n[T+1]);n[a+1]=qc(Ue,T),0!==Ue&&(n[Ue+1]=nu(n[Ue+1],a)),n[T+1]=function Jf(n,r){return 131071&n|r<<17}(n[T+1],a)}else n[a+1]=qc(T,0),0!==T&&(n[T+1]=nu(n[T+1],a)),T=a;else n[a+1]=qc(R,0),0===T?T=a:n[R+1]=nu(n[R+1],a),R=a;V&&(n[a+1]=ql(n[a+1])),Dc(n,Q,a,!0),Dc(n,Q,a,!1),function zh(n,r,s,a,l){const h=l?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof r&&to(h,r)>=0&&(s[a+1]=$u(s[a+1]))}(r,Q,n,a,h),I=qc(T,R),h?r.classBindings=I:r.styleBindings=I}(l,h,r,s,I,a)}}(h,n,I,a),r!==lr&&Lo(l,I,r)&&function Yh(n,r,s,a,l,h,I,T){if(!(3&r.type))return;const R=n.data,V=R[T+1];Pp(function yh(n){return 1==(1&n)}(V)?Vm(R,r,s,l,Yo(V),I):void 0)||(Pp(h)||function mh(n){return 2==(2&n)}(V)&&(h=Vm(R,null,s,l,T,I)),function Vf(n,r,s,a,l){if(r)l?n.addClass(s,a):n.removeClass(s,a);else{let h=-1===a.indexOf("-")?void 0:Ba.DashCase;null==l?n.removeStyle(s,a,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=Ba.Important),n.setStyle(s,a,l,h))}}(a,I,ps(Ht(),s),l,h))}(h,h.data[Ht()],l,l[11],n,l[I+1]=function Bm(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Y(Wo(n)))),n}(r,s),a,I)}(n,r,null,!0),Lm}function $m(n,r,s,a,l){let h=null;const I=s.directiveEnd;let T=s.directiveStylingLast;for(-1===T?T=s.directiveStart:T++;T<I&&(h=r[T],a=cl(a,h.hostAttrs,l),h!==n);)T++;return null!==n&&(s.directiveStylingLast=T),a}function cl(n,r,s){const a=s?1:2;let l=-1;if(null!==r)for(let h=0;h<r.length;h++){const I=r[h];"number"==typeof I?l=I:l===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),bi(n,I,!!s||r[++h]))}return void 0===n?null:n}function Vm(n,r,s,a,l,h){const I=null===r;let T;for(;l>0;){const R=n[l],V=Array.isArray(R),Q=V?R[1]:R,ge=null===Q;let Ue=s[l+1];Ue===lr&&(Ue=ge?jn:void 0);let ut=ge?Ia(Ue,a):Q===a?Ue:void 0;if(V&&!Pp(ut)&&(ut=Ia(R,a)),Pp(ut)&&(T=ut,I))return T;const St=n[l+1];l=I?Ta(St):Yo(St)}if(null!==r){let R=h?r.residualClasses:r.residualStyles;null!=R&&(T=Ia(R,a))}return T}function Pp(n){return void 0!==n}function Um(n,r=""){const s=xt(),a=Tn(),l=n+22,h=a.firstCreatePass?Zc(a,l,1,r,null):a.data[l],I=s[l]=function Xd(n,r){return n.createText(r)}(s[11],r);$l(a,s,I,h),b(h,!1)}function vd(n){return Kh("",n,""),vd}function Kh(n,r,s){const a=xt(),l=function Ha(n,r,s,a){return Lo(n,hi(),s)?r+rt(s)+a:lr}(a,n,r,s);return l!==lr&&su(a,Ht(),l),Kh}function Fp(n,r,s,a,l){const h=xt(),I=function fd(n,r,s,a,l,h){const T=tl(n,tr(),s,l);return fi(2),T?r+rt(s)+a+rt(l)+h:lr}(h,n,r,s,a,l);return I!==lr&&su(h,Ht(),I),Fp}function Zh(n,r,s,a,l,h,I){const T=xt(),R=Vu(T,n,r,s,a,l,h,I);return R!==lr&&su(T,Ht(),R),Zh}const ll=void 0;var $v=["en",[["a","p"],["AM","PM"],ll],[["AM","PM"],ll,ll],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ll,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ll,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ll,"{1} 'at' {0}",ll],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function p0(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let _d={};function Vp(n){const r=function g0(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Bv(r);if(s)return s;const a=r.split("-")[0];if(s=Bv(a),s)return s;if("en"===a)return $v;throw new be(701,!1)}function Vv(n){return Vp(n)[er.PluralCase]}function Bv(n){return n in _d||(_d[n]=En.ng&&En.ng.common&&En.ng.common.locales&&En.ng.common.locales[n]),_d[n]}var er=(()=>((er=er||{})[er.LocaleId=0]="LocaleId",er[er.DayPeriodsFormat=1]="DayPeriodsFormat",er[er.DayPeriodsStandalone=2]="DayPeriodsStandalone",er[er.DaysFormat=3]="DaysFormat",er[er.DaysStandalone=4]="DaysStandalone",er[er.MonthsFormat=5]="MonthsFormat",er[er.MonthsStandalone=6]="MonthsStandalone",er[er.Eras=7]="Eras",er[er.FirstDayOfWeek=8]="FirstDayOfWeek",er[er.WeekendRange=9]="WeekendRange",er[er.DateFormat=10]="DateFormat",er[er.TimeFormat=11]="TimeFormat",er[er.DateTimeFormat=12]="DateTimeFormat",er[er.NumberSymbols=13]="NumberSymbols",er[er.NumberFormats=14]="NumberFormats",er[er.CurrencyCode=15]="CurrencyCode",er[er.CurrencySymbol=16]="CurrencySymbol",er[er.CurrencyName=17]="CurrencyName",er[er.Currencies=18]="Currencies",er[er.Directionality=19]="Directionality",er[er.PluralCase=20]="PluralCase",er[er.ExtraData=21]="ExtraData",er))();const bd="en-US";let Hv=bd;function Qv(n,r,s,a,l){if(n=Fe(n),Array.isArray(n))for(let h=0;h<n.length;h++)Qv(n[h],r,s,a,l);else{const h=Tn(),I=xt();let T=Da(n)?n:Fe(n.provide),R=wf(n);const V=L(),Q=1048575&V.providerIndexes,ge=V.directiveStart,Ue=V.providerIndexes>>20;if(Da(n)||!n.multi){const ut=new Vr(R,l,Wc),St=e_(T,r,l?Q:Q+Ue,ge);-1===St?(Fn(Bn(V,I),h,T),Jv(h,n,r.length),r.push(T),V.directiveStart++,V.directiveEnd++,l&&(V.providerIndexes+=1048576),s.push(ut),I.push(ut)):(s[St]=ut,I[St]=ut)}else{const ut=e_(T,r,Q+Ue,ge),St=e_(T,r,Q,Q+Ue),Zt=ut>=0&&s[ut],cn=St>=0&&s[St];if(l&&!cn||!l&&!Zt){Fn(Bn(V,I),h,T);const kn=function LI(n,r,s,a,l){const h=new Vr(n,s,Wc);return h.multi=[],h.index=r,h.componentProviders=0,P0(h,l,a&&!s),h}(l?FI:NI,s.length,l,a,R);!l&&cn&&(s[St].providerFactory=kn),Jv(h,n,r.length,0),r.push(T),V.directiveStart++,V.directiveEnd++,l&&(V.providerIndexes+=1048576),s.push(kn),I.push(kn)}else Jv(h,n,ut>-1?ut:St,P0(s[l?St:ut],R,!l&&a));!l&&a&&cn&&s[St].componentProviders++}}}function Jv(n,r,s,a){const l=Da(r),h=function bf(n){return!!n.useClass}(r);if(l||h){const R=(h?Fe(r.useClass):r).prototype.ngOnDestroy;if(R){const V=n.destroyHooks||(n.destroyHooks=[]);if(!l&&r.multi){const Q=V.indexOf(s);-1===Q?V.push(s,[a,R]):V[Q+1].push(a,R)}else V.push(s,R)}}}function P0(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function e_(n,r,s,a){for(let l=s;l<a;l++)if(r[l]===n)return l;return-1}function NI(n,r,s,a){return t_(this.multi,[])}function FI(n,r,s,a){const l=this.multi;let h;if(this.providerFactory){const I=this.providerFactory.componentProviders,T=ys(s,s[1],this.providerFactory.index,a);h=T.slice(0,I),t_(l,h);for(let R=I;R<T.length;R++)h.push(T[R])}else h=[],t_(l,h);return h}function t_(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function N0(n,r=[]){return s=>{s.providersResolver=(a,l)=>function PI(n,r,s){const a=Tn();if(a.firstCreatePass){const l=qt(n);Qv(s,a.data,a.blueprint,l,!0),Qv(r,a.data,a.blueprint,l,!1)}}(a,l?l(n):n,r)}}class tf{}class F0{}function $I(n,r){return new L0(n,r??null)}class L0 extends tf{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dd(this);const a=De(r);this._bootstrapComponents=os(a.bootstrap),this._r3Injector=$g(r,s,[{provide:tf,useValue:this},{provide:bn,useValue:this.componentFactoryResolver}],Y(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class n_ extends F0{constructor(r){super(),this.moduleType=r}create(r){return new L0(this.moduleType,r)}}class VI extends tf{constructor(r,s,a){super(),this.componentFactoryResolver=new dd(this),this.instance=null;const l=new If([...r,{provide:tf,useValue:this},{provide:bn,useValue:this.componentFactoryResolver}],s||yu(),a,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function r_(n,r,s=null){return new VI(n,r,s).injector}let BI=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=_f(0,s.type),l=a.length>0?r_([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,l)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=yt({token:n,providedIn:"environment",factory:()=>new n(q(eu))}),n})();function $0(n){n.getStandaloneInjector=r=>r.get(BI).getOrCreateStandaloneInjector(n)}function s_(n){return r=>{setTimeout(n,void 0,r)}}const ju=class hE extends u.xQ{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let l=r,h=s||(()=>null),I=a;if(r&&"object"==typeof r){const R=r;l=R.next?.bind(R),h=R.error?.bind(R),I=R.complete?.bind(R)}this.__isAsync&&(h=s_(h),l&&(l=s_(l)),I&&(I=s_(I)));const T=super.subscribe({next:l,error:h,complete:I});return r instanceof J.w&&r.add(T),T}};function fE(){return this._results[_c()]()}class o_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=_c(),a=o_.prototype;a[s]||(a[s]=fE)}get changes(){return this._changes||(this._changes=new ju)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const l=Fr(r);(this._changesDetected=!function ua(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let l=n[a],h=r[a];if(s&&(l=s(l),h=s(h)),h!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Wp=(()=>{class n{}return n.__NG_ELEMENT_ID__=mE,n})();const pE=Wp,gE=class extends pE{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,l=Kc(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);l[17]=this._declarationLView[this._declarationTContainer.index];const I=this._declarationLView[19];return null!==I&&(l[19]=I.createEmbeddedView(a)),rd(a,l,r),new yc(l)}};function mE(){return Zm(L(),xt())}function Zm(n,r){return 4&n.type?new gE(r,n,Ur(n,r)):null}let Xm=(()=>{class n{}return n.__NG_ELEMENT_ID__=yE,n})();function yE(){return Q0(L(),xt())}const vE=Xm,Z0=class extends vE{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Ur(this._hostTNode,this._hostLView)}get injector(){return new vs(this._hostTNode,this._hostLView)}get parentInjector(){const r=Pr(this._hostTNode,this._hostLView);if(Mi(r)){const s=va(r,this._hostLView),a=ra(r);return new vs(s[1].data[a+8],s)}return new vs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=X0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let l,h;"number"==typeof a?l=a:null!=a&&(l=a.index,h=a.injector);const I=r.createEmbeddedView(s||{},h);return this.insert(I,l),I}createComponent(r,s,a,l,h){const I=r&&!function Ar(n){return"function"==typeof n}(r);let T;if(I)T=s;else{const ge=s||{};T=ge.index,a=ge.injector,l=ge.projectableNodes,h=ge.environmentInjector||ge.ngModuleRef}const R=I?r:new vc(nn(r)),V=a||this.parentInjector;if(!h&&null==R.ngModule){const Ue=(I?V:this.parentInjector).get(eu,null);Ue&&(h=Ue)}const Q=R.create(V,l,void 0,h);return this.insert(Q.hostView,T),Q}insert(r,s){const a=r._lView,l=a[1];if(function Jr(n){return Le(n[3])}(a)){const Q=this.indexOf(r);if(-1!==Q)this.detach(Q);else{const ge=a[3],Ue=new Z0(ge,ge[6],ge[3]);Ue.detach(Ue.indexOf(r))}}const h=this._adjustIndex(s),I=this._lContainer;!function Eg(n,r,s,a){const l=10+a,h=s.length;a>0&&(s[l-1][4]=r),a<h-10?(r[4]=s[l],Di(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const I=r[17];null!==I&&s!==I&&function vy(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(I,r);const T=r[19];null!==T&&T.insertView(n),r[2]|=64}(l,a,I,h);const T=Ff(h,I),R=a[11],V=jc(R,I[7]);return null!==V&&function bg(n,r,s,a,l,h){a[0]=l,a[6]=r,Hc(n,a,s,1,l,h)}(l,I[6],R,a,V,T),r.attachToViewContainerRef(),Di(a_(I),h,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=X0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Pl(this._lContainer,s);a&&(lu(a_(this._lContainer),s),Ns(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=Pl(this._lContainer,s);return a&&null!=lu(a_(this._lContainer),s)?new yc(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function X0(n){return n[8]}function a_(n){return n[8]||(n[8]=[])}function Q0(n,r){let s;const a=r[n.index];if(Le(a))s=a;else{let l;if(8&n.type)l=vr(a);else{const h=r[11];l=h.createComment("");const I=Si(n,r);fc(h,jc(h,I),l,function Fl(n,r){return n.nextSibling(r)}(h,I),!1)}r[n.index]=s=ro(a,r,l,n),cd(r,s)}return new Z0(s,n,r)}class u_{constructor(r){this.queryList=r,this.matches=null}clone(){return new u_(this.queryList)}setDirty(){this.queryList.setDirty()}}class c_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,l=[];for(let h=0;h<a;h++){const I=s.getByIndex(h);l.push(this.queries[I.indexInDeclarationView].clone())}return new c_(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==ab(r,s).matches&&this.queries[s].setDirty()}}class J0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class l_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(r,l);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new l_(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class d_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new d_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const h=a[l];this.matchTNodeWithReadOption(r,s,IE(s,h)),this.matchTNodeWithReadOption(r,s,Bo(s,r,h,!1,!1))}else a===Wp?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Bo(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===no||l===Xm||l===Wp&&4&s.type)this.addMatch(s.index,-2);else{const h=Bo(s,r,l,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function IE(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function wE(n,r,s,a){return-1===s?function EE(n,r){return 11&n.type?Ur(n,r):4&n.type?Zm(n,r):null}(r,n):-2===s?function DE(n,r,s){return s===no?Ur(r,n):s===Wp?Zm(r,n):s===Xm?Q0(r,n):void 0}(n,r,a):ys(n,n[1],s,r)}function eb(n,r,s,a){const l=r[19].queries[a];if(null===l.matches){const h=n.data,I=s.matches,T=[];for(let R=0;R<I.length;R+=2){const V=I[R];T.push(V<0?null:wE(r,h[V],I[R+1],s.metadata.read))}l.matches=T}return l.matches}function h_(n,r,s,a){const l=n.queries.getByIndex(s),h=l.matches;if(null!==h){const I=eb(n,r,l,s);for(let T=0;T<h.length;T+=2){const R=h[T];if(R>0)a.push(I[T/2]);else{const V=h[T+1],Q=r[-R];for(let ge=10;ge<Q.length;ge++){const Ue=Q[ge];Ue[17]===Ue[3]&&h_(Ue[1],Ue,V,a)}if(null!==Q[9]){const ge=Q[9];for(let Ue=0;Ue<ge.length;Ue++){const ut=ge[Ue];h_(ut[1],ut,V,a)}}}}}return a}function tb(n){const r=xt(),s=Tn(),a=Jo();Qs(a+1);const l=ab(s,a);if(n.dirty&&function es(n){return 4==(4&n[2])}(r)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const h=l.crossesNgTemplate?h_(s,r,a,[]):eb(s,r,l,a);n.reset(h,tu),n.notifyOnChanges()}return!0}return!1}function nb(n,r,s){const a=Tn();a.firstCreatePass&&(ob(a,new J0(n,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),sb(a,xt(),r)}function rb(n,r,s,a){const l=Tn();if(l.firstCreatePass){const h=L();ob(l,new J0(r,s,a),h.index),function TE(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(l,n),2==(2&s)&&(l.staticContentQueries=!0)}sb(l,xt(),s)}function ib(){return function CE(n,r){return n[19].queries[r].queryList}(xt(),Jo())}function sb(n,r,s){const a=new o_(4==(4&s));wh(n,r,a,a.destroy),null===r[19]&&(r[19]=new c_),r[19].queries.push(new u_(a))}function ob(n,r,s){null===n.queries&&(n.queries=new l_),n.queries.track(new d_(r,s))}function ab(n,r){return n.queries.getByIndex(r)}function Jm(...n){}const Tb=new Nr("Application Initializer");let ey=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Jm,this.reject=Jm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(Hh(h))s.push(h);else if(Mm(h)){const I=new Promise((T,R)=>{h.subscribe({complete:T,error:R})});s.push(I)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(q(Tb,8))},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sb=new Nr("AppId",{providedIn:"root",factory:function Ab(){return`${y_()}${y_()}${y_()}`}});function y_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xb=new Nr("Platform Initializer"),qE=new Nr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Mb=new Nr("appBootstrapListener");let YE=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ty=new Nr("LocaleId",{providedIn:"root",factory:()=>xe(ty,on.Optional|on.SkipSelf)||function KE(){return typeof $localize<"u"&&$localize.locale||bd}()}),ZE=new Nr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class XE{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let QE=(()=>{class n{compileModuleSync(s){return new n_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),h=os(De(s).declarations).reduce((I,T)=>{const R=nn(T);return R&&I.push(new vc(R)),I},[]);return new XE(a,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tw=(()=>Promise.resolve(0))();function v_(n){typeof Zone>"u"?tw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class au{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ju(!1),this.onMicrotaskEmpty=new ju(!1),this.onStable=new ju(!1),this.onError=new ju(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const l=this;if(l._nesting=0,l._outer=l._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const h=Zone.AsyncStackTaggingZoneSpec;l._inner=l._inner.fork(new h("Angular"))}Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function nw(){let n=En.requestAnimationFrame,r=En.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function sw(n){const r=()=>{!function iw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(En,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,b_(n),n.isCheckStableRunning=!0,__(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),b_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,h,I,T)=>{try{return kb(n),s.invokeTask(l,h,I,T)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&r(),Pb(n)}},onInvoke:(s,a,l,h,I,T,R)=>{try{return kb(n),s.invoke(l,h,I,T,R)}finally{n.shouldCoalesceRunChangeDetection&&r(),Pb(n)}},onHasTask:(s,a,l,h)=>{s.hasTask(l,h),a===l&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,b_(n),__(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,l,h)=>(s.handleError(l,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!au.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(au.isInAngularZone())throw new be(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,l){const h=this._inner,I=h.scheduleEventTask("NgZoneEvent: "+l,r,rw,Jm,Jm);try{return h.runTask(I,s,a)}finally{h.cancelTask(I)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const rw={};function __(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function b_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function kb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Pb(n){n._nesting--,__(n)}class ow{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ju,this.onMicrotaskEmpty=new ju,this.onStable=new ju,this.onError=new ju}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,l){return r.apply(s,a)}}const Nb=new Nr(""),Fb=new Nr("");let I_,aw=(()=>{class n{constructor(s,a,l){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,I_||(function uw(n){I_=n}(l),l.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{au.assertNotInAngularZone(),v_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())v_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,l){return[]}}return n.\u0275fac=function(s){return new(s||n)(q(au),q(Lb),q(Fb))},n.\u0275prov=yt({token:n,factory:n.\u0275fac}),n})(),Lb=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return I_?.findTestabilityInTree(this,s,a)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),dl=null;const $b=new Nr("AllowMultipleToken"),E_=new Nr("PlatformDestroyListeners");class dw{constructor(r,s){this.name=r,this.token=s}}function Bb(n,r,s=[]){const a=`Platform: ${r}`,l=new Nr(a);return(h=[])=>{let I=w_();if(!I||I.injector.get($b,!1)){const T=[...s,...h,{provide:l,useValue:!0}];n?n(T):function hw(n){if(dl&&!dl.get($b,!1))throw new be(400,!1);dl=n;const r=n.get(jb);(function Vb(n){const r=n.get(xb,null);r&&r.forEach(s=>s())})(n)}(function Ub(n=[],r){return gc.create({name:r,providers:[{provide:vl,useValue:"platform"},{provide:E_,useValue:new Set([()=>dl=null])},...n]})}(T,a))}return function pw(n){const r=w_();if(!r)throw new be(401,!1);return r}()}}function w_(){return dl?.get(jb)??null}let jb=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const l=function Gb(n,r){let s;return s="noop"===n?new ow:("zone.js"===n?void 0:n)||new au(r),s}(a?.ngZone,function Hb(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),h=[{provide:au,useValue:l}];return l.run(()=>{const I=gc.create({providers:h,parent:this.injector,name:s.moduleType.name}),T=s.create(I),R=T.injector.get(Pu,null);if(!R)throw new be(402,!1);return l.runOutsideAngular(()=>{const V=l.onError.subscribe({next:Q=>{R.handleError(Q)}});T.onDestroy(()=>{ry(this._modules,T),V.unsubscribe()})}),function zb(n,r,s){try{const a=s();return Hh(a)?a.catch(l=>{throw r.runOutsideAngular(()=>n.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(R,l,()=>{const V=T.injector.get(ey);return V.runInitializers(),V.donePromise.then(()=>(function Gv(n){Be(n,"Expected localeId to be defined"),"string"==typeof n&&(Hv=n.toLowerCase().replace(/_/g,"-"))}(T.injector.get(ty,bd)||bd),this._moduleDoBootstrap(T),T))})})}bootstrapModule(s,a=[]){const l=Wb({},a);return function cw(n,r,s){const a=new n_(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(s){const a=s.injector.get(ny);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new be(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(E_,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(q(gc))},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Wb(n,r){return Array.isArray(r)?r.reduce(Wb,n):{...n,...r}}let ny=(()=>{class n{constructor(s,a,l){this._zone=s,this._injector=a,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new Z.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),I=new Z.y(T=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{au.assertNotInAngularZone(),v_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const V=this._zone.onUnstable.subscribe(()=>{au.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{R.unsubscribe(),V.unsubscribe()}});this.isStable=(0,Pe.T)(h,I.pipe(function we(){return n=>(0,re.x)()((0,Se.O)(W)(n))}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const l=s instanceof K;if(!this._injector.get(ey).done)throw!l&&Ze(s),new be(405,false);let I;I=l?s:this._injector.get(bn).resolveComponentFactory(s),this.componentTypes.push(I.componentType);const T=function lw(n){return n.isBoundToModule}(I)?void 0:this._injector.get(tf),V=I.create(gc.NULL,[],a||I.selector,T),Q=V.location.nativeElement,ge=V.injector.get(Nb,null);return ge?.registerApplication(Q),V.onDestroy(()=>{this.detachView(V.hostView),ry(this.components,V),ge?.unregisterApplication(Q)}),this._loadComponent(V),V}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;ry(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(Mb,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>ry(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new be(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(q(au),q(eu),q(Pu))},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ry(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let Yb=!0;function mw(){Yb=!1}let yw=(()=>{class n{}return n.__NG_ELEMENT_ID__=vw,n})();function vw(n){return function _w(n,r,s){if(_t(n)&&!s){const a=Qr(n.index,r);return new yc(a,a)}return 47&n.type?new yc(r[16],r):null}(L(),xt(),16==(16&n))}class Jb{constructor(){}supports(r){return el(r)}create(r){return new Cw(r)}}const Dw=(n,r)=>r;class Cw{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Dw}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,l=0,h=null;for(;s||a;){const I=!a||s&&s.currentIndex<tI(a,l,h)?s:a,T=tI(I,l,h),R=I.currentIndex;if(I===a)l--,a=a._nextRemoved;else if(s=s._next,null==I.previousIndex)l++;else{h||(h=[]);const V=T-l,Q=R-l;if(V!=Q){for(let Ue=0;Ue<V;Ue++){const ut=Ue<h.length?h[Ue]:h[Ue]=0,St=ut+Ue;Q<=St&&St<V&&(h[Ue]=ut+1)}h[I.previousIndex]=Q-V}}T!==R&&r(I,T,R)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!el(r))throw new be(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,h,I,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let T=0;T<this.length;T++)h=r[T],I=this._trackByFn(T,h),null!==s&&Object.is(s.trackById,I)?(a&&(s=this._verifyReinsertion(s,h,I,T)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,I,T),a=!0),s=s._next}else l=0,function Yy(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[_c()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,T=>{I=this._trackByFn(l,T),null!==s&&Object.is(s.trackById,I)?(a&&(s=this._verifyReinsertion(s,T,I,l)),Object.is(s.item,T)||this._addIdentityChange(s,T)):(s=this._mismatch(s,T,I,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,l){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,h,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,h,l)):r=this._addAfter(new Tw(s,a),h,l),r}_verifyReinsertion(r,s,a,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?r=this._reinsertAfter(h,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,h=r._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const l=null===s?this._itHead:s._next;return r._next=l,r._prev=s,null===l?this._itTail=r:l._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new eI),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eI),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Tw{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Sw{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class eI{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new Sw,this.map.set(s,a)),a.add(r)}get(r,s){const l=this.map.get(r);return l?l.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tI(n,r,s){const a=n.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+r+l}class nI{constructor(){}supports(r){return r instanceof Map||kh(r)}create(){return new Aw}}class Aw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||kh(r)))throw new be(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,s);const h=l._prev,I=l._next;return h&&(h._next=I),I&&(I._prev=h),l._next=null,l._prev=null,l}const a=new xw(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class xw{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rI(){return new A_([new Jb])}let A_=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||rI()),deps:[[n,new qi,new Wi]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new be(901,!1)}}return n.\u0275prov=yt({token:n,providedIn:"root",factory:rI}),n})();function iI(){return new x_([new nI])}let x_=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||iI()),deps:[[n,new qi,new Wi]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(a)return a;throw new be(901,!1)}}return n.\u0275prov=yt({token:n,providedIn:"root",factory:iI}),n})();const Ow=Bb(null,"core",[]);let kw=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(q(ny))},n.\u0275mod=Te({type:n}),n.\u0275inj=yn({}),n})();function Pw(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},5768:(en,st,B)=>{"use strict";B.d(st,{u5:()=>js,JU:()=>ye,a5:()=>bt,JJ:()=>gt,On:()=>ui});var u=B(3363),J=B(1320),Z=B(1327),Pe=B(96),Se=B(1092),re=B(4795),W=B(8660);function fe(p,b){return new Pe.y(D=>{const G=p.length;if(0===G)return void D.complete();const je=new Array(G);let Tt=0,Pn=0;for(let Ln=0;Ln<G;Ln++){const Wn=(0,Z.D)(p[Ln]);let tr=!1;D.add(Wn.subscribe({next:Ei=>{tr||(tr=!0,Pn++),je[Ln]=Ei},error:Ei=>D.error(Ei),complete:()=>{Tt++,(Tt===G||!tr)&&(Pn===G&&D.next(b?b.reduce((Ei,hi,fi)=>(Ei[hi]=je[fi],Ei),{}):je),D.complete())}}))}})}let te=(()=>{class p{constructor(D,G){this._renderer=D,this._elementRef=G,this.onChange=je=>{},this.onTouched=()=>{}}setProperty(D,G){this._renderer.setProperty(this._elementRef.nativeElement,D,G)}registerOnTouched(D){this.onTouched=D}registerOnChange(D){this.onChange=D}setDisabledState(D){this.setProperty("disabled",D)}}return p.\u0275fac=function(D){return new(D||p)(u.Y36(u.Qsj),u.Y36(u.SBq))},p.\u0275dir=u.lG2({type:p}),p})(),Y=(()=>{class p extends te{}return p.\u0275fac=function(){let b;return function(G){return(b||(b=u.n5z(p)))(G||p)}}(),p.\u0275dir=u.lG2({type:p,features:[u.qOj]}),p})();const ye=new u.OlP("NgValueAccessor"),Fe={provide:ye,useExisting:(0,u.Gpc)(()=>be),multi:!0},$e=new u.OlP("CompositionEventMode");let be=(()=>{class p extends te{constructor(D,G,je){super(D,G),this._compositionMode=je,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ne(){const p=(0,J.q)()?(0,J.q)().getUserAgent():"";return/android (\d+)/.test(p.toLowerCase())}())}writeValue(D){this.setProperty("value",D??"")}_handleInput(D){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(D)}_compositionStart(){this._composing=!0}_compositionEnd(D){this._composing=!1,this._compositionMode&&this.onChange(D)}}return p.\u0275fac=function(D){return new(D||p)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36($e,8))},p.\u0275dir=u.lG2({type:p,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(D,G){1&D&&u.NdJ("input",function(Tt){return G._handleInput(Tt.target.value)})("blur",function(){return G.onTouched()})("compositionstart",function(){return G._compositionStart()})("compositionend",function(Tt){return G._compositionEnd(Tt.target.value)})},features:[u._Bn([Fe]),u.qOj]}),p})();const Dt=new u.OlP("NgValidators"),Ot=new u.OlP("NgAsyncValidators");function nt(p){return null!=p}function Ee(p){return(0,u.QGY)(p)?(0,Z.D)(p):p}function He(p){let b={};return p.forEach(D=>{b=null!=D?{...b,...D}:b}),0===Object.keys(b).length?null:b}function ze(p,b){return b.map(D=>D(p))}function Ve(p){return p.map(b=>function Be(p){return!p.validate}(b)?b:D=>b.validate(D))}function Ut(p){return null!=p?function It(p){if(!p)return null;const b=p.filter(nt);return 0==b.length?null:function(D){return He(ze(D,b))}}(Ve(p)):null}function yt(p){return null!=p?function $t(p){if(!p)return null;const b=p.filter(nt);return 0==b.length?null:function(D){return function we(...p){if(1===p.length){const b=p[0];if((0,Se.k)(b))return fe(b,null);if((0,W.K)(b)&&Object.getPrototypeOf(b)===Object.prototype){const D=Object.keys(b);return fe(D.map(G=>b[G]),D)}}if("function"==typeof p[p.length-1]){const b=p.pop();return fe(p=1===p.length&&(0,Se.k)(p[0])?p[0]:p,null).pipe((0,re.U)(D=>b(...D)))}return fe(p,null)}(ze(D,b).map(Ee)).pipe((0,re.U)(He))}}(Ve(p)):null}function _n(p,b){return null===p?[b]:Array.isArray(p)?[...p,b]:[p,b]}function fn(p){return p?Array.isArray(p)?p:[p]:[]}function Sn(p,b){return Array.isArray(p)?p.includes(b):p===b}function Yn(p,b){const D=fn(b);return fn(p).forEach(je=>{Sn(D,je)||D.push(je)}),D}function ar(p,b){return fn(b).filter(D=>!Sn(p,D))}class Ct{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(b){this._rawValidators=b||[],this._composedValidatorFn=Ut(this._rawValidators)}_setAsyncValidators(b){this._rawAsyncValidators=b||[],this._composedAsyncValidatorFn=yt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(b){this._onDestroyCallbacks.push(b)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(b=>b()),this._onDestroyCallbacks=[]}reset(b){this.control&&this.control.reset(b)}hasError(b,D){return!!this.control&&this.control.hasError(b,D)}getError(b,D){return this.control?this.control.getError(b,D):null}}class Mt extends Ct{get formDirective(){return null}get path(){return null}}class bt extends Ct{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let gt=(()=>{class p extends class sn{constructor(b){this._cd=b}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(D){super(D)}}return p.\u0275fac=function(D){return new(D||p)(u.Y36(bt,2))},p.\u0275dir=u.lG2({type:p,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(D,G){2&D&&u.ekj("ng-untouched",G.isUntouched)("ng-touched",G.isTouched)("ng-pristine",G.isPristine)("ng-dirty",G.isDirty)("ng-valid",G.isValid)("ng-invalid",G.isInvalid)("ng-pending",G.isPending)},features:[u.qOj]}),p})();const Gt="VALID",wn="INVALID",In="PENDING",an="DISABLED";function Ie(p){return Array.isArray(p)?Ut(p):p||null}function lt(p){return Array.isArray(p)?yt(p):p||null}function et(p){return null!=p&&!Array.isArray(p)&&"object"==typeof p}function Je(p,b){(function Hn(p,b){const D=function yn(p){return p._rawValidators}(p);null!==b.validator?p.setValidators(_n(D,b.validator)):"function"==typeof D&&p.setValidators([D]);const G=function dn(p){return p._rawAsyncValidators}(p);null!==b.asyncValidator?p.setAsyncValidators(_n(G,b.asyncValidator)):"function"==typeof G&&p.setAsyncValidators([G]);const je=()=>p.updateValueAndValidity();un(b._rawValidators,je),un(b._rawAsyncValidators,je)})(p,b),b.valueAccessor.writeValue(p.value),p.disabled&&b.valueAccessor.setDisabledState?.(!0),function zn(p,b){b.valueAccessor.registerOnChange(D=>{p._pendingValue=D,p._pendingChange=!0,p._pendingDirty=!0,"change"===p.updateOn&&jr(p,b)})}(p,b),function Cn(p,b){const D=(G,je)=>{b.valueAccessor.writeValue(G),je&&b.viewToModelUpdate(G)};p.registerOnChange(D),b._registerOnDestroy(()=>{p._unregisterOnChange(D)})}(p,b),function ai(p,b){b.valueAccessor.registerOnTouched(()=>{p._pendingTouched=!0,"blur"===p.updateOn&&p._pendingChange&&jr(p,b),"submit"!==p.updateOn&&p.markAsTouched()})}(p,b),function or(p,b){if(b.valueAccessor.setDisabledState){const D=G=>{b.valueAccessor.setDisabledState(G)};p.registerOnDisabledChange(D),b._registerOnDestroy(()=>{p._unregisterOnDisabledChange(D)})}}(p,b)}function un(p,b){p.forEach(D=>{D.registerOnValidatorChange&&D.registerOnValidatorChange(b)})}function jr(p,b){p._pendingDirty&&p.markAsDirty(),p.setValue(p._pendingValue,{emitModelToViewChange:!1}),b.viewToModelUpdate(p._pendingValue),p._pendingChange=!1}function U(p,b){const D=p.indexOf(b);D>-1&&p.splice(D,1)}function ie(p){return"object"==typeof p&&null!==p&&2===Object.keys(p).length&&"value"in p&&"disabled"in p}const mr={provide:bt,useExisting:(0,u.Gpc)(()=>ui)},yr=(()=>Promise.resolve())();let ui=(()=>{class p extends bt{constructor(D,G,je,Tt,Pn){super(),this._changeDetectorRef=Pn,this.control=new class extends class nn{constructor(b,D){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=b,this._rawAsyncValidators=D,this._composedValidatorFn=Ie(this._rawValidators),this._composedAsyncValidatorFn=lt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(b){this._rawValidators=this._composedValidatorFn=b}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(b){this._rawAsyncValidators=this._composedAsyncValidatorFn=b}get parent(){return this._parent}get valid(){return this.status===Gt}get invalid(){return this.status===wn}get pending(){return this.status==In}get disabled(){return this.status===an}get enabled(){return this.status!==an}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(b){this._rawValidators=b,this._composedValidatorFn=Ie(b)}setAsyncValidators(b){this._rawAsyncValidators=b,this._composedAsyncValidatorFn=lt(b)}addValidators(b){this.setValidators(Yn(b,this._rawValidators))}addAsyncValidators(b){this.setAsyncValidators(Yn(b,this._rawAsyncValidators))}removeValidators(b){this.setValidators(ar(b,this._rawValidators))}removeAsyncValidators(b){this.setAsyncValidators(ar(b,this._rawAsyncValidators))}hasValidator(b){return Sn(this._rawValidators,b)}hasAsyncValidator(b){return Sn(this._rawAsyncValidators,b)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(b={}){this.touched=!0,this._parent&&!b.onlySelf&&this._parent.markAsTouched(b)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(b=>b.markAllAsTouched())}markAsUntouched(b={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(D=>{D.markAsUntouched({onlySelf:!0})}),this._parent&&!b.onlySelf&&this._parent._updateTouched(b)}markAsDirty(b={}){this.pristine=!1,this._parent&&!b.onlySelf&&this._parent.markAsDirty(b)}markAsPristine(b={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(D=>{D.markAsPristine({onlySelf:!0})}),this._parent&&!b.onlySelf&&this._parent._updatePristine(b)}markAsPending(b={}){this.status=In,!1!==b.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!b.onlySelf&&this._parent.markAsPending(b)}disable(b={}){const D=this._parentMarkedDirty(b.onlySelf);this.status=an,this.errors=null,this._forEachChild(G=>{G.disable({...b,onlySelf:!0})}),this._updateValue(),!1!==b.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...b,skipPristineCheck:D}),this._onDisabledChange.forEach(G=>G(!0))}enable(b={}){const D=this._parentMarkedDirty(b.onlySelf);this.status=Gt,this._forEachChild(G=>{G.enable({...b,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:b.emitEvent}),this._updateAncestors({...b,skipPristineCheck:D}),this._onDisabledChange.forEach(G=>G(!1))}_updateAncestors(b){this._parent&&!b.onlySelf&&(this._parent.updateValueAndValidity(b),b.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(b){this._parent=b}getRawValue(){return this.value}updateValueAndValidity(b={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gt||this.status===In)&&this._runAsyncValidator(b.emitEvent)),!1!==b.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!b.onlySelf&&this._parent.updateValueAndValidity(b)}_updateTreeValidity(b={emitEvent:!0}){this._forEachChild(D=>D._updateTreeValidity(b)),this.updateValueAndValidity({onlySelf:!0,emitEvent:b.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?an:Gt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(b){if(this.asyncValidator){this.status=In,this._hasOwnPendingAsyncValidator=!0;const D=Ee(this.asyncValidator(this));this._asyncValidationSubscription=D.subscribe(G=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(G,{emitEvent:b})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(b,D={}){this.errors=b,this._updateControlsErrors(!1!==D.emitEvent)}get(b){let D=b;return null==D||(Array.isArray(D)||(D=D.split(".")),0===D.length)?null:D.reduce((G,je)=>G&&G._find(je),this)}getError(b,D){const G=D?this.get(D):this;return G&&G.errors?G.errors[b]:null}hasError(b,D){return!!this.getError(b,D)}get root(){let b=this;for(;b._parent;)b=b._parent;return b}_updateControlsErrors(b){this.status=this._calculateStatus(),b&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(b)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?an:this.errors?wn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(In)?In:this._anyControlsHaveStatus(wn)?wn:Gt}_anyControlsHaveStatus(b){return this._anyControls(D=>D.status===b)}_anyControlsDirty(){return this._anyControls(b=>b.dirty)}_anyControlsTouched(){return this._anyControls(b=>b.touched)}_updatePristine(b={}){this.pristine=!this._anyControlsDirty(),this._parent&&!b.onlySelf&&this._parent._updatePristine(b)}_updateTouched(b={}){this.touched=this._anyControlsTouched(),this._parent&&!b.onlySelf&&this._parent._updateTouched(b)}_registerOnCollectionChange(b){this._onCollectionChange=b}_setUpdateStrategy(b){et(b)&&null!=b.updateOn&&(this._updateOn=b.updateOn)}_parentMarkedDirty(b){return!b&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(b){return null}}{constructor(b=null,D,G){super(function Ce(p){return(et(p)?p.validators:p)||null}(D),function Te(p,b){return(et(b)?b.asyncValidators:p)||null}(G,D)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(b),this._setUpdateStrategy(D),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),et(D)&&(D.nonNullable||D.initialValueIsDefault)&&(this.defaultValue=ie(b)?b.value:b)}setValue(b,D={}){this.value=this._pendingValue=b,this._onChange.length&&!1!==D.emitModelToViewChange&&this._onChange.forEach(G=>G(this.value,!1!==D.emitViewToModelChange)),this.updateValueAndValidity(D)}patchValue(b,D={}){this.setValue(b,D)}reset(b=this.defaultValue,D={}){this._applyFormState(b),this.markAsPristine(D),this.markAsUntouched(D),this.setValue(this.value,D),this._pendingChange=!1}_updateValue(){}_anyControls(b){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(b){this._onChange.push(b)}_unregisterOnChange(b){U(this._onChange,b)}registerOnDisabledChange(b){this._onDisabledChange.push(b)}_unregisterOnDisabledChange(b){U(this._onDisabledChange,b)}_forEachChild(b){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(b){ie(b)?(this.value=this._pendingValue=b.value,b.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=b}},this._registered=!1,this.update=new u.vpe,this._parent=D,this._setValidators(G),this._setAsyncValidators(je),this.valueAccessor=function Yr(p,b){if(!b)return null;let D,G,je;return Array.isArray(b),b.forEach(Tt=>{Tt.constructor===be?D=Tt:function Xr(p){return Object.getPrototypeOf(p.constructor)===Y}(Tt)?G=Tt:je=Tt}),je||G||D||null}(0,Tt)}ngOnChanges(D){if(this._checkForErrors(),!this._registered||"name"in D){if(this._registered&&(this._checkName(),this.formDirective)){const G=D.name.previousValue;this.formDirective.removeControl({name:G,path:this._getPath(G)})}this._setUpControl()}"isDisabled"in D&&this._updateDisabled(D),function vi(p,b){if(!p.hasOwnProperty("model"))return!1;const D=p.model;return!!D.isFirstChange()||!Object.is(b,D.currentValue)}(D,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(D){this.viewModel=D,this.update.emit(D)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Je(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(D){yr.then(()=>{this.control.setValue(D,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(D){const G=D.isDisabled.currentValue,je=0!==G&&(0,u.D6c)(G);yr.then(()=>{je&&!this.control.disabled?this.control.disable():!je&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(D){return this._parent?function _e(p,b){return[...b.path,p]}(D,this._parent):[D]}}return p.\u0275fac=function(D){return new(D||p)(u.Y36(Mt,9),u.Y36(Dt,10),u.Y36(Ot,10),u.Y36(ye,10),u.Y36(u.sBO,8))},p.\u0275dir=u.lG2({type:p,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([mr]),u.qOj,u.TTD]}),p})(),Ii=(()=>{class p{}return p.\u0275fac=function(D){return new(D||p)},p.\u0275mod=u.oAB({type:p}),p.\u0275inj=u.cJS({}),p})(),Us=(()=>{class p{}return p.\u0275fac=function(D){return new(D||p)},p.\u0275mod=u.oAB({type:p}),p.\u0275inj=u.cJS({imports:[Ii]}),p})(),js=(()=>{class p{}return p.\u0275fac=function(D){return new(D||p)},p.\u0275mod=u.oAB({type:p}),p.\u0275inj=u.cJS({imports:[Us]}),p})()},1657:(en,st,B)=>{"use strict";B.d(st,{Dx:()=>_r,b2:()=>Bt,q6:()=>Ct});var u=B(1320),J=B(3363);class Z extends u.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Pe extends Z{static makeCurrent(){(0,u.HT)(new Pe)}onAndCancel(De,me,_e){return De.addEventListener(me,_e,!1),()=>{De.removeEventListener(me,_e,!1)}}dispatchEvent(De,me){De.dispatchEvent(me)}remove(De){De.parentNode&&De.parentNode.removeChild(De)}createElement(De,me){return(me=me||this.getDefaultDocument()).createElement(De)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(De){return De.nodeType===Node.ELEMENT_NODE}isShadowRoot(De){return De instanceof DocumentFragment}getGlobalEventTarget(De,me){return"window"===me?window:"document"===me?De:"body"===me?De.body:null}getBaseHref(De){const me=function re(){return Se=Se||document.querySelector("base"),Se?Se.getAttribute("href"):null}();return null==me?null:function we(Ze){W=W||document.createElement("a"),W.setAttribute("href",Ze);const De=W.pathname;return"/"===De.charAt(0)?De:`/${De}`}(me)}resetBaseElement(){Se=null}getUserAgent(){return window.navigator.userAgent}getCookie(De){return(0,u.Mx)(document.cookie,De)}}let W,Se=null;const fe=new J.OlP("TRANSITION_ID"),Y=[{provide:J.ip1,useFactory:function te(Ze,De,me){return()=>{me.get(J.CZH).donePromise.then(()=>{const _e=(0,u.q)(),Je=De.querySelectorAll(`style[ng-transition="${Ze}"]`);for(let zt=0;zt<Je.length;zt++)_e.remove(Je[zt])})}},deps:[fe,u.K0,J.zs3],multi:!0}];let ae=(()=>{class Ze{build(){return new XMLHttpRequest}}return Ze.\u0275fac=function(me){return new(me||Ze)},Ze.\u0275prov=J.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();const pe=new J.OlP("EventManagerPlugins");let Fe=(()=>{class Ze{constructor(me,_e){this._zone=_e,this._eventNameToPlugin=new Map,me.forEach(Je=>Je.manager=this),this._plugins=me.slice().reverse()}addEventListener(me,_e,Je){return this._findPluginFor(_e).addEventListener(me,_e,Je)}addGlobalEventListener(me,_e,Je){return this._findPluginFor(_e).addGlobalEventListener(me,_e,Je)}getZone(){return this._zone}_findPluginFor(me){const _e=this._eventNameToPlugin.get(me);if(_e)return _e;const Je=this._plugins;for(let zt=0;zt<Je.length;zt++){const un=Je[zt];if(un.supports(me))return this._eventNameToPlugin.set(me,un),un}throw new Error(`No event manager plugin found for event ${me}`)}}return Ze.\u0275fac=function(me){return new(me||Ze)(J.LFG(pe),J.LFG(J.R0b))},Ze.\u0275prov=J.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();class Ne{constructor(De){this._doc=De}addGlobalEventListener(De,me,_e){const Je=(0,u.q)().getGlobalEventTarget(this._doc,De);if(!Je)throw new Error(`Unsupported event target ${Je} for event ${me}`);return this.addEventListener(Je,me,_e)}}let $e=(()=>{class Ze{constructor(){this._stylesSet=new Set}addStyles(me){const _e=new Set;me.forEach(Je=>{this._stylesSet.has(Je)||(this._stylesSet.add(Je),_e.add(Je))}),this.onStylesAdded(_e)}onStylesAdded(me){}getAllStyles(){return Array.from(this._stylesSet)}}return Ze.\u0275fac=function(me){return new(me||Ze)},Ze.\u0275prov=J.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})(),be=(()=>{class Ze extends $e{constructor(me){super(),this._doc=me,this._hostNodes=new Map,this._hostNodes.set(me.head,[])}_addStylesToHost(me,_e,Je){me.forEach(zt=>{const un=this._doc.createElement("style");un.textContent=zt,Je.push(_e.appendChild(un))})}addHost(me){const _e=[];this._addStylesToHost(this._stylesSet,me,_e),this._hostNodes.set(me,_e)}removeHost(me){const _e=this._hostNodes.get(me);_e&&_e.forEach(ht),this._hostNodes.delete(me)}onStylesAdded(me){this._hostNodes.forEach((_e,Je)=>{this._addStylesToHost(me,Je,_e)})}ngOnDestroy(){this._hostNodes.forEach(me=>me.forEach(ht))}}return Ze.\u0275fac=function(me){return new(me||Ze)(J.LFG(u.K0))},Ze.\u0275prov=J.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();function ht(Ze){(0,u.q)().remove(Ze)}const rt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},at=/%COMP%/g;function se(Ze,De,me){for(let _e=0;_e<De.length;_e++){let Je=De[_e];Array.isArray(Je)?se(Ze,Je,me):(Je=Je.replace(at,Ze),me.push(Je))}return me}function ce(Ze){return De=>{if("__ngUnwrap__"===De)return Ze;!1===Ze(De)&&(De.preventDefault(),De.returnValue=!1)}}let le=(()=>{class Ze{constructor(me,_e,Je){this.eventManager=me,this.sharedStylesHost=_e,this.appId=Je,this.rendererByCompId=new Map,this.defaultRenderer=new Xe(me)}createRenderer(me,_e){if(!me||!_e)return this.defaultRenderer;switch(_e.encapsulation){case J.ifc.Emulated:{let Je=this.rendererByCompId.get(_e.id);return Je||(Je=new Ee(this.eventManager,this.sharedStylesHost,_e,this.appId),this.rendererByCompId.set(_e.id,Je)),Je.applyToHost(me),Je}case 1:case J.ifc.ShadowDom:return new He(this.eventManager,this.sharedStylesHost,me,_e);default:if(!this.rendererByCompId.has(_e.id)){const Je=se(_e.id,_e.styles,[]);this.sharedStylesHost.addStyles(Je),this.rendererByCompId.set(_e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ze.\u0275fac=function(me){return new(me||Ze)(J.LFG(Fe),J.LFG(be),J.LFG(J.AFp))},Ze.\u0275prov=J.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();class Xe{constructor(De){this.eventManager=De,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(De,me){return me?document.createElementNS(rt[me]||me,De):document.createElement(De)}createComment(De){return document.createComment(De)}createText(De){return document.createTextNode(De)}appendChild(De,me){(nt(De)?De.content:De).appendChild(me)}insertBefore(De,me,_e){De&&(nt(De)?De.content:De).insertBefore(me,_e)}removeChild(De,me){De&&De.removeChild(me)}selectRootElement(De,me){let _e="string"==typeof De?document.querySelector(De):De;if(!_e)throw new Error(`The selector "${De}" did not match any elements`);return me||(_e.textContent=""),_e}parentNode(De){return De.parentNode}nextSibling(De){return De.nextSibling}setAttribute(De,me,_e,Je){if(Je){me=Je+":"+me;const zt=rt[Je];zt?De.setAttributeNS(zt,me,_e):De.setAttribute(me,_e)}else De.setAttribute(me,_e)}removeAttribute(De,me,_e){if(_e){const Je=rt[_e];Je?De.removeAttributeNS(Je,me):De.removeAttribute(`${_e}:${me}`)}else De.removeAttribute(me)}addClass(De,me){De.classList.add(me)}removeClass(De,me){De.classList.remove(me)}setStyle(De,me,_e,Je){Je&(J.JOm.DashCase|J.JOm.Important)?De.style.setProperty(me,_e,Je&J.JOm.Important?"important":""):De.style[me]=_e}removeStyle(De,me,_e){_e&J.JOm.DashCase?De.style.removeProperty(me):De.style[me]=""}setProperty(De,me,_e){De[me]=_e}setValue(De,me){De.nodeValue=me}listen(De,me,_e){return"string"==typeof De?this.eventManager.addGlobalEventListener(De,me,ce(_e)):this.eventManager.addEventListener(De,me,ce(_e))}}function nt(Ze){return"TEMPLATE"===Ze.tagName&&void 0!==Ze.content}class Ee extends Xe{constructor(De,me,_e,Je){super(De),this.component=_e;const zt=se(Je+"-"+_e.id,_e.styles,[]);me.addStyles(zt),this.contentAttr=function Me(Ze){return"_ngcontent-%COMP%".replace(at,Ze)}(Je+"-"+_e.id),this.hostAttr=function Ge(Ze){return"_nghost-%COMP%".replace(at,Ze)}(Je+"-"+_e.id)}applyToHost(De){super.setAttribute(De,this.hostAttr,"")}createElement(De,me){const _e=super.createElement(De,me);return super.setAttribute(_e,this.contentAttr,""),_e}}class He extends Xe{constructor(De,me,_e,Je){super(De),this.sharedStylesHost=me,this.hostEl=_e,this.shadowRoot=_e.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const zt=se(Je.id,Je.styles,[]);for(let un=0;un<zt.length;un++){const or=document.createElement("style");or.textContent=zt[un],this.shadowRoot.appendChild(or)}}nodeOrShadowRoot(De){return De===this.hostEl?this.shadowRoot:De}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(De,me){return super.appendChild(this.nodeOrShadowRoot(De),me)}insertBefore(De,me,_e){return super.insertBefore(this.nodeOrShadowRoot(De),me,_e)}removeChild(De,me){return super.removeChild(this.nodeOrShadowRoot(De),me)}parentNode(De){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(De)))}}let ze=(()=>{class Ze extends Ne{constructor(me){super(me)}supports(me){return!0}addEventListener(me,_e,Je){return me.addEventListener(_e,Je,!1),()=>this.removeEventListener(me,_e,Je)}removeEventListener(me,_e,Je){return me.removeEventListener(_e,Je)}}return Ze.\u0275fac=function(me){return new(me||Ze)(J.LFG(u.K0))},Ze.\u0275prov=J.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();const Be=["alt","control","meta","shift"],Ve={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},It={alt:Ze=>Ze.altKey,control:Ze=>Ze.ctrlKey,meta:Ze=>Ze.metaKey,shift:Ze=>Ze.shiftKey};let Ut=(()=>{class Ze extends Ne{constructor(me){super(me)}supports(me){return null!=Ze.parseEventName(me)}addEventListener(me,_e,Je){const zt=Ze.parseEventName(_e),un=Ze.eventCallback(zt.fullKey,Je,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,u.q)().onAndCancel(me,zt.domEventName,un))}static parseEventName(me){const _e=me.toLowerCase().split("."),Je=_e.shift();if(0===_e.length||"keydown"!==Je&&"keyup"!==Je)return null;const zt=Ze._normalizeKey(_e.pop());let un="",or=_e.indexOf("code");if(or>-1&&(_e.splice(or,1),un="code."),Be.forEach(ur=>{const zn=_e.indexOf(ur);zn>-1&&(_e.splice(zn,1),un+=ur+".")}),un+=zt,0!=_e.length||0===zt.length)return null;const Hn={};return Hn.domEventName=Je,Hn.fullKey=un,Hn}static matchEventFullKeyCode(me,_e){let Je=Ve[me.key]||me.key,zt="";return _e.indexOf("code.")>-1&&(Je=me.code,zt="code."),!(null==Je||!Je)&&(Je=Je.toLowerCase()," "===Je?Je="space":"."===Je&&(Je="dot"),Be.forEach(un=>{un!==Je&&(0,It[un])(me)&&(zt+=un+".")}),zt+=Je,zt===_e)}static eventCallback(me,_e,Je){return zt=>{Ze.matchEventFullKeyCode(zt,me)&&Je.runGuarded(()=>_e(zt))}}static _normalizeKey(me){return"esc"===me?"escape":me}}return Ze.\u0275fac=function(me){return new(me||Ze)(J.LFG(u.K0))},Ze.\u0275prov=J.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();const Ct=(0,J.eFA)(J._c5,"browser",[{provide:J.Lbi,useValue:u.bD},{provide:J.g9A,useValue:function fn(){Pe.makeCurrent()},multi:!0},{provide:u.K0,useFactory:function Yn(){return(0,J.RDi)(document),document},deps:[]}]),Mt=new J.OlP(""),bt=[{provide:J.rWj,useClass:class ye{addToWindow(De){J.dqk.getAngularTestability=(_e,Je=!0)=>{const zt=De.findTestabilityInTree(_e,Je);if(null==zt)throw new Error("Could not find testability for element.");return zt},J.dqk.getAllAngularTestabilities=()=>De.getAllTestabilities(),J.dqk.getAllAngularRootElements=()=>De.getAllRootElements(),J.dqk.frameworkStabilizers||(J.dqk.frameworkStabilizers=[]),J.dqk.frameworkStabilizers.push(_e=>{const Je=J.dqk.getAllAngularTestabilities();let zt=Je.length,un=!1;const or=function(Hn){un=un||Hn,zt--,0==zt&&_e(un)};Je.forEach(function(Hn){Hn.whenStable(or)})})}findTestabilityInTree(De,me,_e){return null==me?null:De.getTestability(me)??(_e?(0,u.q)().isShadowRoot(me)?this.findTestabilityInTree(De,me.host,!0):this.findTestabilityInTree(De,me.parentElement,!0):null)}},deps:[]},{provide:J.lri,useClass:J.dDg,deps:[J.R0b,J.eoX,J.rWj]},{provide:J.dDg,useClass:J.dDg,deps:[J.R0b,J.eoX,J.rWj]}],sn=[{provide:J.zSh,useValue:"root"},{provide:J.qLn,useFactory:function Sn(){return new J.qLn},deps:[]},{provide:pe,useClass:ze,multi:!0,deps:[u.K0,J.R0b,J.Lbi]},{provide:pe,useClass:Ut,multi:!0,deps:[u.K0]},{provide:le,useClass:le,deps:[Fe,be,J.AFp]},{provide:J.FYo,useExisting:le},{provide:$e,useExisting:be},{provide:be,useClass:be,deps:[u.K0]},{provide:Fe,useClass:Fe,deps:[pe,J.R0b]},{provide:u.JF,useClass:ae,deps:[]},[]];let Bt=(()=>{class Ze{constructor(me){}static withServerTransition(me){return{ngModule:Ze,providers:[{provide:J.AFp,useValue:me.appId},{provide:fe,useExisting:J.AFp},Y]}}}return Ze.\u0275fac=function(me){return new(me||Ze)(J.LFG(Mt,12))},Ze.\u0275mod=J.oAB({type:Ze}),Ze.\u0275inj=J.cJS({providers:[...sn,...bt],imports:[u.ez,J.hGG]}),Ze})(),_r=(()=>{class Ze{constructor(me){this._doc=me}getTitle(){return this._doc.title}setTitle(me){this._doc.title=me||""}}return Ze.\u0275fac=function(me){return new(me||Ze)(J.LFG(u.K0))},Ze.\u0275prov=J.Yz7({token:Ze,factory:function(me){let _e=null;return _e=me?new me:function Un(){return new _r((0,J.LFG)(u.K0))}(),_e},providedIn:"root"}),Ze})();typeof window<"u"&&window},4206:(en,st,B)=>{"use strict";B.d(st,{gz:()=>di,y6:()=>Hs,OD:()=>qs,eC:()=>hn,wm:()=>Li,wN:()=>_a,F0:()=>zi,rH:()=>cu,Bz:()=>Za,Hx:()=>Hn});var u=B(3363),J=B(1327),Z=B(9425),Pe=B(6308);const re=(()=>{function w(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return w.prototype=Object.create(Error.prototype),w})();var W=B(6712),we=B(1092),fe=B(1680);class te extends fe.L{notifyNext(E,y,x,F,q){this.destination.next(y)}notifyError(E,y){this.destination.error(E)}notifyComplete(E){this.destination.complete()}}class Y extends fe.L{constructor(E,y,x){super(),this.parent=E,this.outerValue=y,this.outerIndex=x,this.index=0}_next(E){this.parent.notifyNext(this.outerValue,E,this.outerIndex,this.index++,this)}_error(E){this.parent.notifyError(E,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ye=B(3804),ae=B(96);function pe(w,E,y,x,F=new Y(w,y,x)){if(!F.closed)return E instanceof ae.y?E.subscribe(F):(0,ye.s)(E)(F)}var Fe=B(2054);const Ne={};function $e(...w){let E,y;return(0,W.K)(w[w.length-1])&&(y=w.pop()),"function"==typeof w[w.length-1]&&(E=w.pop()),1===w.length&&(0,we.k)(w[0])&&(w=w[0]),(0,Fe.n)(w,y).lift(new be(E))}class be{constructor(E){this.resultSelector=E}call(E,y){return y.subscribe(new ht(E,this.resultSelector))}}class ht extends te{constructor(E,y){super(E),this.resultSelector=y,this.active=0,this.values=[],this.observables=[]}_next(E){this.values.push(Ne),this.observables.push(E)}_complete(){const E=this.observables,y=E.length;if(0===y)this.destination.complete();else{this.active=y,this.toRespond=y;for(let x=0;x<y;x++)this.add(pe(this,E[x],void 0,x))}}notifyComplete(E){0==(this.active-=1)&&this.destination.complete()}notifyNext(E,y,x){const F=this.values,ve=this.toRespond?F[x]===Ne?--this.toRespond:this.toRespond:0;F[x]=y,0===ve&&(this.resultSelector?this._tryResultSelector(F):this.destination.next(F.slice()))}_tryResultSelector(E){let y;try{y=this.resultSelector.apply(this,E)}catch(x){return void this.destination.error(x)}this.destination.next(y)}}var rt=B(6366),at=B(6333),Dt=B(4917),Ot=B(2422),Ke=B(5763),Ye=B(8179),Me=B(6810),Ge=B(1320),se=B(4795),ce=B(8959),ee=B(53),Xe=B(2330),tt=B(160);function wt(w=null){return E=>E.lift(new nt(w))}class nt{constructor(E){this.defaultValue=E}call(E,y){return y.subscribe(new Ee(E,this.defaultValue))}}class Ee extends fe.L{constructor(E,y){super(E),this.defaultValue=y,this.isEmpty=!0}_next(E){this.isEmpty=!1,this.destination.next(E)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function He(w=Ve){return E=>E.lift(new ze(w))}class ze{constructor(E){this.errorFactory=E}call(E,y){return y.subscribe(new Be(E,this.errorFactory))}}class Be extends fe.L{constructor(E,y){super(E),this.errorFactory=y,this.hasValue=!1}_next(E){this.hasValue=!0,this.destination.next(E)}_complete(){if(this.hasValue)return this.destination.complete();{let E;try{E=this.errorFactory()}catch(y){E=y}this.destination.error(E)}}}function Ve(){return new re}var It=B(9142);function Ut(w,E){const y=arguments.length>=2;return x=>x.pipe(w?(0,Xe.h)((F,q)=>w(F,q,x)):It.y,(0,ee.q)(1),y?wt(E):He(()=>new re))}function $t(w,E){return(0,tt.zg)(w,E,1)}var yt=B(2045),_n=B(315);function yn(w){return function(y){const x=new dn(w),F=y.lift(x);return x.caught=F}}class dn{constructor(E){this.selector=E}call(E,y){return y.subscribe(new fn(E,this.selector,this.caught))}}class fn extends _n.Ds{constructor(E,y,x){super(E),this.selector=y,this.caught=x}error(E){if(!this.isStopped){let y;try{y=this.selector(E,this.caught)}catch(q){return void super.error(q)}this._unsubscribeAndRecycle();const x=new _n.IY(this);this.add(x);const F=(0,_n.ft)(y,x);F!==x&&this.add(F)}}}function Sn(w,E){let y=!1;return arguments.length>=2&&(y=!0),function(F){return F.lift(new Yn(w,E,y))}}class Yn{constructor(E,y,x=!1){this.accumulator=E,this.seed=y,this.hasSeed=x}call(E,y){return y.subscribe(new ar(E,this.accumulator,this.seed,this.hasSeed))}}class ar extends fe.L{constructor(E,y,x,F){super(E),this.accumulator=y,this._seed=x,this.hasSeed=F,this.index=0}get seed(){return this._seed}set seed(E){this.hasSeed=!0,this._seed=E}_next(E){if(this.hasSeed)return this._tryNext(E);this.seed=E,this.destination.next(E)}_tryNext(E){const y=this.index++;let x;try{x=this.accumulator(this.seed,E,y)}catch(F){this.destination.error(F)}this.seed=x,this.destination.next(x)}}var Ct=B(3268);function Mt(w){return function(y){return 0===w?(0,Ke.c)():y.lift(new bt(w))}}class bt{constructor(E){if(this.total=E,this.total<0)throw new Ct.W}call(E,y){return y.subscribe(new sn(E,this.total))}}class sn extends fe.L{constructor(E,y){super(E),this.total=y,this.ring=new Array,this.count=0}_next(E){const y=this.ring,x=this.total,F=this.count++;y.length<x?y.push(E):y[F%x]=E}_complete(){const E=this.destination;let y=this.count;if(y>0){const x=this.count>=this.total?this.total:this.count,F=this.ring;for(let q=0;q<x;q++){const ve=y++%x;E.next(F[ve])}}E.complete()}}function Bt(w,E){const y=arguments.length>=2;return x=>x.pipe(w?(0,Xe.h)((F,q)=>w(F,q,x)):It.y,Mt(1),y?wt(E):He(()=>new re))}class gt{constructor(E,y){this.predicate=E,this.inclusive=y}call(E,y){return y.subscribe(new Mr(E,this.predicate,this.inclusive))}}class Mr extends fe.L{constructor(E,y,x){super(E),this.predicate=y,this.inclusive=x,this.index=0}_next(E){const y=this.destination;let x;try{x=this.predicate(E,this.index++)}catch(F){return void y.error(F)}this.nextOrComplete(E,x)}nextOrComplete(E,y){const x=this.destination;Boolean(y)?x.next(E):(this.inclusive&&x.next(E),x.complete())}}class _r{constructor(E){this.value=E}call(E,y){return y.subscribe(new qn(E,this.value))}}class qn extends fe.L{constructor(E,y){super(E),this.value=y}_next(E){this.destination.next(this.value)}}var Wt=B(1576);function tn(w){return E=>E.lift(new Rr(w))}class Rr{constructor(E){this.callback=E}call(E,y){return y.subscribe(new Cr(E,this.callback))}}class Cr extends fe.L{constructor(E,y){super(E),this.add(new Wt.w(y))}}var $n=B(1181),En=B(9632),fr=B(1657);const hn="primary",Vn=Symbol("RouteTitle");class jn{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const y=this.params[E];return Array.isArray(y)?y[0]:y}return null}getAll(E){if(this.has(E)){const y=this.params[E];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function Nn(w){return new jn(w)}function Zr(w,E,y){const x=y.path.split("/");if(x.length>w.length||"full"===y.pathMatch&&(E.hasChildren()||x.length<w.length))return null;const F={};for(let q=0;q<x.length;q++){const ve=x[q],xe=w[q];if(ve.startsWith(":"))F[ve.substring(1)]=xe;else if(ve!==xe.path)return null}return{consumed:w.slice(0,x.length),posParams:F}}function jt(w,E){const y=w?Object.keys(w):void 0,x=E?Object.keys(E):void 0;if(!y||!x||y.length!=x.length)return!1;let F;for(let q=0;q<y.length;q++)if(F=y[q],!vt(w[F],E[F]))return!1;return!0}function vt(w,E){if(Array.isArray(w)&&Array.isArray(E)){if(w.length!==E.length)return!1;const y=[...w].sort(),x=[...E].sort();return y.every((F,q)=>x[q]===F)}return w===E}function Gt(w){return Array.prototype.concat.apply([],w)}function wn(w){return w.length>0?w[w.length-1]:null}function an(w,E){for(const y in w)w.hasOwnProperty(y)&&E(w[y],y)}function Ce(w){return(0,u.CqO)(w)?w:(0,u.QGY)(w)?(0,J.D)(Promise.resolve(w)):(0,Z.of)(w)}const lt={exact:function nn(w,E,y){if(!un(w.segments,E.segments)||!De(w.segments,E.segments,y)||w.numberOfChildren!==E.numberOfChildren)return!1;for(const x in E.children)if(!w.children[x]||!nn(w.children[x],E.children[x],y))return!1;return!0},subset:Kn},et={exact:function Dn(w,E){return jt(w,E)},subset:function Zn(w,E){return Object.keys(E).length<=Object.keys(w).length&&Object.keys(E).every(y=>vt(w[y],E[y]))},ignored:()=>!0};function Qt(w,E,y){return lt[y.paths](w.root,E.root,y.matrixParams)&&et[y.queryParams](w.queryParams,E.queryParams)&&!("exact"===y.fragment&&w.fragment!==E.fragment)}function Kn(w,E,y){return Ze(w,E,E.segments,y)}function Ze(w,E,y,x){if(w.segments.length>y.length){const F=w.segments.slice(0,y.length);return!(!un(F,y)||E.hasChildren()||!De(F,y,x))}if(w.segments.length===y.length){if(!un(w.segments,y)||!De(w.segments,y,x))return!1;for(const F in E.children)if(!w.children[F]||!Kn(w.children[F],E.children[F],x))return!1;return!0}{const F=y.slice(0,w.segments.length),q=y.slice(w.segments.length);return!!(un(w.segments,F)&&De(w.segments,F,x)&&w.children[hn])&&Ze(w.children[hn],E,q,x)}}function De(w,E,y){return E.every((x,F)=>et[y](w[F].parameters,x.parameters))}class me{constructor(E,y,x){this.root=E,this.queryParams=y,this.fragment=x}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nn(this.queryParams)),this._queryParamMap}toString(){return zn.serialize(this)}}class _e{constructor(E,y){this.segments=E,this.children=y,this.parent=null,an(y,(x,F)=>x.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ai(this)}}class Je{constructor(E,y){this.path=E,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=Nn(this.parameters)),this._parameterMap}toString(){return gr(this)}}function un(w,E){return w.length===E.length&&w.every((y,x)=>y.path===E[x].path)}let Hn=(()=>{class w{}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=u.Yz7({token:w,factory:function(){return new ur},providedIn:"root"}),w})();class ur{parse(E){const y=new N(E);return new me(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(E){const y=`/${jr(E.root,!0)}`,x=function Xr(w){const E=Object.keys(w).map(y=>{const x=w[y];return Array.isArray(x)?x.map(F=>`${Or(y)}=${Or(F)}`).join("&"):`${Or(y)}=${Or(x)}`}).filter(y=>!!y);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${y}${x}${"string"==typeof E.fragment?`#${function cr(w){return encodeURI(w)}(E.fragment)}`:""}`}}const zn=new ur;function ai(w){return w.segments.map(E=>gr(E)).join("/")}function jr(w,E){if(!w.hasChildren())return ai(w);if(E){const y=w.children[hn]?jr(w.children[hn],!1):"",x=[];return an(w.children,(F,q)=>{q!==hn&&x.push(`${q}:${jr(F,!1)}`)}),x.length>0?`${y}(${x.join("//")})`:y}{const y=function or(w,E){let y=[];return an(w.children,(x,F)=>{F===hn&&(y=y.concat(E(x,F)))}),an(w.children,(x,F)=>{F!==hn&&(y=y.concat(E(x,F)))}),y}(w,(x,F)=>F===hn?[jr(w.children[hn],!1)]:[`${F}:${jr(x,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[hn]?`${ai(w)}/${y[0]}`:`${ai(w)}/(${y.join("//")})`}}function Cn(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Or(w){return Cn(w).replace(/%3B/gi,";")}function Er(w){return Cn(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hr(w){return decodeURIComponent(w)}function wr(w){return Hr(w.replace(/\+/g,"%20"))}function gr(w){return`${Er(w.path)}${function vi(w){return Object.keys(w).map(E=>`;${Er(E)}=${Er(w[E])}`).join("")}(w.parameters)}`}const qr=/^[^\/()?;=#]+/;function Yr(w){const E=w.match(qr);return E?E[0]:""}const Xn=/^[^=?&#]+/,ki=/^[^&#]+/;class N{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let x={};return this.peekStartsWith("(")&&(x=this.parseParens(!1)),(E.length>0||Object.keys(y).length>0)&&(x[hn]=new _e(E,y)),x}parseSegment(){const E=Yr(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(E),new Je(Hr(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const y=Yr(this.remaining);if(!y)return;this.capture(y);let x="";if(this.consumeOptional("=")){const F=Yr(this.remaining);F&&(x=F,this.capture(x))}E[Hr(y)]=Hr(x)}parseQueryParam(E){const y=function cs(w){const E=w.match(Xn);return E?E[0]:""}(this.remaining);if(!y)return;this.capture(y);let x="";if(this.consumeOptional("=")){const ve=function qe(w){const E=w.match(ki);return E?E[0]:""}(this.remaining);ve&&(x=ve,this.capture(x))}const F=wr(y),q=wr(x);if(E.hasOwnProperty(F)){let ve=E[F];Array.isArray(ve)||(ve=[ve],E[F]=ve),ve.push(q)}else E[F]=q}parseParens(E){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const x=Yr(this.remaining),F=this.remaining[x.length];if("/"!==F&&")"!==F&&";"!==F)throw new u.vHH(4010,!1);let q;x.indexOf(":")>-1?(q=x.slice(0,x.indexOf(":")),this.capture(q),this.capture(":")):E&&(q=hn);const ve=this.parseChildren();y[q]=1===Object.keys(ve).length?ve[hn]:new _e([],ve),this.consumeOptional("//")}return y}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new u.vHH(4011,!1)}}function U(w){return w.segments.length>0?new _e([],{[hn]:w}):w}function ie(w){const E={};for(const x of Object.keys(w.children)){const q=ie(w.children[x]);(q.segments.length>0||q.hasChildren())&&(E[x]=q)}return function he(w){if(1===w.numberOfChildren&&w.children[hn]){const E=w.children[hn];return new _e(w.segments.concat(E.segments),E.children)}return w}(new _e(w.segments,E))}function ke(w){return w instanceof me}function _t(w,E,y,x,F){if(0===y.length)return gn(E.root,E.root,E.root,x,F);const q=function ui(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new yr(!0,0,w);let E=0,y=!1;const x=w.reduce((F,q,ve)=>{if("object"==typeof q&&null!=q){if(q.outlets){const xe={};return an(q.outlets,(it,Xt)=>{xe[Xt]="string"==typeof it?it.split("/"):it}),[...F,{outlets:xe}]}if(q.segmentPath)return[...F,q.segmentPath]}return"string"!=typeof q?[...F,q]:0===ve?(q.split("/").forEach((xe,it)=>{0==it&&"."===xe||(0==it&&""===xe?y=!0:".."===xe?E++:""!=xe&&F.push(xe))}),F):[...F,q]},[]);return new yr(y,E,x)}(y);return q.toRoot()?gn(E.root,E.root,new _e([],{}),x,F):function ve(it){const Xt=function Pi(w,E,y,x){if(w.isAbsolute)return new kr(E.root,!0,0);if(-1===x)return new kr(y,y===E.root,0);return function ls(w,E,y){let x=w,F=E,q=y;for(;q>F;){if(q-=F,x=x.parent,!x)throw new u.vHH(4005,!1);F=x.segments.length}return new kr(x,!1,F-q)}(y,x+(Vt(w.commands[0])?0:1),w.numberOfDoubleDots)}(q,E,w.snapshot?._urlSegment,it),ir=Xt.processChildren?oo(Xt.segmentGroup,Xt.index,q.commands):Ii(Xt.segmentGroup,Xt.index,q.commands);return gn(E.root,Xt.segmentGroup,ir,x,F)}(w.snapshot?._lastPathIndex)}function Vt(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function qt(w){return"object"==typeof w&&null!=w&&w.outlets}function gn(w,E,y,x,F){let ve,q={};x&&an(x,(it,Xt)=>{q[Xt]=Array.isArray(it)?it.map(ir=>`${ir}`):`${it}`}),ve=w===E?y:mr(w,E,y);const xe=U(ie(ve));return new me(xe,q,F)}function mr(w,E,y){const x={};return an(w.children,(F,q)=>{x[q]=F===E?y:mr(F,E,y)}),new _e(w.segments,x)}class yr{constructor(E,y,x){if(this.isAbsolute=E,this.numberOfDoubleDots=y,this.commands=x,E&&x.length>0&&Vt(x[0]))throw new u.vHH(4003,!1);const F=x.find(qt);if(F&&F!==wn(x))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class kr{constructor(E,y,x){this.segmentGroup=E,this.processChildren=y,this.index=x}}function Ii(w,E,y){if(w||(w=new _e([],{})),0===w.segments.length&&w.hasChildren())return oo(w,E,y);const x=function Ss(w,E,y){let x=0,F=E;const q={match:!1,pathIndex:0,commandIndex:0};for(;F<w.segments.length;){if(x>=y.length)return q;const ve=w.segments[F],xe=y[x];if(qt(xe))break;const it=`${xe}`,Xt=x<y.length-1?y[x+1]:null;if(F>0&&void 0===it)break;if(it&&Xt&&"object"==typeof Xt&&void 0===Xt.outlets){if(!ds(it,Xt,ve))return q;x+=2}else{if(!ds(it,{},ve))return q;x++}F++}return{match:!0,pathIndex:F,commandIndex:x}}(w,E,y),F=y.slice(x.commandIndex);if(x.match&&x.pathIndex<w.segments.length){const q=new _e(w.segments.slice(0,x.pathIndex),{});return q.children[hn]=new _e(w.segments.slice(x.pathIndex),w.children),oo(q,0,F)}return x.match&&0===F.length?new _e(w.segments,{}):x.match&&!w.hasChildren()?Do(w,E,y):x.match?oo(w,0,F):Do(w,E,y)}function oo(w,E,y){if(0===y.length)return new _e(w.segments,{});{const x=function so(w){return qt(w[0])?w[0].outlets:{[hn]:w}}(y),F={};return an(x,(q,ve)=>{"string"==typeof q&&(q=[q]),null!==q&&(F[ve]=Ii(w.children[ve],E,q))}),an(w.children,(q,ve)=>{void 0===x[ve]&&(F[ve]=q)}),new _e(w.segments,F)}}function Do(w,E,y){const x=w.segments.slice(0,E);let F=0;for(;F<y.length;){const q=y[F];if(qt(q)){const it=As(q.outlets);return new _e(x,it)}if(0===F&&Vt(y[0])){x.push(new Je(w.segments[E].path,Ls(y[0]))),F++;continue}const ve=qt(q)?q.outlets[hn]:`${q}`,xe=F<y.length-1?y[F+1]:null;ve&&xe&&Vt(xe)?(x.push(new Je(ve,Ls(xe))),F+=2):(x.push(new Je(ve,{})),F++)}return new _e(x,{})}function As(w){const E={};return an(w,(y,x)=>{"string"==typeof y&&(y=[y]),null!==y&&(E[x]=Do(new _e([],{}),0,y))}),E}function Ls(w){const E={};return an(w,(y,x)=>E[x]=`${y}`),E}function ds(w,E,y){return w==y.path&&jt(E,y.parameters)}class ji{constructor(E,y){this.id=E,this.url=y}}class qs extends ji{constructor(E,y,x="imperative",F=null){super(E,y),this.type=0,this.navigationTrigger=x,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hi extends ji{constructor(E,y,x){super(E,y),this.urlAfterRedirects=x,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ti extends ji{constructor(E,y,x,F){super(E,y),this.reason=x,this.code=F,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $s extends ji{constructor(E,y,x,F){super(E,y),this.error=x,this.target=F,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ma extends ji{constructor(E,y,x,F){super(E,y),this.urlAfterRedirects=x,this.state=F,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gi extends ji{constructor(E,y,x,F){super(E,y),this.urlAfterRedirects=x,this.state=F,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _i extends ji{constructor(E,y,x,F,q){super(E,y),this.urlAfterRedirects=x,this.state=F,this.shouldActivate=q,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hs extends ji{constructor(E,y,x,F){super(E,y),this.urlAfterRedirects=x,this.state=F,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ci extends ji{constructor(E,y,x,F){super(E,y),this.urlAfterRedirects=x,this.state=F,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ys{constructor(E){this.route=E,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class br{constructor(E){this.route=E,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $o{constructor(E){this.snapshot=E,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ti{constructor(E){this.snapshot=E,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ni{constructor(E){this.snapshot=E,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zo{constructor(E){this.snapshot=E,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ni{constructor(E,y,x){this.routerEvent=E,this.position=y,this.anchor=x,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ri{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const y=this.pathFromRoot(E);return y.length>1?y[y.length-2]:null}children(E){const y=Ks(E,this._root);return y?y.children.map(x=>x.value):[]}firstChild(E){const y=Ks(E,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(E){const y=Vs(E,this._root);return y.length<2?[]:y[y.length-2].children.map(F=>F.value).filter(F=>F!==E)}pathFromRoot(E){return Vs(E,this._root).map(y=>y.value)}}function Ks(w,E){if(w===E.value)return E;for(const y of E.children){const x=Ks(w,y);if(x)return x}return null}function Vs(w,E){if(w===E.value)return[E];for(const y of E.children){const x=Vs(w,y);if(x.length)return x.unshift(E),x}return[]}class li{constructor(E,y){this.value=E,this.children=y}toString(){return`TreeNode(${this.value})`}}function Sr(w){const E={};return w&&w.children.forEach(y=>E[y.value.outlet]=y),E}class fs extends ri{constructor(E,y){super(E),this.snapshot=y,Ai(this,E)}toString(){return this.snapshot.toString()}}function vr(w,E){const y=function Is(w,E){const ve=new Gr([],{},{},"",{},hn,E,null,w.root,-1,{});return new Ji("",new li(ve,[]))}(w,E),x=new Pe.X([new Je("",{})]),F=new Pe.X({}),q=new Pe.X({}),ve=new Pe.X({}),xe=new Pe.X(""),it=new di(x,F,ve,xe,q,hn,E,y.root);return it.snapshot=y.root,new fs(new li(it,[]),y)}class di{constructor(E,y,x,F,q,ve,xe,it){this.url=E,this.params=y,this.queryParams=x,this.fragment=F,this.data=q,this.outlet=ve,this.component=xe,this.title=this.data?.pipe((0,se.U)(Xt=>Xt[Vn]))??(0,Z.of)(void 0),this._futureSnapshot=it}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,se.U)(E=>Nn(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,se.U)(E=>Nn(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ps(w,E="emptyOnly"){const y=w.pathFromRoot;let x=0;if("always"!==E)for(x=y.length-1;x>=1;){const F=y[x],q=y[x-1];if(F.routeConfig&&""===F.routeConfig.path)x--;else{if(q.component)break;x--}}return function Si(w){return w.reduce((E,y)=>({params:{...E.params,...y.params},data:{...E.data,...y.data},resolve:{...y.data,...E.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(x))}class Gr{constructor(E,y,x,F,q,ve,xe,it,Xt,ir,Jt,$r){this.url=E,this.params=y,this.queryParams=x,this.fragment=F,this.data=q,this.outlet=ve,this.component=xe,this.title=this.data?.[Vn],this.routeConfig=it,this._urlSegment=Xt,this._lastPathIndex=ir,this._correctedLastPathIndex=$r??ir,this._resolve=Jt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(x=>x.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ji extends ri{constructor(E,y){super(y),this.url=E,Ai(this,y)}toString(){return Qr(this._root)}}function Ai(w,E){E.value._routerState=w,E.children.forEach(y=>Ai(w,y))}function Qr(w){const E=w.children.length>0?` { ${w.children.map(Qr).join(", ")} } `:"";return`${w.value}${E}`}function es(w){if(w.snapshot){const E=w.snapshot,y=w._futureSnapshot;w.snapshot=y,jt(E.queryParams,y.queryParams)||w.queryParams.next(y.queryParams),E.fragment!==y.fragment&&w.fragment.next(y.fragment),jt(E.params,y.params)||w.params.next(y.params),function Tr(w,E){if(w.length!==E.length)return!1;for(let y=0;y<w.length;++y)if(!jt(w[y],E[y]))return!1;return!0}(E.url,y.url)||w.url.next(y.url),jt(E.data,y.data)||w.data.next(y.data)}else w.snapshot=w._futureSnapshot,w.data.next(w._futureSnapshot.data)}function gs(w,E){const y=jt(w.params,E.params)&&function zt(w,E){return un(w,E)&&w.every((y,x)=>jt(y.parameters,E[x].parameters))}(w.url,E.url);return y&&!(!w.parent!=!E.parent)&&(!w.parent||gs(w.parent,E.parent))}function Fi(w,E,y){if(y&&w.shouldReuseRoute(E.value,y.value.snapshot)){const x=y.value;x._futureSnapshot=E.value;const F=function Bs(w,E,y){return E.children.map(x=>{for(const F of y.children)if(w.shouldReuseRoute(x.value,F.value.snapshot))return Fi(w,x,F);return Fi(w,x)})}(w,E,y);return new li(x,F)}{if(w.shouldAttach(E.value)){const q=w.retrieve(E.value);if(null!==q){const ve=q.route;return ve.value._futureSnapshot=E.value,ve.children=E.children.map(xe=>Fi(w,xe)),ve}}const x=function Zs(w){return new di(new Pe.X(w.url),new Pe.X(w.params),new Pe.X(w.queryParams),new Pe.X(w.fragment),new Pe.X(w.data),w.outlet,w.component,w)}(E.value),F=E.children.map(q=>Fi(w,q));return new li(x,F)}}const An="ngNavigationCancelingError";function Xs(w,E){const{redirectTo:y,navigationBehaviorOptions:x}=ke(E)?{redirectTo:E,navigationBehaviorOptions:void 0}:E,F=ao(!1,0,E);return F.url=y,F.navigationBehaviorOptions=x,F}function ao(w,E,y){const x=new Error("NavigationCancelingError: "+(w||""));return x[An]=!0,x.cancellationCode=E,y&&(x.url=y),x}function Ki(w){return Us(w)&&ke(w.url)}function Us(w){return w&&w[An]}class js{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Hs,this.attachRef=null}}let Hs=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(y,x){const F=this.getOrCreateContext(y);F.outlet=x,this.contexts.set(y,F)}onChildOutletDestroyed(y){const x=this.getContext(y);x&&(x.outlet=null,x.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let x=this.getContext(y);return x||(x=new js,this.contexts.set(y,x)),x}getContext(y){return this.contexts.get(y)||null}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const ts=!1;let Co=(()=>{class w{constructor(y,x,F,q,ve){this.parentContexts=y,this.location=x,this.changeDetector=q,this.environmentInjector=ve,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=F||hn,y.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const y=this.parentContexts.getContext(this.name);y&&y.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,ts);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,ts);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,ts);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,x){this.activated=y,this._activatedRoute=x,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,x){if(this.isActivated)throw new u.vHH(4013,ts);this._activatedRoute=y;const F=this.location,ve=y._futureSnapshot.component,xe=this.parentContexts.getOrCreateContext(this.name).children,it=new xt(y,xe,F.injector);if(x&&function Tn(w){return!!w.resolveComponentFactory}(x)){const Xt=x.resolveComponentFactory(ve);this.activated=F.createComponent(Xt,F.length,it)}else this.activated=F.createComponent(ve,{index:F.length,injector:it,environmentInjector:x??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return w.\u0275fac=function(y){return new(y||w)(u.Y36(Hs),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},w.\u0275dir=u.lG2({type:w,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),w})();class xt{constructor(E,y,x){this.route=E,this.childContexts=y,this.parent=x}get(E,y){return E===di?this.route:E===Hs?this.childContexts:this.parent.get(E,y)}}let Es=(()=>{class w{}return w.\u0275fac=function(y){return new(y||w)},w.\u0275cmp=u.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(y,x){1&y&&u._UZ(0,"router-outlet")},dependencies:[Co],encapsulation:2}),w})();function _(w,E){return w.providers&&!w._injector&&(w._injector=(0,u.MMx)(w.providers,E,`Route: ${w.path}`)),w._injector??E}function Pn(w){const E=w.children&&w.children.map(Pn),y=E?{...w,children:E}:{...w};return!y.component&&!y.loadComponent&&(E||y.loadChildren)&&y.outlet&&y.outlet!==hn&&(y.component=Es),y}function Ln(w){return w.outlet||hn}function Wn(w,E){const y=w.filter(x=>Ln(x)===E);return y.push(...w.filter(x=>Ln(x)!==E)),y}function tr(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let E=w.parent;E;E=E.parent){const y=E.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class hi{constructor(E,y,x,F){this.routeReuseStrategy=E,this.futureState=y,this.currState=x,this.forwardEvent=F}activate(E){const y=this.futureState._root,x=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,x,E),es(this.futureState.root),this.activateChildRoutes(y,x,E)}deactivateChildRoutes(E,y,x){const F=Sr(y);E.children.forEach(q=>{const ve=q.value.outlet;this.deactivateRoutes(q,F[ve],x),delete F[ve]}),an(F,(q,ve)=>{this.deactivateRouteAndItsChildren(q,x)})}deactivateRoutes(E,y,x){const F=E.value,q=y?y.value:null;if(F===q)if(F.component){const ve=x.getContext(F.outlet);ve&&this.deactivateChildRoutes(E,y,ve.children)}else this.deactivateChildRoutes(E,y,x);else q&&this.deactivateRouteAndItsChildren(y,x)}deactivateRouteAndItsChildren(E,y){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,y):this.deactivateRouteAndOutlet(E,y)}detachAndStoreRouteSubtree(E,y){const x=y.getContext(E.value.outlet),F=x&&E.value.component?x.children:y,q=Sr(E);for(const ve of Object.keys(q))this.deactivateRouteAndItsChildren(q[ve],F);if(x&&x.outlet){const ve=x.outlet.detach(),xe=x.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:ve,route:E,contexts:xe})}}deactivateRouteAndOutlet(E,y){const x=y.getContext(E.value.outlet),F=x&&E.value.component?x.children:y,q=Sr(E);for(const ve of Object.keys(q))this.deactivateRouteAndItsChildren(q[ve],F);x&&x.outlet&&(x.outlet.deactivate(),x.children.onOutletDeactivated(),x.attachRef=null,x.resolver=null,x.route=null)}activateChildRoutes(E,y,x){const F=Sr(y);E.children.forEach(q=>{this.activateRoutes(q,F[q.value.outlet],x),this.forwardEvent(new Zo(q.value.snapshot))}),E.children.length&&this.forwardEvent(new ti(E.value.snapshot))}activateRoutes(E,y,x){const F=E.value,q=y?y.value:null;if(es(F),F===q)if(F.component){const ve=x.getOrCreateContext(F.outlet);this.activateChildRoutes(E,y,ve.children)}else this.activateChildRoutes(E,y,x);else if(F.component){const ve=x.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const xe=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),ve.children.onOutletReAttached(xe.contexts),ve.attachRef=xe.componentRef,ve.route=xe.route.value,ve.outlet&&ve.outlet.attach(xe.componentRef,xe.route.value),es(xe.route.value),this.activateChildRoutes(E,null,ve.children)}else{const xe=tr(F.snapshot),it=xe?.get(u._Vd)??null;ve.attachRef=null,ve.route=F,ve.resolver=it,ve.injector=xe,ve.outlet&&ve.outlet.activateWith(F,ve.injector),this.activateChildRoutes(E,null,ve.children)}}else this.activateChildRoutes(E,null,x)}}class fi{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class xs{constructor(E,y){this.component=E,this.route=y}}function Xo(w,E,y){const x=w._root;return ms(x,E?E._root:null,y,[x.value])}function uo(w,E){const y=Symbol(),x=E.get(w,y);return x===y?"function"!=typeof w||(0,u.Z0I)(w)?E.get(w):w:x}function ms(w,E,y,x,F={canDeactivateChecks:[],canActivateChecks:[]}){const q=Sr(E);return w.children.forEach(ve=>{(function Qo(w,E,y,x,F={canDeactivateChecks:[],canActivateChecks:[]}){const q=w.value,ve=E?E.value:null,xe=y?y.getContext(w.value.outlet):null;if(ve&&q.routeConfig===ve.routeConfig){const it=function Jo(w,E,y){if("function"==typeof y)return y(w,E);switch(y){case"pathParamsChange":return!un(w.url,E.url);case"pathParamsOrQueryParamsChange":return!un(w.url,E.url)||!jt(w.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gs(w,E)||!jt(w.queryParams,E.queryParams);default:return!gs(w,E)}}(ve,q,q.routeConfig.runGuardsAndResolvers);it?F.canActivateChecks.push(new fi(x)):(q.data=ve.data,q._resolvedData=ve._resolvedData),ms(w,E,q.component?xe?xe.children:null:y,x,F),it&&xe&&xe.outlet&&xe.outlet.isActivated&&F.canDeactivateChecks.push(new xs(xe.outlet.component,ve))}else ve&&Qs(E,xe,F),F.canActivateChecks.push(new fi(x)),ms(w,null,q.component?xe?xe.children:null:y,x,F)})(ve,q[ve.value.outlet],y,x.concat([ve.value]),F),delete q[ve.value.outlet]}),an(q,(ve,xe)=>Qs(ve,y.getContext(xe),F)),F}function Qs(w,E,y){const x=Sr(w),F=w.value;an(x,(q,ve)=>{Qs(q,F.component?E?E.children.getContext(ve):null:E,y)}),y.canDeactivateChecks.push(new xs(F.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,F))}function co(w){return"function"==typeof w}function At(w){return w instanceof re||"EmptyError"===w?.name}const Ht=Symbol("INITIAL_VALUE");function xn(){return(0,ce.w)(w=>$e(w.map(E=>E.pipe((0,ee.q)(1),function le(...w){const E=w[w.length-1];return(0,W.K)(E)?(w.pop(),y=>(0,rt.z)(w,y,E)):y=>(0,rt.z)(w,y)}(Ht)))).pipe((0,se.U)(E=>{for(const y of E)if(!0!==y){if(y===Ht)return Ht;if(!1===y||y instanceof me)return y}return!0}),(0,Xe.h)(E=>E!==Ht),(0,ee.q)(1)))}function ws(w){return(0,Dt.z)((0,yt.b)(E=>{if(ke(E))throw Xs(0,E)}),(0,se.U)(E=>!0===E))}const ta={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ma(w,E,y,x,F){const q=Wr(w,E,y);return q.matched?function lo(w,E,y,x){const F=E.canMatch;if(!F||0===F.length)return(0,Z.of)(!0);const q=F.map(ve=>{const xe=uo(ve,w);return Ce(function X(w){return w&&co(w.canMatch)}(xe)?xe.canMatch(E,y):w.runInContext(()=>xe(E,y)))});return(0,Z.of)(q).pipe(xn(),ws())}(x=_(E,x),E,y).pipe((0,se.U)(ve=>!0===ve?q:{...ta})):(0,Z.of)(q)}function Wr(w,E,y){if(""===E.path)return"full"===E.pathMatch&&(w.hasChildren()||y.length>0)?{...ta}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const F=(E.matcher||Zr)(y,w,E);if(!F)return{...ta};const q={};an(F.posParams,(xe,it)=>{q[it]=xe.path});const ve=F.consumed.length>0?{...q,...F.consumed[F.consumed.length-1].parameters}:q;return{matched:!0,consumedSegments:F.consumed,remainingSegments:y.slice(F.consumed.length),parameters:ve,positionalParamSegments:F.posParams??{}}}function Vr(w,E,y,x,F="corrected"){if(y.length>0&&function ya(w,E,y){return y.some(x=>Kr(w,E,x)&&Ln(x)!==hn)}(w,y,x)){const ve=new _e(E,function So(w,E,y,x){const F={};F[hn]=x,x._sourceSegment=w,x._segmentIndexShift=E.length;for(const q of y)if(""===q.path&&Ln(q)!==hn){const ve=new _e([],{});ve._sourceSegment=w,ve._segmentIndexShift=E.length,F[Ln(q)]=ve}return F}(w,E,x,new _e(y,w.children)));return ve._sourceSegment=w,ve._segmentIndexShift=E.length,{segmentGroup:ve,slicedSegments:[]}}if(0===y.length&&function Lt(w,E,y){return y.some(x=>Kr(w,E,x))}(w,y,x)){const ve=new _e(w.segments,function Js(w,E,y,x,F,q){const ve={};for(const xe of x)if(Kr(w,y,xe)&&!F[Ln(xe)]){const it=new _e([],{});it._sourceSegment=w,it._segmentIndexShift="legacy"===q?w.segments.length:E.length,ve[Ln(xe)]=it}return{...F,...ve}}(w,E,y,x,w.children,F));return ve._sourceSegment=w,ve._segmentIndexShift=E.length,{segmentGroup:ve,slicedSegments:y}}const q=new _e(w.segments,w.children);return q._sourceSegment=w,q._segmentIndexShift=E.length,{segmentGroup:q,slicedSegments:y}}function Kr(w,E,y){return(!(w.hasChildren()||E.length>0)||"full"!==y.pathMatch)&&""===y.path}function na(w,E,y,x){return!!(Ln(w)===x||x!==hn&&Kr(E,y,w))&&("**"===w.path||Wr(E,w,y).matched)}function Ra(w,E,y){return 0===E.length&&!w.children[y]}const mn=!1;class Mn{constructor(E){this.segmentGroup=E||null}}class Hu{constructor(E){this.urlTree=E}}function Yt(w){return(0,Ot._)(new Mn(w))}function ct(w){return(0,Ot._)(new Hu(w))}class Gu{constructor(E,y,x,F,q){this.injector=E,this.configLoader=y,this.urlSerializer=x,this.urlTree=F,this.config=q,this.allowRedirects=!0}apply(){const E=Vr(this.urlTree.root,[],[],this.config).segmentGroup,y=new _e(E.segments,E.children);return this.expandSegmentGroup(this.injector,this.config,y,hn).pipe((0,se.U)(q=>this.createUrlTree(ie(q),this.urlTree.queryParams,this.urlTree.fragment))).pipe(yn(q=>{if(q instanceof Hu)return this.allowRedirects=!1,this.match(q.urlTree);throw q instanceof Mn?this.noMatchError(q):q}))}match(E){return this.expandSegmentGroup(this.injector,this.config,E.root,hn).pipe((0,se.U)(F=>this.createUrlTree(ie(F),E.queryParams,E.fragment))).pipe(yn(F=>{throw F instanceof Mn?this.noMatchError(F):F}))}noMatchError(E){return new u.vHH(4002,mn)}createUrlTree(E,y,x){const F=U(E);return new me(F,y,x)}expandSegmentGroup(E,y,x,F){return 0===x.segments.length&&x.hasChildren()?this.expandChildren(E,y,x).pipe((0,se.U)(q=>new _e([],q))):this.expandSegment(E,x,y,x.segments,F,!0)}expandChildren(E,y,x){const F=[];for(const q of Object.keys(x.children))"primary"===q?F.unshift(q):F.push(q);return(0,J.D)(F).pipe($t(q=>{const ve=x.children[q],xe=Wn(y,q);return this.expandSegmentGroup(E,xe,ve,q).pipe((0,se.U)(it=>({segment:it,outlet:q})))}),Sn((q,ve)=>(q[ve.outlet]=ve.segment,q),{}),Bt())}expandSegment(E,y,x,F,q,ve){return(0,J.D)(x).pipe($t(xe=>this.expandSegmentAgainstRoute(E,y,x,xe,F,q,ve).pipe(yn(Xt=>{if(Xt instanceof Mn)return(0,Z.of)(null);throw Xt}))),Ut(xe=>!!xe),yn((xe,it)=>{if(At(xe))return Ra(y,F,q)?(0,Z.of)(new _e([],{})):Yt(y);throw xe}))}expandSegmentAgainstRoute(E,y,x,F,q,ve,xe){return na(F,y,q,ve)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(E,y,F,q,ve):xe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,y,x,F,q,ve):Yt(y):Yt(y)}expandSegmentAgainstRouteUsingRedirect(E,y,x,F,q,ve){return"**"===F.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,x,F,ve):this.expandRegularSegmentAgainstRouteUsingRedirect(E,y,x,F,q,ve)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,y,x,F){const q=this.applyRedirectCommands([],x.redirectTo,{});return x.redirectTo.startsWith("/")?ct(q):this.lineralizeSegments(x,q).pipe((0,tt.zg)(ve=>{const xe=new _e(ve,{});return this.expandSegment(E,xe,y,ve,F,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,y,x,F,q,ve){const{matched:xe,consumedSegments:it,remainingSegments:Xt,positionalParamSegments:ir}=Wr(y,F,q);if(!xe)return Yt(y);const Jt=this.applyRedirectCommands(it,F.redirectTo,ir);return F.redirectTo.startsWith("/")?ct(Jt):this.lineralizeSegments(F,Jt).pipe((0,tt.zg)($r=>this.expandSegment(E,y,x,$r.concat(Xt),ve,!1)))}matchSegmentAgainstRoute(E,y,x,F,q){return"**"===x.path?(E=_(x,E),x.loadChildren?(x._loadedRoutes?(0,Z.of)({routes:x._loadedRoutes,injector:x._loadedInjector}):this.configLoader.loadChildren(E,x)).pipe((0,se.U)(xe=>(x._loadedRoutes=xe.routes,x._loadedInjector=xe.injector,new _e(F,{})))):(0,Z.of)(new _e(F,{}))):Ma(y,x,F,E).pipe((0,ce.w)(({matched:ve,consumedSegments:xe,remainingSegments:it})=>ve?this.getChildConfig(E=x._injector??E,x,F).pipe((0,tt.zg)(ir=>{const Jt=ir.injector??E,$r=ir.routes,{segmentGroup:Ri,slicedSegments:Wi}=Vr(y,xe,it,$r),is=new _e(Ri.segments,Ri.children);if(0===Wi.length&&is.hasChildren())return this.expandChildren(Jt,$r,is).pipe((0,se.U)(La=>new _e(xe,La)));if(0===$r.length&&0===Wi.length)return(0,Z.of)(new _e(xe,{}));const qi=Ln(x)===q;return this.expandSegment(Jt,is,$r,Wi,qi?hn:q,!0).pipe((0,se.U)(mi=>new _e(xe.concat(mi.segments),mi.children)))})):Yt(y)))}getChildConfig(E,y,x){return y.children?(0,Z.of)({routes:y.children,injector:E}):y.loadChildren?void 0!==y._loadedRoutes?(0,Z.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function ns(w,E,y,x){const F=E.canLoad;if(void 0===F||0===F.length)return(0,Z.of)(!0);const q=F.map(ve=>{const xe=uo(ve,w);return Ce(function To(w){return w&&co(w.canLoad)}(xe)?xe.canLoad(E,y):w.runInContext(()=>xe(E,y)))});return(0,Z.of)(q).pipe(xn(),ws())}(E,y,x).pipe((0,tt.zg)(F=>F?this.configLoader.loadChildren(E,y).pipe((0,yt.b)(q=>{y._loadedRoutes=q.routes,y._loadedInjector=q.injector})):function Mi(w){return(0,Ot._)(ao(mn,3))}())):(0,Z.of)({routes:[],injector:E})}lineralizeSegments(E,y){let x=[],F=y.root;for(;;){if(x=x.concat(F.segments),0===F.numberOfChildren)return(0,Z.of)(x);if(F.numberOfChildren>1||!F.children[hn])return(0,Ot._)(new u.vHH(4e3,mn));F=F.children[hn]}}applyRedirectCommands(E,y,x){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),E,x)}applyRedirectCreateUrlTree(E,y,x,F){const q=this.createSegmentGroup(E,y.root,x,F);return new me(q,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(E,y){const x={};return an(E,(F,q)=>{if("string"==typeof F&&F.startsWith(":")){const xe=F.substring(1);x[q]=y[xe]}else x[q]=F}),x}createSegmentGroup(E,y,x,F){const q=this.createSegments(E,y.segments,x,F);let ve={};return an(y.children,(xe,it)=>{ve[it]=this.createSegmentGroup(E,xe,x,F)}),new _e(q,ve)}createSegments(E,y,x,F){return y.map(q=>q.path.startsWith(":")?this.findPosParam(E,q,F):this.findOrReturn(q,x))}findPosParam(E,y,x){const F=x[y.path.substring(1)];if(!F)throw new u.vHH(4001,mn);return F}findOrReturn(E,y){let x=0;for(const F of y){if(F.path===E.path)return y.splice(x),F;x++}return E}}class ia{}class Pa{constructor(E,y,x,F,q,ve,xe,it){this.injector=E,this.rootComponentType=y,this.config=x,this.urlTree=F,this.url=q,this.paramsInheritanceStrategy=ve,this.relativeLinkResolution=xe,this.urlSerializer=it}recognize(){const E=Vr(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,E,hn).pipe((0,se.U)(y=>{if(null===y)return null;const x=new Gr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},hn,this.rootComponentType,null,this.urlTree.root,-1,{}),F=new li(x,y),q=new Ji(this.url,F);return this.inheritParamsAndData(q._root),q}))}inheritParamsAndData(E){const y=E.value,x=ps(y,this.paramsInheritanceStrategy);y.params=Object.freeze(x.params),y.data=Object.freeze(x.data),E.children.forEach(F=>this.inheritParamsAndData(F))}processSegmentGroup(E,y,x,F){return 0===x.segments.length&&x.hasChildren()?this.processChildren(E,y,x):this.processSegment(E,y,x,x.segments,F)}processChildren(E,y,x){return(0,J.D)(Object.keys(x.children)).pipe($t(F=>{const q=x.children[F],ve=Wn(y,F);return this.processSegmentGroup(E,ve,q,F)}),Sn((F,q)=>F&&q?(F.push(...q),F):null),function on(w,E=!1){return y=>y.lift(new gt(w,E))}(F=>null!==F),wt(null),Bt(),(0,se.U)(F=>{if(null===F)return null;const q=Bn(F);return function Au(w){w.sort((E,y)=>E.value.outlet===hn?-1:y.value.outlet===hn?1:E.value.outlet.localeCompare(y.value.outlet))}(q),q}))}processSegment(E,y,x,F,q){return(0,J.D)(y).pipe($t(ve=>this.processSegmentAgainstRoute(ve._injector??E,ve,x,F,q)),Ut(ve=>!!ve),yn(ve=>{if(At(ve))return Ra(x,F,q)?(0,Z.of)([]):(0,Z.of)(null);throw ve}))}processSegmentAgainstRoute(E,y,x,F,q){if(y.redirectTo||!na(y,x,F,q))return(0,Z.of)(null);let ve;if("**"===y.path){const xe=F.length>0?wn(F).parameters:{},it=Pr(x)+F.length,Xt=new Gr(F,xe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ao(y),Ln(y),y.component??y._loadedComponent??null,y,sa(x),it,pr(y),it);ve=(0,Z.of)({snapshot:Xt,consumedSegments:[],remainingSegments:[]})}else ve=Ma(x,y,F,E).pipe((0,se.U)(({matched:xe,consumedSegments:it,remainingSegments:Xt,parameters:ir})=>{if(!xe)return null;const Jt=Pr(x)+it.length;return{snapshot:new Gr(it,ir,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ao(y),Ln(y),y.component??y._loadedComponent??null,y,sa(x),Jt,pr(y),Jt),consumedSegments:it,remainingSegments:Xt}}));return ve.pipe((0,ce.w)(xe=>{if(null===xe)return(0,Z.of)(null);const{snapshot:it,consumedSegments:Xt,remainingSegments:ir}=xe;E=y._injector??E;const Jt=y._loadedInjector??E,$r=function Br(w){return w.children?w.children:w.loadChildren?w._loadedRoutes:[]}(y),{segmentGroup:Ri,slicedSegments:Wi}=Vr(x,Xt,ir,$r.filter(qi=>void 0===qi.redirectTo),this.relativeLinkResolution);if(0===Wi.length&&Ri.hasChildren())return this.processChildren(Jt,$r,Ri).pipe((0,se.U)(qi=>null===qi?null:[new li(it,qi)]));if(0===$r.length&&0===Wi.length)return(0,Z.of)([new li(it,[])]);const is=Ln(y)===q;return this.processSegment(Jt,$r,Ri,Wi,is?hn:q).pipe((0,se.U)(qi=>null===qi?null:[new li(it,qi)]))}))}}function xu(w){const E=w.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function Bn(w){const E=[],y=new Set;for(const x of w){if(!xu(x)){E.push(x);continue}const F=E.find(q=>x.value.routeConfig===q.value.routeConfig);void 0!==F?(F.children.push(...x.children),y.add(F)):E.push(x)}for(const x of y){const F=Bn(x.children);E.push(new li(x.value,F))}return E.filter(x=>!y.has(x))}function sa(w){let E=w;for(;E._sourceSegment;)E=E._sourceSegment;return E}function Pr(w){let E=w,y=E._segmentIndexShift??0;for(;E._sourceSegment;)E=E._sourceSegment,y+=E._segmentIndexShift??0;return y-1}function Ao(w){return w.data||{}}function pr(w){return w.resolve||{}}function za(w){return"string"==typeof w.title||null===w.title}function fo(w){return(0,ce.w)(E=>{const y=w(E);return y?(0,J.D)(y).pipe((0,se.U)(()=>E)):(0,Z.of)(E)})}let uu=(()=>{class w{buildTitle(y){let x,F=y.root;for(;void 0!==F;)x=this.getResolvedTitleForRoute(F)??x,F=F.children.find(q=>q.outlet===hn);return x}getResolvedTitleForRoute(y){return y.data[Vn]}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=u.Yz7({token:w,factory:function(){return(0,u.f3M)(vs)},providedIn:"root"}),w})(),vs=(()=>{class w extends uu{constructor(y){super(),this.title=y}updateTitle(y){const x=this.buildTitle(y);void 0!==x&&this.title.setTitle(x)}}return w.\u0275fac=function(y){return new(y||w)(u.LFG(fr.Dx))},w.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class _a{}class po extends class _s{shouldDetach(E){return!1}store(E,y){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,y){return E.routeConfig===y.routeConfig}}{}const Uo=new u.OlP("",{providedIn:"root",factory:()=>({})}),eo=new u.OlP("ROUTES");let ot=(()=>{class w{constructor(y,x){this.injector=y,this.compiler=x,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,Z.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const x=Ce(y.loadComponent()).pipe((0,yt.b)(q=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=q}),tn(()=>{this.componentLoaders.delete(y)})),F=new Ye.c(x,()=>new Me.xQ).pipe((0,$n.x)());return this.componentLoaders.set(y,F),F}loadChildren(y,x){if(this.childrenLoaders.get(x))return this.childrenLoaders.get(x);if(x._loadedRoutes)return(0,Z.of)({routes:x._loadedRoutes,injector:x._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(x);const q=this.loadModuleFactoryOrRoutes(x.loadChildren).pipe((0,se.U)(xe=>{this.onLoadEndListener&&this.onLoadEndListener(x);let it,Xt,ir=!1;Array.isArray(xe)?Xt=xe:(it=xe.create(y).injector,Xt=Gt(it.get(eo,[],u.XFs.Self|u.XFs.Optional)));return{routes:Xt.map(Pn),injector:it}}),tn(()=>{this.childrenLoaders.delete(x)})),ve=new Ye.c(q,()=>new Me.xQ).pipe((0,$n.x)());return this.childrenLoaders.set(x,ve),ve}loadModuleFactoryOrRoutes(y){return Ce(y()).pipe((0,tt.zg)(x=>x instanceof u.YKP||Array.isArray(x)?(0,Z.of)(x):(0,J.D)(this.compiler.compileModuleAsync(x))))}}return w.\u0275fac=function(y){return new(y||w)(u.LFG(u.zs3),u.LFG(u.Sil))},w.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class Rs{}class rs{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,y){return E}}function qa(w){throw w}function jo(w,E,y){return E.parse("/")}const Nr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ba={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Na(){const w=(0,u.f3M)(Hn),E=(0,u.f3M)(Hs),y=(0,u.f3M)(Ge.Ye),x=(0,u.f3M)(u.zs3),F=(0,u.f3M)(u.Sil),q=(0,u.f3M)(eo,{optional:!0})??[],ve=(0,u.f3M)(Uo,{optional:!0})??{},xe=(0,u.f3M)(vs),it=(0,u.f3M)(uu,{optional:!0}),Xt=(0,u.f3M)(Rs,{optional:!0}),ir=(0,u.f3M)(_a,{optional:!0}),Jt=new zi(null,w,E,y,x,F,Gt(q));return Xt&&(Jt.urlHandlingStrategy=Xt),ir&&(Jt.routeReuseStrategy=ir),Jt.titleStrategy=it??xe,function zu(w,E){w.errorHandler&&(E.errorHandler=w.errorHandler),w.malformedUriErrorHandler&&(E.malformedUriErrorHandler=w.malformedUriErrorHandler),w.onSameUrlNavigation&&(E.onSameUrlNavigation=w.onSameUrlNavigation),w.paramsInheritanceStrategy&&(E.paramsInheritanceStrategy=w.paramsInheritanceStrategy),w.relativeLinkResolution&&(E.relativeLinkResolution=w.relativeLinkResolution),w.urlUpdateStrategy&&(E.urlUpdateStrategy=w.urlUpdateStrategy),w.canceledNavigationResolution&&(E.canceledNavigationResolution=w.canceledNavigationResolution)}(ve,Jt),Jt}let zi=(()=>{class w{constructor(y,x,F,q,ve,xe,it){this.rootComponentType=y,this.urlSerializer=x,this.rootContexts=F,this.location=q,this.config=it,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Me.xQ,this.errorHandler=qa,this.malformedUriErrorHandler=jo,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,Z.of)(void 0),this.urlHandlingStrategy=new rs,this.routeReuseStrategy=new po,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=ve.get(ot),this.configLoader.onLoadEndListener=$r=>this.triggerEvent(new br($r)),this.configLoader.onLoadStartListener=$r=>this.triggerEvent(new Ys($r)),this.ngModule=ve.get(u.h0i),this.console=ve.get(u.c2e);const Jt=ve.get(u.R0b);this.isNgZoneEnabled=Jt instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(it),this.currentUrlTree=function Te(){return new me(new _e([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=vr(this.currentUrlTree,this.rootComponentType),this.transitions=new Pe.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(y){const x=this.events;return y.pipe((0,Xe.h)(F=>0!==F.id),(0,se.U)(F=>({...F,extractedUrl:this.urlHandlingStrategy.extract(F.rawUrl)})),(0,ce.w)(F=>{let q=!1,ve=!1;return(0,Z.of)(F).pipe((0,yt.b)(xe=>{this.currentNavigation={id:xe.id,initialUrl:xe.rawUrl,extractedUrl:xe.extractedUrl,trigger:xe.source,extras:xe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ce.w)(xe=>{const it=this.browserUrlTree.toString(),Xt=!this.navigated||xe.extractedUrl.toString()!==it||it!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Xt)&&this.urlHandlingStrategy.shouldProcessUrl(xe.rawUrl))return Os(xe.source)&&(this.browserUrlTree=xe.extractedUrl),(0,Z.of)(xe).pipe((0,ce.w)(Jt=>{const $r=this.transitions.getValue();return x.next(new qs(Jt.id,this.serializeUrl(Jt.extractedUrl),Jt.source,Jt.restoredState)),$r!==this.transitions.getValue()?Ke.E:Promise.resolve(Jt)}),function va(w,E,y,x){return(0,ce.w)(F=>function ra(w,E,y,x,F){return new Gu(w,E,y,x,F).apply()}(w,E,y,F.extractedUrl,x).pipe((0,se.U)(q=>({...F,urlAfterRedirects:q}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,yt.b)(Jt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Jt.urlAfterRedirects},F.urlAfterRedirects=Jt.urlAfterRedirects}),function oa(w,E,y,x,F,q){return(0,tt.zg)(ve=>function ka(w,E,y,x,F,q,ve="emptyOnly",xe="legacy"){return new Pa(w,E,y,x,F,ve,xe,q).recognize().pipe((0,ce.w)(it=>null===it?function Tc(w){return new ae.y(E=>E.error(w))}(new ia):(0,Z.of)(it)))}(w,E,y,ve.urlAfterRedirects,x.serialize(ve.urlAfterRedirects),x,F,q).pipe((0,se.U)(xe=>({...ve,targetSnapshot:xe}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,yt.b)(Jt=>{if(F.targetSnapshot=Jt.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Jt.extras.skipLocationChange){const Ri=this.urlHandlingStrategy.merge(Jt.urlAfterRedirects,Jt.rawUrl);this.setBrowserUrl(Ri,Jt)}this.browserUrlTree=Jt.urlAfterRedirects}const $r=new ma(Jt.id,this.serializeUrl(Jt.extractedUrl),this.serializeUrl(Jt.urlAfterRedirects),Jt.targetSnapshot);x.next($r)}));if(Xt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:$r,extractedUrl:Ri,source:Wi,restoredState:is,extras:qi}=xe,_o=new qs($r,this.serializeUrl(Ri),Wi,is);x.next(_o);const mi=vr(Ri,this.rootComponentType).snapshot;return F={...xe,targetSnapshot:mi,urlAfterRedirects:Ri,extras:{...qi,skipLocationChange:!1,replaceUrl:!1}},(0,Z.of)(F)}return this.rawUrlTree=xe.rawUrl,xe.resolve(null),Ke.E}),(0,yt.b)(xe=>{const it=new Gi(xe.id,this.serializeUrl(xe.extractedUrl),this.serializeUrl(xe.urlAfterRedirects),xe.targetSnapshot);this.triggerEvent(it)}),(0,se.U)(xe=>F={...xe,guards:Xo(xe.targetSnapshot,xe.currentSnapshot,this.rootContexts)}),function On(w,E){return(0,tt.zg)(y=>{const{targetSnapshot:x,currentSnapshot:F,guards:{canActivateChecks:q,canDeactivateChecks:ve}}=y;return 0===ve.length&&0===q.length?(0,Z.of)({...y,guardsResult:!0}):function Ir(w,E,y,x){return(0,J.D)(w).pipe((0,tt.zg)(F=>function Ms(w,E,y,x,F){const q=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!q||0===q.length)return(0,Z.of)(!0);const ve=q.map(xe=>{const it=tr(E)??F,Xt=uo(xe,it);return Ce(function k(w){return w&&co(w.canDeactivate)}(Xt)?Xt.canDeactivate(w,E,y,x):it.runInContext(()=>Xt(w,E,y,x))).pipe(Ut())});return(0,Z.of)(ve).pipe(xn())}(F.component,F.route,y,E,x)),Ut(F=>!0!==F,!0))}(ve,x,F,w).pipe((0,tt.zg)(xe=>xe&&function xa(w){return"boolean"==typeof w}(xe)?function nr(w,E,y,x){return(0,J.D)(E).pipe($t(F=>(0,rt.z)(function zr(w,E){return null!==w&&E&&E(new $o(w)),(0,Z.of)(!0)}(F.route.parent,x),function xi(w,E){return null!==w&&E&&E(new ni(w)),(0,Z.of)(!0)}(F.route,x),function ea(w,E,y){const x=E[E.length-1],q=E.slice(0,E.length-1).reverse().map(ve=>function Aa(w){const E=w.routeConfig?w.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:w,guards:E}:null}(ve)).filter(ve=>null!==ve).map(ve=>(0,at.P)(()=>{const xe=ve.guards.map(it=>{const Xt=tr(ve.node)??y,ir=uo(it,Xt);return Ce(function j(w){return w&&co(w.canActivateChild)}(ir)?ir.canActivateChild(x,w):Xt.runInContext(()=>ir(x,w))).pipe(Ut())});return(0,Z.of)(xe).pipe(xn())}));return(0,Z.of)(q).pipe(xn())}(w,F.path,y),function pi(w,E,y){const x=E.routeConfig?E.routeConfig.canActivate:null;if(!x||0===x.length)return(0,Z.of)(!0);const F=x.map(q=>(0,at.P)(()=>{const ve=tr(E)??y,xe=uo(q,ve);return Ce(function M(w){return w&&co(w.canActivate)}(xe)?xe.canActivate(E,w):ve.runInContext(()=>xe(E,w))).pipe(Ut())}));return(0,Z.of)(F).pipe(xn())}(w,F.route,y))),Ut(F=>!0!==F,!0))}(x,q,w,E):(0,Z.of)(xe)),(0,se.U)(xe=>({...y,guardsResult:xe})))})}(this.ngModule.injector,xe=>this.triggerEvent(xe)),(0,yt.b)(xe=>{if(F.guardsResult=xe.guardsResult,ke(xe.guardsResult))throw Xs(0,xe.guardsResult);const it=new _i(xe.id,this.serializeUrl(xe.extractedUrl),this.serializeUrl(xe.urlAfterRedirects),xe.targetSnapshot,!!xe.guardsResult);this.triggerEvent(it)}),(0,Xe.h)(xe=>!!xe.guardsResult||(this.restoreHistory(xe),this.cancelNavigationTransition(xe,"",3),!1)),fo(xe=>{if(xe.guards.canActivateChecks.length)return(0,Z.of)(xe).pipe((0,yt.b)(it=>{const Xt=new hs(it.id,this.serializeUrl(it.extractedUrl),this.serializeUrl(it.urlAfterRedirects),it.targetSnapshot);this.triggerEvent(Xt)}),(0,ce.w)(it=>{let Xt=!1;return(0,Z.of)(it).pipe(function gi(w,E){return(0,tt.zg)(y=>{const{targetSnapshot:x,guards:{canActivateChecks:F}}=y;if(!F.length)return(0,Z.of)(y);let q=0;return(0,J.D)(F).pipe($t(ve=>function Kt(w,E,y,x){const F=w.routeConfig,q=w._resolve;return void 0!==F?.title&&!za(F)&&(q[Vn]=F.title),function aa(w,E,y,x){const F=function Bo(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===F.length)return(0,Z.of)({});const q={};return(0,J.D)(F).pipe((0,tt.zg)(ve=>function ys(w,E,y,x){const F=tr(E)??x,q=uo(w,F);return Ce(q.resolve?q.resolve(E,y):F.runInContext(()=>q(E,y)))}(w[ve],E,y,x).pipe(Ut(),(0,yt.b)(xe=>{q[ve]=xe}))),Mt(1),function Un(w){return E=>E.lift(new _r(w))}(q),yn(ve=>At(ve)?Ke.E:(0,Ot._)(ve)))}(q,w,E,x).pipe((0,se.U)(ve=>(w._resolvedData=ve,w.data=ps(w,y).resolve,F&&za(F)&&(w.data[Vn]=F.title),null)))}(ve.route,x,w,E)),(0,yt.b)(()=>q++),Mt(1),(0,tt.zg)(ve=>q===F.length?(0,Z.of)(y):Ke.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,yt.b)({next:()=>Xt=!0,complete:()=>{Xt||(this.restoreHistory(it),this.cancelNavigationTransition(it,"",2))}}))}),(0,yt.b)(it=>{const Xt=new ci(it.id,this.serializeUrl(it.extractedUrl),this.serializeUrl(it.urlAfterRedirects),it.targetSnapshot);this.triggerEvent(Xt)}))}),fo(xe=>{const it=Xt=>{const ir=[];Xt.routeConfig?.loadComponent&&!Xt.routeConfig._loadedComponent&&ir.push(this.configLoader.loadComponent(Xt.routeConfig).pipe((0,yt.b)(Jt=>{Xt.component=Jt}),(0,se.U)(()=>{})));for(const Jt of Xt.children)ir.push(...it(Jt));return ir};return $e(it(xe.targetSnapshot.root)).pipe(wt(),(0,ee.q)(1))}),fo(()=>this.afterPreactivation()),(0,se.U)(xe=>{const it=function Jr(w,E,y){const x=Fi(w,E._root,y?y._root:void 0);return new fs(x,E)}(this.routeReuseStrategy,xe.targetSnapshot,xe.currentRouterState);return F={...xe,targetRouterState:it}}),(0,yt.b)(xe=>{this.currentUrlTree=xe.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(xe.urlAfterRedirects,xe.rawUrl),this.routerState=xe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(xe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,xe),this.browserUrlTree=xe.urlAfterRedirects)}),((w,E,y)=>(0,se.U)(x=>(new hi(E,x.targetRouterState,x.currentRouterState,y).activate(w),x)))(this.rootContexts,this.routeReuseStrategy,xe=>this.triggerEvent(xe)),(0,yt.b)({next(){q=!0},complete(){q=!0}}),tn(()=>{q||ve||this.cancelNavigationTransition(F,"",1),this.currentNavigation?.id===F.id&&(this.currentNavigation=null)}),yn(xe=>{if(ve=!0,Us(xe)){Ki(xe)||(this.navigated=!0,this.restoreHistory(F,!0));const it=new Ti(F.id,this.serializeUrl(F.extractedUrl),xe.message,xe.cancellationCode);if(x.next(it),Ki(xe)){const Xt=this.urlHandlingStrategy.merge(xe.url,this.rawUrlTree),ir={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Os(F.source)};this.scheduleNavigation(Xt,"imperative",null,ir,{resolve:F.resolve,reject:F.reject,promise:F.promise})}else F.resolve(!1)}else{this.restoreHistory(F,!0);const it=new $s(F.id,this.serializeUrl(F.extractedUrl),xe,F.targetSnapshot??void 0);x.next(it);try{F.resolve(this.errorHandler(xe))}catch(Xt){F.reject(Xt)}}return Ke.E}))}))}resetRootComponentType(y){this.rootComponentType=y,this.routerState.root.component=this.rootComponentType}setTransition(y){this.transitions.next({...this.transitions.value,...y})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const x="popstate"===y.type?"popstate":"hashchange";"popstate"===x&&setTimeout(()=>{const F={replaceUrl:!0},q=y.state?.navigationId?y.state:null;if(q){const xe={...q};delete xe.navigationId,delete xe.\u0275routerPageId,0!==Object.keys(xe).length&&(F.state=xe)}const ve=this.parseUrl(y.url);this.scheduleNavigation(ve,x,q,F)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(y){this.events.next(y)}resetConfig(y){this.config=y.map(Pn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,x={}){const{relativeTo:F,queryParams:q,fragment:ve,queryParamsHandling:xe,preserveFragment:it}=x,Xt=F||this.routerState.root,ir=it?this.currentUrlTree.fragment:ve;let Jt=null;switch(xe){case"merge":Jt={...this.currentUrlTree.queryParams,...q};break;case"preserve":Jt=this.currentUrlTree.queryParams;break;default:Jt=q||null}return null!==Jt&&(Jt=this.removeEmptyProps(Jt)),_t(Xt,this.currentUrlTree,y,Jt,ir??null)}navigateByUrl(y,x={skipLocationChange:!1}){const F=ke(y)?y:this.parseUrl(y),q=this.urlHandlingStrategy.merge(F,this.rawUrlTree);return this.scheduleNavigation(q,"imperative",null,x)}navigate(y,x={skipLocationChange:!1}){return function hl(w){for(let E=0;E<w.length;E++){if(null==w[E])throw new u.vHH(4008,false)}}(y),this.navigateByUrl(this.createUrlTree(y,x),x)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let x;try{x=this.urlSerializer.parse(y)}catch(F){x=this.malformedUriErrorHandler(F,this.urlSerializer,y)}return x}isActive(y,x){let F;if(F=!0===x?{...Nr}:!1===x?{...ba}:x,ke(y))return Qt(this.currentUrlTree,y,F);const q=this.parseUrl(y);return Qt(this.currentUrlTree,q,F)}removeEmptyProps(y){return Object.keys(y).reduce((x,F)=>{const q=y[F];return null!=q&&(x[F]=q),x},{})}processNavigations(){this.navigations.subscribe(y=>{this.navigated=!0,this.lastSuccessfulId=y.id,this.currentPageId=y.targetPageId,this.events.next(new Hi(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),y.resolve(!0)},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}scheduleNavigation(y,x,F,q,ve){if(this.disposed)return Promise.resolve(!1);let xe,it,Xt;ve?(xe=ve.resolve,it=ve.reject,Xt=ve.promise):Xt=new Promise(($r,Ri)=>{xe=$r,it=Ri});const ir=++this.navigationId;let Jt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(F=this.location.getState()),Jt=F&&F.\u0275routerPageId?F.\u0275routerPageId:q.replaceUrl||q.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Jt=0,this.setTransition({id:ir,targetPageId:Jt,source:x,restoredState:F,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:y,extras:q,resolve:xe,reject:it,promise:Xt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Xt.catch($r=>Promise.reject($r))}setBrowserUrl(y,x){const F=this.urlSerializer.serialize(y),q={...x.extras.state,...this.generateNgRouterState(x.id,x.targetPageId)};this.location.isCurrentPathEqualTo(F)||x.extras.replaceUrl?this.location.replaceState(F,"",q):this.location.go(F,"",q)}restoreHistory(y,x=!1){if("computed"===this.canceledNavigationResolution){const F=this.currentPageId-y.targetPageId;"popstate"!==y.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===F?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===F&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(F)}else"replace"===this.canceledNavigationResolution&&(x&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(y,x,F){const q=new Ti(y.id,this.serializeUrl(y.extractedUrl),x,F);this.triggerEvent(q),y.resolve(!1)}generateNgRouterState(y,x){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:x}:{navigationId:y}}}return w.\u0275fac=function(y){u.$Z()},w.\u0275prov=u.Yz7({token:w,factory:function(){return Na()},providedIn:"root"}),w})();function Os(w){return"imperative"!==w}let cu=(()=>{class w{constructor(y,x,F,q,ve){this.router=y,this.route=x,this.tabIndexAttribute=F,this.renderer=q,this.el=ve,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Me.xQ,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(y){this._preserveFragment=(0,u.D6c)(y)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(y){this._skipLocationChange=(0,u.D6c)(y)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(y){this._replaceUrl=(0,u.D6c)(y)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(y){if(null!=this.tabIndexAttribute)return;const x=this.renderer,F=this.el.nativeElement;null!==y?x.setAttribute(F,"tabindex",y):x.removeAttribute(F,"tabindex")}ngOnChanges(y){this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return w.\u0275fac=function(y){return new(y||w)(u.Y36(zi),u.Y36(di),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},w.\u0275dir=u.lG2({type:w,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(y,x){1&y&&u.NdJ("click",function(){return x.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),w})();class ii{}let Li=(()=>{class w{preload(y,x){return x().pipe(yn(()=>(0,Z.of)(null)))}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),Ya=(()=>{class w{constructor(y,x,F,q,ve){this.router=y,this.injector=F,this.preloadingStrategy=q,this.loader=ve}setUpPreloading(){this.subscription=this.router.events.pipe((0,Xe.h)(y=>y instanceof Hi),$t(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,x){const F=[];for(const q of x){q.providers&&!q._injector&&(q._injector=(0,u.MMx)(q.providers,y,`Route: ${q.path}`));const ve=q._injector??y,xe=q._loadedInjector??ve;q.loadChildren&&!q._loadedRoutes&&void 0===q.canLoad||q.loadComponent&&!q._loadedComponent?F.push(this.preloadConfig(ve,q)):(q.children||q._loadedRoutes)&&F.push(this.processRoutes(xe,q.children??q._loadedRoutes))}return(0,J.D)(F).pipe((0,En.J)())}preloadConfig(y,x){return this.preloadingStrategy.preload(x,()=>{let F;F=x.loadChildren&&void 0===x.canLoad?this.loader.loadChildren(y,x):(0,Z.of)(null);const q=F.pipe((0,tt.zg)(ve=>null===ve?(0,Z.of)(void 0):(x._loadedRoutes=ve.routes,x._loadedInjector=ve.injector,this.processRoutes(ve.injector??y,ve.routes))));if(x.loadComponent&&!x._loadedComponent){const ve=this.loader.loadComponent(x);return(0,J.D)([q,ve]).pipe((0,En.J)())}return q})}}return w.\u0275fac=function(y){return new(y||w)(u.LFG(zi),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(ii),u.LFG(ot))},w.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const ua=new u.OlP("");let Fr=(()=>{class w{constructor(y,x,F={}){this.router=y,this.viewportScroller=x,this.options=F,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},F.scrollPositionRestoration=F.scrollPositionRestoration||"disabled",F.anchorScrolling=F.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(y=>{y instanceof qs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof Hi&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.router.parseUrl(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(y=>{y instanceof Ni&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,x){this.router.triggerEvent(new Ni(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,x))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return w.\u0275fac=function(y){u.$Z()},w.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac}),w})();function $i(w,E){return{\u0275kind:w,\u0275providers:E}}function Lr(w){return[{provide:eo,multi:!0,useValue:w}]}function du(){const w=(0,u.f3M)(u.zs3);return E=>{const y=w.get(u.z2F);if(E!==y.components[0])return;const x=w.get(zi),F=w.get(Ka);1===w.get(Go)&&x.initialNavigation(),w.get(to,null,u.XFs.Optional)?.setUpPreloading(),w.get(ua,null,u.XFs.Optional)?.init(),x.resetRootComponentType(y.componentTypes[0]),F.next(),F.complete()}}const Ka=new u.OlP("",{factory:()=>new Me.xQ}),Go=new u.OlP("",{providedIn:"root",factory:()=>1});const to=new u.OlP("");function qu(w){return $i(0,[{provide:to,useExisting:Ya},{provide:ii,useExisting:w}])}const mo=new u.OlP("ROUTER_FORROOT_GUARD"),yo=[Ge.Ye,{provide:Hn,useClass:ur},{provide:zi,useFactory:Na},Hs,{provide:di,useFactory:function lu(w){return w.routerState.root},deps:[zi]},ot];function zo(){return new u.PXZ("Router",zi)}let Za=(()=>{class w{constructor(y){}static forRoot(y,x){return{ngModule:w,providers:[yo,[],Lr(y),{provide:mo,useFactory:la,deps:[[zi,new u.FiY,new u.tp0]]},{provide:Uo,useValue:x||{}},x?.useHash?{provide:Ge.S$,useClass:Ge.Do}:{provide:Ge.S$,useClass:Ge.b0},{provide:ua,useFactory:()=>{const w=(0,u.f3M)(zi),E=(0,u.f3M)(Ge.EM),y=(0,u.f3M)(Uo);return y.scrollOffset&&E.setOffset(y.scrollOffset),new Fr(w,E,y)}},x?.preloadingStrategy?qu(x.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:zo},x?.initialNavigation?ks(x):[],[{provide:Ea,useFactory:du},{provide:u.tb,multi:!0,useExisting:Ea}]]}}static forChild(y){return{ngModule:w,providers:[Lr(y)]}}}return w.\u0275fac=function(y){return new(y||w)(u.LFG(mo,8))},w.\u0275mod=u.oAB({type:w}),w.\u0275inj=u.cJS({imports:[Es]}),w})();function la(w){return"guarded"}function ks(w){return["disabled"===w.initialNavigation?$i(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const E=(0,u.f3M)(zi);return()=>{E.setUpLocationChangeListener()}}},{provide:Go,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?$i(2,[{provide:Go,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:E=>{const y=E.get(Ge.V_,Promise.resolve());let x=!1;return()=>y.then(()=>new Promise(q=>{const ve=E.get(zi),xe=E.get(Ka);(function F(q){E.get(zi).events.pipe((0,Xe.h)(xe=>xe instanceof Hi||xe instanceof Ti||xe instanceof $s),(0,se.U)(xe=>xe instanceof Hi||xe instanceof Ti&&(0===xe.code||1===xe.code)&&null),(0,Xe.h)(xe=>null!==xe),(0,ee.q)(1)).subscribe(()=>{q()})})(()=>{q(!0),x=!0}),ve.afterPreactivation=()=>(q(!0),x||xe.closed?(0,Z.of)(void 0):xe),ve.initialNavigation()}))}}]).\u0275providers:[]]}const Ea=new u.OlP("")},5875:(en,st,B)=>{"use strict";B.d(st,{C6:()=>Ct,Jn:()=>Sn,KN:()=>sn,Mq:()=>ar,Xd:()=>Ut,ZF:()=>Yn,qX:()=>$t});var u=B(7036),J=B(6864),Z=B(6462),Pe=B(9330),Se=B(912);class re{constructor(vt){this.container=vt}getPlatformInfoString(){return this.container.getProviders().map(Gt=>{if(function W(jt){return"VERSION"===jt.getComponent()?.type}(Gt)){const wn=Gt.getImmediate();return`${wn.library}/${wn.version}`}return null}).filter(Gt=>Gt).join(" ")}}const we="@firebase/app",te=new Z.Yd("@firebase/app"),Ee="[DEFAULT]",He={[we]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ze=new Map,Be=new Map;function Ve(jt,vt){try{jt.container.addComponent(vt)}catch(Gt){te.debug(`Component ${vt.name} failed to register with FirebaseApp ${jt.name}`,Gt)}}function Ut(jt){const vt=jt.name;if(Be.has(vt))return te.debug(`There were multiple attempts to register component ${vt}.`),!1;Be.set(vt,jt);for(const Gt of ze.values())Ve(Gt,jt);return!0}function $t(jt,vt){const Gt=jt.container.getProvider("heartbeat").getImmediate({optional:!0});return Gt&&Gt.triggerHeartbeat(),jt.container.getProvider(vt)}const dn=new Pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class fn{constructor(vt,Gt,wn){this._isDeleted=!1,this._options=Object.assign({},vt),this._config=Object.assign({},Gt),this._name=Gt.name,this._automaticDataCollectionEnabled=Gt.automaticDataCollectionEnabled,this._container=wn,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(vt){this.checkDestroyed(),this._automaticDataCollectionEnabled=vt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(vt){this._isDeleted=vt}checkDestroyed(){if(this.isDeleted)throw dn.create("app-deleted",{appName:this._name})}}const Sn="9.14.0";function Yn(jt,vt={}){let Gt=jt;"object"!=typeof vt&&(vt={name:vt});const wn=Object.assign({name:Ee,automaticDataCollectionEnabled:!1},vt),In=wn.name;if("string"!=typeof In||!In)throw dn.create("bad-app-name",{appName:String(In)});if(Gt||(Gt=(0,Pe.aH)()),!Gt)throw dn.create("no-options");const an=ze.get(In);if(an){if((0,Pe.vZ)(Gt,an.options)&&(0,Pe.vZ)(wn,an.config))return an;throw dn.create("duplicate-app",{appName:In})}const Ce=new J.H0(In);for(const Te of Be.values())Ce.addComponent(Te);const Ie=new fn(Gt,wn,Ce);return ze.set(In,Ie),Ie}function ar(jt=Ee){const vt=ze.get(jt);if(!vt&&jt===Ee)return Yn();if(!vt)throw dn.create("no-app",{appName:jt});return vt}function Ct(){return Array.from(ze.values())}function sn(jt,vt,Gt){var wn;let In=null!==(wn=He[jt])&&void 0!==wn?wn:jt;Gt&&(In+=`-${Gt}`);const an=In.match(/\s|\//),Ce=vt.match(/\s|\//);if(an||Ce){const Ie=[`Unable to register library "${In}" with version "${vt}":`];return an&&Ie.push(`library name "${In}" contains illegal characters (whitespace or "/")`),an&&Ce&&Ie.push("and"),Ce&&Ie.push(`version name "${vt}" contains illegal characters (whitespace or "/")`),void te.warn(Ie.join(" "))}Ut(new J.wA(`${In}-version`,()=>({library:In,version:vt}),"VERSION"))}const Un="firebase-heartbeat-store";let _r=null;function qn(){return _r||(_r=(0,Se.X3)("firebase-heartbeat-database",1,{upgrade:(jt,vt)=>{0===vt&&jt.createObjectStore(Un)}}).catch(jt=>{throw dn.create("idb-open",{originalErrorMessage:jt.message})})),_r}function tn(){return(tn=(0,u.Z)(function*(jt){var vt;try{return(yield qn()).transaction(Un).objectStore(Un).get($n(jt))}catch(Gt){if(Gt instanceof Pe.ZR)te.warn(Gt.message);else{const wn=dn.create("idb-get",{originalErrorMessage:null===(vt=Gt)||void 0===vt?void 0:vt.message});te.warn(wn.message)}}})).apply(this,arguments)}function Rr(jt,vt){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,u.Z)(function*(jt,vt){var Gt;try{const In=(yield qn()).transaction(Un,"readwrite");return yield In.objectStore(Un).put(vt,$n(jt)),In.done}catch(wn){if(wn instanceof Pe.ZR)te.warn(wn.message);else{const In=dn.create("idb-set",{originalErrorMessage:null===(Gt=wn)||void 0===Gt?void 0:Gt.message});te.warn(In.message)}}})).apply(this,arguments)}function $n(jt){return`${jt.name}!${jt.options.appId}`}class hn{constructor(vt){this.container=vt,this._heartbeatsCache=null;const Gt=this.container.getProvider("app").getImmediate();this._storage=new Nn(Gt),this._heartbeatsCachePromise=this._storage.read().then(wn=>(this._heartbeatsCache=wn,wn))}triggerHeartbeat(){var vt=this;return(0,u.Z)(function*(){const wn=vt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),In=Vn();if(null===vt._heartbeatsCache&&(vt._heartbeatsCache=yield vt._heartbeatsCachePromise),vt._heartbeatsCache.lastSentHeartbeatDate!==In&&!vt._heartbeatsCache.heartbeats.some(an=>an.date===In))return vt._heartbeatsCache.heartbeats.push({date:In,agent:wn}),vt._heartbeatsCache.heartbeats=vt._heartbeatsCache.heartbeats.filter(an=>{const Ce=new Date(an.date).valueOf();return Date.now()-Ce<=2592e6}),vt._storage.overwrite(vt._heartbeatsCache)})()}getHeartbeatsHeader(){var vt=this;return(0,u.Z)(function*(){if(null===vt._heartbeatsCache&&(yield vt._heartbeatsCachePromise),null===vt._heartbeatsCache||0===vt._heartbeatsCache.heartbeats.length)return"";const Gt=Vn(),{heartbeatsToSend:wn,unsentEntries:In}=function jn(jt,vt=1024){const Gt=[];let wn=jt.slice();for(const In of jt){const an=Gt.find(Ce=>Ce.agent===In.agent);if(an){if(an.dates.push(In.date),Zr(Gt)>vt){an.dates.pop();break}}else if(Gt.push({agent:In.agent,dates:[In.date]}),Zr(Gt)>vt){Gt.pop();break}wn=wn.slice(1)}return{heartbeatsToSend:Gt,unsentEntries:wn}}(vt._heartbeatsCache.heartbeats),an=(0,Pe.L)(JSON.stringify({version:2,heartbeats:wn}));return vt._heartbeatsCache.lastSentHeartbeatDate=Gt,In.length>0?(vt._heartbeatsCache.heartbeats=In,yield vt._storage.overwrite(vt._heartbeatsCache)):(vt._heartbeatsCache.heartbeats=[],vt._storage.overwrite(vt._heartbeatsCache)),an})()}}function Vn(){return(new Date).toISOString().substring(0,10)}class Nn{constructor(vt){this.app=vt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,Pe.hl)()&&(0,Pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var vt=this;return(0,u.Z)(function*(){return(yield vt._canUseIndexedDBPromise)&&(yield function Wt(jt){return tn.apply(this,arguments)}(vt.app))||{heartbeats:[]}})()}overwrite(vt){var Gt=this;return(0,u.Z)(function*(){var wn;if(yield Gt._canUseIndexedDBPromise){const an=yield Gt.read();return Rr(Gt.app,{lastSentHeartbeatDate:null!==(wn=vt.lastSentHeartbeatDate)&&void 0!==wn?wn:an.lastSentHeartbeatDate,heartbeats:vt.heartbeats})}})()}add(vt){var Gt=this;return(0,u.Z)(function*(){var wn;if(yield Gt._canUseIndexedDBPromise){const an=yield Gt.read();return Rr(Gt.app,{lastSentHeartbeatDate:null!==(wn=vt.lastSentHeartbeatDate)&&void 0!==wn?wn:an.lastSentHeartbeatDate,heartbeats:[...an.heartbeats,...vt.heartbeats]})}})()}}function Zr(jt){return(0,Pe.L)(JSON.stringify({version:2,heartbeats:jt})).length}!function Tr(jt){Ut(new J.wA("platform-logger",vt=>new re(vt),"PRIVATE")),Ut(new J.wA("heartbeat",vt=>new hn(vt),"PRIVATE")),sn(we,"0.8.4",jt),sn(we,"0.8.4","esm2017"),sn("fire-js","")}("")},6864:(en,st,B)=>{"use strict";B.d(st,{H0:()=>we,wA:()=>Z});var u=B(7036),J=B(9330);class Z{constructor(te,Y,ye){this.name=te,this.instanceFactory=Y,this.type=ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const Pe="[DEFAULT]";class Se{constructor(te,Y){this.name=te,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const Y=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(Y)){const ye=new J.BH;if(this.instancesDeferred.set(Y,ye),this.isInitialized(Y)||this.shouldAutoInitialize())try{const ae=this.getOrInitializeService({instanceIdentifier:Y});ae&&ye.resolve(ae)}catch{}}return this.instancesDeferred.get(Y).promise}getImmediate(te){var Y;const ye=this.normalizeInstanceIdentifier(te?.identifier),ae=null!==(Y=te?.optional)&&void 0!==Y&&Y;if(!this.isInitialized(ye)&&!this.shouldAutoInitialize()){if(ae)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ye})}catch(pe){if(ae)return null;throw pe}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function W(fe){return"EAGER"===fe.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:Pe})}catch{}for(const[Y,ye]of this.instancesDeferred.entries()){const ae=this.normalizeInstanceIdentifier(Y);try{const pe=this.getOrInitializeService({instanceIdentifier:ae});ye.resolve(pe)}catch{}}}}clearInstance(te=Pe){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,u.Z)(function*(){const Y=Array.from(te.instances.values());yield Promise.all([...Y.filter(ye=>"INTERNAL"in ye).map(ye=>ye.INTERNAL.delete()),...Y.filter(ye=>"_delete"in ye).map(ye=>ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=Pe){return this.instances.has(te)}getOptions(te=Pe){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:Y={}}=te,ye=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(ye))throw Error(`${this.name}(${ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ae=this.getOrInitializeService({instanceIdentifier:ye,options:Y});for(const[pe,Fe]of this.instancesDeferred.entries())ye===this.normalizeInstanceIdentifier(pe)&&Fe.resolve(ae);return ae}onInit(te,Y){var ye;const ae=this.normalizeInstanceIdentifier(Y),pe=null!==(ye=this.onInitCallbacks.get(ae))&&void 0!==ye?ye:new Set;pe.add(te),this.onInitCallbacks.set(ae,pe);const Fe=this.instances.get(ae);return Fe&&te(Fe,ae),()=>{pe.delete(te)}}invokeOnInitCallbacks(te,Y){const ye=this.onInitCallbacks.get(Y);if(ye)for(const ae of ye)try{ae(te,Y)}catch{}}getOrInitializeService({instanceIdentifier:te,options:Y={}}){let ye=this.instances.get(te);if(!ye&&this.component&&(ye=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=te,fe===Pe?void 0:fe),options:Y}),this.instances.set(te,ye),this.instancesOptions.set(te,Y),this.invokeOnInitCallbacks(ye,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,ye)}catch{}var fe;return ye||null}normalizeInstanceIdentifier(te=Pe){return this.component?this.component.multipleInstances?te:Pe:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class we{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const Y=this.getProvider(te.name);if(Y.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);Y.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const Y=new Se(te,this);return this.providers.set(te,Y),Y}getProviders(){return Array.from(this.providers.values())}}},6462:(en,st,B)=>{"use strict";B.d(st,{Yd:()=>W,in:()=>J});const u=[];var J=(()=>{return(te=J||(J={}))[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",J;var te})();const Z={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},Pe=J.INFO,Se={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},re=(te,Y,...ye)=>{if(Y<te.logLevel)return;const ae=(new Date).toISOString(),pe=Se[Y];if(!pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[pe](`[${ae}]  ${te.name}:`,...ye)};class W{constructor(Y){this.name=Y,this._logLevel=Pe,this._logHandler=re,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in J))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?Z[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...Y),this._logHandler(this,J.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...Y),this._logHandler(this,J.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,J.INFO,...Y),this._logHandler(this,J.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,J.WARN,...Y),this._logHandler(this,J.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...Y),this._logHandler(this,J.ERROR,...Y)}}},912:(en,st,B)=>{"use strict";B.d(st,{Lj:()=>at,X3:()=>rt});var u=B(7036);let Z,Pe;const W=new WeakMap,we=new WeakMap,fe=new WeakMap,te=new WeakMap,Y=new WeakMap;let pe={get(Me,Ge,se){if(Me instanceof IDBTransaction){if("done"===Ge)return we.get(Me);if("objectStoreNames"===Ge)return Me.objectStoreNames||fe.get(Me);if("store"===Ge)return se.objectStoreNames[1]?void 0:se.objectStore(se.objectStoreNames[0])}return be(Me[Ge])},set:(Me,Ge,se)=>(Me[Ge]=se,!0),has:(Me,Ge)=>Me instanceof IDBTransaction&&("done"===Ge||"store"===Ge)||Ge in Me};function $e(Me){return"function"==typeof Me?function Ne(Me){return Me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function re(){return Pe||(Pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Me)?function(...Ge){return Me.apply(ht(this),Ge),be(W.get(this))}:function(...Ge){return be(Me.apply(ht(this),Ge))}:function(Ge,...se){const ce=Me.call(ht(this),Ge,...se);return fe.set(ce,Ge.sort?Ge.sort():[Ge]),be(ce)}}(Me):(Me instanceof IDBTransaction&&function ae(Me){if(we.has(Me))return;const Ge=new Promise((se,ce)=>{const ee=()=>{Me.removeEventListener("complete",le),Me.removeEventListener("error",Xe),Me.removeEventListener("abort",Xe)},le=()=>{se(),ee()},Xe=()=>{ce(Me.error||new DOMException("AbortError","AbortError")),ee()};Me.addEventListener("complete",le),Me.addEventListener("error",Xe),Me.addEventListener("abort",Xe)});we.set(Me,Ge)}(Me),((Me,Ge)=>Ge.some(se=>Me instanceof se))(Me,function Se(){return Z||(Z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Me,pe):Me)}function be(Me){if(Me instanceof IDBRequest)return function ye(Me){const Ge=new Promise((se,ce)=>{const ee=()=>{Me.removeEventListener("success",le),Me.removeEventListener("error",Xe)},le=()=>{se(be(Me.result)),ee()},Xe=()=>{ce(Me.error),ee()};Me.addEventListener("success",le),Me.addEventListener("error",Xe)});return Ge.then(se=>{se instanceof IDBCursor&&W.set(se,Me)}).catch(()=>{}),Y.set(Ge,Me),Ge}(Me);if(te.has(Me))return te.get(Me);const Ge=$e(Me);return Ge!==Me&&(te.set(Me,Ge),Y.set(Ge,Me)),Ge}const ht=Me=>Y.get(Me);function rt(Me,Ge,{blocked:se,upgrade:ce,blocking:ee,terminated:le}={}){const Xe=indexedDB.open(Me,Ge),tt=be(Xe);return ce&&Xe.addEventListener("upgradeneeded",wt=>{ce(be(Xe.result),wt.oldVersion,wt.newVersion,be(Xe.transaction))}),se&&Xe.addEventListener("blocked",()=>se()),tt.then(wt=>{le&&wt.addEventListener("close",()=>le()),ee&&wt.addEventListener("versionchange",()=>ee())}).catch(()=>{}),tt}function at(Me,{blocked:Ge}={}){const se=indexedDB.deleteDatabase(Me);return Ge&&se.addEventListener("blocked",()=>Ge()),be(se).then(()=>{})}const Dt=["get","getKey","getAll","getAllKeys","count"],Ot=["put","add","delete","clear"],Ke=new Map;function Ye(Me,Ge){if(!(Me instanceof IDBDatabase)||Ge in Me||"string"!=typeof Ge)return;if(Ke.get(Ge))return Ke.get(Ge);const se=Ge.replace(/FromIndex$/,""),ce=Ge!==se,ee=Ot.includes(se);if(!(se in(ce?IDBIndex:IDBObjectStore).prototype)||!ee&&!Dt.includes(se))return;const le=function(){var Xe=(0,u.Z)(function*(tt,...wt){const nt=this.transaction(tt,ee?"readwrite":"readonly");let Ee=nt.store;return ce&&(Ee=Ee.index(wt.shift())),(yield Promise.all([Ee[se](...wt),ee&&nt.done]))[0]});return function(wt){return Xe.apply(this,arguments)}}();return Ke.set(Ge,le),le}!function Fe(Me){pe=Me(pe)}(Me=>({...Me,get:(Ge,se,ce)=>Ye(Ge,se)||Me.get(Ge,se,ce),has:(Ge,se)=>!!Ye(Ge,se)||Me.has(Ge,se)}))},7036:(en,st,B)=>{"use strict";function u(Z,Pe,Se,re,W,we,fe){try{var te=Z[we](fe),Y=te.value}catch(ye){return void Se(ye)}te.done?Pe(Y):Promise.resolve(Y).then(re,W)}function J(Z){return function(){var Pe=this,Se=arguments;return new Promise(function(re,W){var we=Z.apply(Pe,Se);function fe(Y){u(we,re,W,fe,te,"next",Y)}function te(Y){u(we,re,W,fe,te,"throw",Y)}fe(void 0)})}}B.d(st,{Z:()=>J})}},en=>{en(en.s=7121)}]);